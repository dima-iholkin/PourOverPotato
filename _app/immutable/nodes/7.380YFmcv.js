import{s as me,a as Et,y as De,u as wt,g as Ct,b as Tt,r as Ge,n as be,z as Ze,e as Q,A as oe,t as yt,k as Ft,c as Vt,o as At}from"../chunks/scheduler.oXSsTagU.js";import{S as _e,i as he,e as T,c as k,a as S,d as m,y as c,g as D,q as L,o as $,k as U,s as N,m as z,f as M,x as Ee,n as G,h as g,D as ue,C as X,r as K,t as Z,b as x,j as Ke,A as ot,z as ze,E as ce,F as Qe,G as ct,H as Pt,v as Re,w as Ot,l as Lt}from"../chunks/index.R4ieXPpT.js";import{g as $t}from"../chunks/entry.kO0ICgCK.js";import{p as Rt}from"../chunks/stores.FA-OyKnF.js";import{k as Ht,h as jt,C as Ut,c as zt,j as Gt}from"../chunks/indexedDB.O9C-AmX6.js";import{n as We}from"../chunks/naming.kUvCv0xb.js";import{r as Kt}from"../chunks/routes.cWr1MGu-.js";import{e as dt}from"../chunks/each.CL_J9NQd.js";import{M as Wt}from"../chunks/MySidebar._zDGh5An.js";async function qt({url:n}){return{coffeeBeansName:n.searchParams.get("coffee_beans_name")}}const zn=Object.freeze(Object.defineProperty({__proto__:null,load:qt},Symbol.toStringTag,{value:"Module"}));function Xt(n){let e,t,l;const a=n[3].default,s=Et(a,n,n[2],null);return{c(){e=T("label"),s&&s.c(),this.h()},l(i){e=k(i,"LABEL",{for:!0,class:!0});var r=S(e);s&&s.l(r),r.forEach(m),this.h()},h(){c(e,"for",n[0]),c(e,"class",t=De(n[1]===!0?"valid":"invalid")+" svelte-1h34e55")},m(i,r){D(i,e,r),s&&s.m(e,null),l=!0},p(i,[r]){s&&s.p&&(!l||r&4)&&wt(s,a,i,i[2],l?Tt(a,i[2],r,null):Ct(i[2]),null),(!l||r&1)&&c(e,"for",i[0]),(!l||r&2&&t!==(t=De(i[1]===!0?"valid":"invalid")+" svelte-1h34e55"))&&c(e,"class",t)},i(i){l||(L(s,i),l=!0)},o(i){$(s,i),l=!1},d(i){i&&m(e),s&&s.d(i)}}}function Yt(n,e,t){let{$$slots:l={},$$scope:a}=e,{_for:s}=e,{valid:i=!0}=e;return n.$$set=r=>{"_for"in r&&t(0,s=r._for),"valid"in r&&t(1,i=r.valid),"$$scope"in r&&t(2,a=r.$$scope)},[s,i,a,l]}class ge extends _e{constructor(e){super(),he(this,e,Yt,Xt,me,{_for:0,valid:1})}}function Jt(n){let e;return{c(){e=Z(n[1])},l(t){e=x(t,n[1])},m(t,l){D(t,e,l)},p(t,l){l&2&&Ke(e,t[1])},d(t){t&&m(e)}}}function Qt(n){let e,t,l,a,s,i='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2" class="svelte-1srudln"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"></path></svg>',r,u,f,d,_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18" class="svelte-1srudln"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"></path></svg>',o,I,E;return t=new ge({props:{_for:n[2],$$slots:{default:[Jt]},$$scope:{ctx:n}}}),{c(){e=T("div"),U(t.$$.fragment),l=N(),a=T("div"),s=T("button"),s.innerHTML=i,r=N(),u=T("input"),f=N(),d=T("button"),d.innerHTML=_,this.h()},l(v){e=k(v,"DIV",{class:!0});var y=S(e);z(t.$$.fragment,y),l=M(y),a=k(y,"DIV",{class:!0});var F=S(a);s=k(F,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),Ee(s)!=="svelte-190kxkt"&&(s.innerHTML=i),r=M(F),u=k(F,"INPUT",{id:!0,name:!0,type:!0,class:!0}),f=M(F),d=k(F,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),Ee(d)!=="svelte-yebheu"&&(d.innerHTML=_),F.forEach(m),y.forEach(m),this.h()},h(){c(s,"type","button"),c(s,"id","decrement-button"),c(s,"class","minus-button svelte-1srudln"),c(u,"id",n[2]),c(u,"name",n[2]),c(u,"type","text"),c(u,"class","svelte-1srudln"),c(d,"type","button"),c(d,"id","increment-button"),c(d,"class","plus-button svelte-1srudln"),c(a,"class","input-container svelte-1srudln"),c(e,"class","container svelte-1srudln")},m(v,y){D(v,e,y),G(t,e,null),g(e,l),g(e,a),g(a,s),g(a,r),g(a,u),ue(u,n[0]),g(a,f),g(a,d),o=!0,I||(E=[X(s,"click",n[4]),X(u,"input",n[9]),X(u,"keydown",Zt),X(u,"focusout",n[3]),X(d,"click",n[5])],I=!0)},p(v,[y]){const F={};y&4&&(F._for=v[2]),y&2050&&(F.$$scope={dirty:y,ctx:v}),t.$set(F),(!o||y&4)&&c(u,"id",v[2]),(!o||y&4)&&c(u,"name",v[2]),y&1&&u.value!==v[0]&&ue(u,v[0])},i(v){o||(L(t.$$.fragment,v),o=!0)},o(v){$(t.$$.fragment,v),o=!1},d(v){v&&m(e),K(t),I=!1,Ge(E)}}}function Zt(n){const e=n.key;if((e<"0"||e>"9")&&e!=="."&&e!=="Backspace"&&e!=="Delete"&&e!=="ArrowLeft"&&e!=="ArrowRight"){n.preventDefault();return}}function xt(n,e,t){let{value:l=0}=e,{labelText:a=""}=e,{nameAttr:s=""}=e,{min:i=0}=e,{max:r=Number.MAX_SAFE_INTEGER}=e,{step:u=1}=e;function f(E){o(E.currentTarget.value)}function d(){o(l),l>=i+u&&t(0,l-=u)}function _(){o(l),l<=r-u&&t(0,l+=u)}function o(E){const v=Number(E);if(isNaN(v)){t(0,l=i);return}if(v>r){t(0,l=r);return}if(v<i){t(0,l=i);return}if(v%u!==0){t(0,l=Math.floor(v/u)*u);return}t(0,l=v)}function I(){l=this.value,t(0,l)}return n.$$set=E=>{"value"in E&&t(0,l=E.value),"labelText"in E&&t(1,a=E.labelText),"nameAttr"in E&&t(2,s=E.nameAttr),"min"in E&&t(6,i=E.min),"max"in E&&t(7,r=E.max),"step"in E&&t(8,u=E.step)},[l,a,s,f,d,_,i,r,u,I]}class mt extends _e{constructor(e){super(),he(this,e,xt,Qt,me,{value:0,labelText:1,nameAttr:2,min:6,max:7,step:8})}}function en(n){let e,t=`calc(${n[2]}rlh + 1rem)`,l,a;return{c(){e=T("textarea"),this.h()},l(s){e=k(s,"TEXTAREA",{id:!0,name:!0,placeholder:!0,class:!0}),S(e).forEach(m),this.h()},h(){c(e,"id",n[3]),c(e,"name",n[4]),c(e,"placeholder",n[5]),c(e,"class","svelte-rhjgm0"),ot(e,"height",t)},m(s,i){D(s,e,i),ue(e,n[0]),n[8](e),l||(a=[X(e,"input",n[7]),X(e,"keydown",n[6])],l=!0)},p(s,[i]){i&8&&c(e,"id",s[3]),i&16&&c(e,"name",s[4]),i&32&&c(e,"placeholder",s[5]),i&1&&ue(e,s[0]),i&4&&t!==(t=`calc(${s[2]}rlh + 1rem)`)&&ot(e,"height",t)},i:be,o:be,d(s){s&&m(e),n[8](null),l=!1,Ge(a)}}}function tn(n,e,t){let{id:l=""}=e,{name:a=""}=e,{value:s=""}=e,{placeholder:i=""}=e,{_this:r=void 0}=e,{textLinesCount:u=2}=e;u===1&&(u=1.2);function f(o){Ze.call(this,n,o)}function d(){s=this.value,t(0,s)}function _(o){Q[o?"unshift":"push"](()=>{r=o,t(1,r)})}return n.$$set=o=>{"id"in o&&t(3,l=o.id),"name"in o&&t(4,a=o.name),"value"in o&&t(0,s=o.value),"placeholder"in o&&t(5,i=o.placeholder),"_this"in o&&t(1,r=o._this),"textLinesCount"in o&&t(2,u=o.textLinesCount)},[s,r,u,l,a,i,f,d,_]}class He extends _e{constructor(e){super(),he(this,e,tn,en,me,{id:3,name:4,value:0,placeholder:5,_this:1,textLinesCount:2})}}function we(n,e,t){const l=xe(n,e);localStorage.setItem(l,t)}function Ce(n,e,t){const l=xe(n,e),a=localStorage.getItem(l);if(a===null)return null;if(t==="number"){const s=Number.parseFloat(a);return Number.isNaN(s)?null:s}return a}function Te(n,e){const t=xe(n,e);localStorage.removeItem(t)}function xe(n,e){return`form_${n}_${e}`}function nn(n){let e,t='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=T("button"),e.innerHTML=t,this.h()},l(s){e=k(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-dn7wzr"&&(e.innerHTML=t),this.h()},h(){c(e,"type","button"),c(e,"class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 inline-flex items-center svelte-4e6mwz"),ze(e,"my-hidden",n[0])},m(s,i){D(s,e,i),l||(a=X(e,"click",n[1]),l=!0)},p(s,[i]){i&1&&ze(e,"my-hidden",s[0])},i:be,o:be,d(s){s&&m(e),l=!1,a()}}}function sn(n,e,t){let{hidden:l=!1}=e;function a(s){Ze.call(this,n,s)}return n.$$set=s=>{"hidden"in s&&t(0,l=s.hidden)},[l,a]}class _t extends _e{constructor(e){super(),he(this,e,sn,nn,me,{hidden:0})}}function ln(n){let e,t,l,a,s,i,r;t=new _t({props:{hidden:!0}});const u=n[1].default,f=Et(u,n,n[0],null);return i=new _t({}),i.$on("click",n[2]),{c(){e=T("div"),U(t.$$.fragment),l=N(),a=T("h1"),f&&f.c(),s=N(),U(i.$$.fragment),this.h()},l(d){e=k(d,"DIV",{class:!0});var _=S(e);z(t.$$.fragment,_),l=M(_),a=k(_,"H1",{class:!0});var o=S(a);f&&f.l(o),o.forEach(m),s=M(_),z(i.$$.fragment,_),_.forEach(m),this.h()},h(){c(a,"class","svelte-9jjdxr"),c(e,"class","svelte-9jjdxr")},m(d,_){D(d,e,_),G(t,e,null),g(e,l),g(e,a),f&&f.m(a,null),g(e,s),G(i,e,null),r=!0},p(d,[_]){f&&f.p&&(!r||_&1)&&wt(f,u,d,d[0],r?Tt(u,d[0],_,null):Ct(d[0]),null)},i(d){r||(L(t.$$.fragment,d),L(f,d),L(i.$$.fragment,d),r=!0)},o(d){$(t.$$.fragment,d),$(f,d),$(i.$$.fragment,d),r=!1},d(d){d&&m(e),K(t),f&&f.d(d),K(i)}}}function an(n,e,t){let{$$slots:l={},$$scope:a}=e;function s(i){Ze.call(this,n,i)}return n.$$set=i=>{"$$scope"in i&&t(0,a=i.$$scope)},[a,l,s]}class rn extends _e{constructor(e){super(),he(this,e,an,ln,me,{})}}function un(n){let e;return{c(){e=Z("Add new coffee beans")},l(t){e=x(t,"Add new coffee beans")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function fn(n){let e;return{c(){e=Z("Coffee beans name:")},l(t){e=x(t,"Coffee beans name:")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function on(n){let e;return{c(){e=Z("Description:")},l(t){e=x(t,"Description:")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function cn(n){let e,t,l='<span class="material-icons md-18">add</span>',a,s,i,r,u,f,d,_,o,I,E,v,y,F,R,O,J,p,b,B,H,V,ie,de,re,W,pe="Save",w,se,ee;i=new Wt({props:{asGap:!0}}),f=new rn({props:{$$slots:{default:[un]},$$scope:{ctx:n}}}),f.$on("click",n[21]),I=new ge({props:{_for:"name",valid:!n[0],$$slots:{default:[fn]},$$scope:{ctx:n}}}),B=new ge({props:{_for:"description",$$slots:{default:[on]},$$scope:{ctx:n}}});function Ne(C){n[24](C)}function ve(C){n[25](C)}let le={id:"description",name:"description",placeholder:dn};return n[8]!==void 0&&(le.value=n[8]),n[5]!==void 0&&(le._this=n[5]),V=new He({props:le}),Q.push(()=>ce(V,"value",Ne)),Q.push(()=>ce(V,"_this",ve)),V.$on("keydown",n[14]),{c(){e=N(),t=T("button"),t.innerHTML=l,a=N(),s=T("div"),U(i.$$.fragment),r=N(),u=T("div"),U(f.$$.fragment),d=N(),_=T("form"),o=T("div"),U(I.$$.fragment),E=N(),v=T("input"),R=N(),O=T("p"),J=Z(n[9]),p=N(),b=T("div"),U(B.$$.fragment),H=N(),U(V.$$.fragment),re=N(),W=T("button"),W.textContent=pe,this.h()},l(C){e=M(C),t=k(C,"BUTTON",{class:!0,"data-svelte-h":!0}),Ee(t)!=="svelte-t1it6n"&&(t.innerHTML=l),a=M(C),s=k(C,"DIV",{class:!0});var A=S(s);z(i.$$.fragment,A),r=M(A),u=k(A,"DIV",{class:!0});var te=S(u);z(f.$$.fragment,te),d=M(te),_=k(te,"FORM",{class:!0});var q=S(_);o=k(q,"DIV",{class:!0});var ae=S(o);z(I.$$.fragment,ae),E=M(ae),v=k(ae,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),R=M(ae),O=k(ae,"P",{class:!0});var fe=S(O);J=x(fe,n[9]),fe.forEach(m),ae.forEach(m),p=M(q),b=k(q,"DIV",{class:!0});var ne=S(b);z(B.$$.fragment,ne),H=M(ne),z(V.$$.fragment,ne),ne.forEach(m),re=M(q),W=k(q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Ee(W)!=="svelte-35eee"&&(W.textContent=pe),q.forEach(m),te.forEach(m),A.forEach(m),this.h()},h(){c(t,"class","button-add svelte-96cbj4"),c(v,"type","text"),c(v,"id","name"),c(v,"name","name"),c(v,"class",y=De(n[0]?"input-name-validation-failed":"input-name")+" svelte-96cbj4"),c(v,"placeholder",F=n[0]?"":"Example: Rwanda Mabanza"),c(O,"class","mt-2 text-sm text-red-600 dark:text-red-500"),c(o,"class","mb-5"),c(b,"class","my-div mb-5 svelte-96cbj4"),c(W,"type","submit"),c(W,"class","button-submit svelte-96cbj4"),c(_,"class","max-w-sm mx-auto"),c(u,"class","inner-container svelte-96cbj4"),c(s,"class","modal-container svelte-96cbj4"),ze(s,"show-modal",n[1])},m(C,A){D(C,e,A),D(C,t,A),n[20](t),D(C,a,A),D(C,s,A),G(i,s,null),g(s,r),g(s,u),G(f,u,null),g(u,d),g(u,_),g(_,o),G(I,o,null),g(o,E),g(o,v),ue(v,n[7]),n[23](v),g(o,R),g(o,O),g(O,J),g(_,p),g(_,b),G(B,b,null),g(b,H),G(V,b,null),g(_,re),g(_,W),n[26](_),n[27](u),w=!0,se||(ee=[X(window,"keydown",n[12]),X(document,"click",n[17]),X(t,"click",Qe(n[19])),X(v,"input",n[22]),X(v,"input",n[16]),X(v,"keydown",n[13]),X(_,"submit",Qe(n[15]))],se=!0)},p(C,[A]){const te={};A&268435456&&(te.$$scope={dirty:A,ctx:C}),f.$set(te);const q={};A&1&&(q.valid=!C[0]),A&268435456&&(q.$$scope={dirty:A,ctx:C}),I.$set(q),(!w||A&1&&y!==(y=De(C[0]?"input-name-validation-failed":"input-name")+" svelte-96cbj4"))&&c(v,"class",y),(!w||A&1&&F!==(F=C[0]?"":"Example: Rwanda Mabanza"))&&c(v,"placeholder",F),A&128&&v.value!==C[7]&&ue(v,C[7]),(!w||A&512)&&Ke(J,C[9]);const ae={};A&268435456&&(ae.$$scope={dirty:A,ctx:C}),B.$set(ae);const fe={};!ie&&A&256&&(ie=!0,fe.value=C[8],oe(()=>ie=!1)),!de&&A&32&&(de=!0,fe._this=C[5],oe(()=>de=!1)),V.$set(fe),(!w||A&2)&&ze(s,"show-modal",C[1])},i(C){w||(L(i.$$.fragment,C),L(f.$$.fragment,C),L(I.$$.fragment,C),L(B.$$.fragment,C),L(V.$$.fragment,C),w=!0)},o(C){$(i.$$.fragment,C),$(f.$$.fragment,C),$(I.$$.fragment,C),$(B.$$.fragment,C),$(V.$$.fragment,C),w=!1},d(C){C&&(m(e),m(t),m(a),m(s)),n[20](null),K(i),K(f),K(I),n[23](null),K(B),K(V),n[26](null),n[27](null),se=!1,Ge(ee)}}}const dn="Example: Washed process. Notes: plum, cherry.";function ht(n,e){const t=n.getBoundingClientRect();let l=e.clientX,a=e.clientY;return l<t.left||l>t.right||a<t.top||a>t.bottom}function mn(n,e,t){let{savedCoffeeBeans:l=void 0}=e,a=!1,s,i,r,u,f,d="",_="",o=!1,I="";function E(){t(1,a=!0),yt().then(()=>{r.focus()})}function v(){t(1,a=!1),t(0,o=!1)}function y(w){a&&w.key==="Escape"&&t(1,a=!1)}function F(w){w.key==="Enter"&&(w.preventDefault(),u.focus())}function R(w){w.key==="Enter"&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),f.requestSubmit())}async function O(w){const se=Ht.create({name:d,description:_});if(se==="ValidationFailed_NameMustBeAtLeast3CharsLong"){t(0,o=!0),t(9,I="Name must be at least 3 characters long.");return}const ee=await jt(se);if(ee==="Failure_NameAlreadyExist"){t(0,o=!0),t(9,I="Coffee beans with this name exist already.");return}alert("New coffee beans saved successfully."),t(18,l=ee),v(),t(7,d=""),t(8,_="")}function J(w){o&&(t(0,o=!1),t(9,I=""))}function p(w){a!==!1&&ht(s,w)&&ht(i,w)&&v()}const b=()=>E();function B(w){Q[w?"unshift":"push"](()=>{i=w,t(3,i)})}const H=()=>v();function V(){d=this.value,t(7,d)}function ie(w){Q[w?"unshift":"push"](()=>{r=w,t(4,r)})}function de(w){_=w,t(8,_)}function re(w){u=w,t(5,u)}function W(w){Q[w?"unshift":"push"](()=>{f=w,t(6,f)})}function pe(w){Q[w?"unshift":"push"](()=>{s=w,t(2,s)})}return n.$$set=w=>{"savedCoffeeBeans"in w&&t(18,l=w.savedCoffeeBeans)},n.$$.update=()=>{n.$$.dirty&1&&o===!1&&t(9,I="")},[o,a,s,i,r,u,f,d,_,I,E,v,y,F,R,O,J,p,l,b,B,H,V,ie,de,re,W,pe]}class _n extends _e{constructor(e){super(),he(this,e,mn,cn,me,{savedCoffeeBeans:18})}}function pt(n,e,t){const l=n.slice();return l[9]=e[t],l}function hn(n){let e;return{c(){e=Z("Coffee beans:")},l(t){e=x(t,"Coffee beans:")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function pn(n){let e,t="Loading coffee beans...";return{c(){e=T("option"),e.textContent=t,this.h()},l(l){e=k(l,"OPTION",{"data-svelte-h":!0}),Ee(e)!=="svelte-1sf778f"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",ue(e,e.__value)},m(l,a){D(l,e,a)},p:be,d(l){l&&m(e)}}}function vn(n){let e,t,l=n[1]===void 0&&vt(),a=dt(n[2]),s=[];for(let i=0;i<a.length;i+=1)s[i]=gt(pt(n,a,i));return{c(){l&&l.c(),e=Re();for(let i=0;i<s.length;i+=1)s[i].c();t=Re()},l(i){l&&l.l(i),e=Re();for(let r=0;r<s.length;r+=1)s[r].l(i);t=Re()},m(i,r){l&&l.m(i,r),D(i,e,r);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,r);D(i,t,r)},p(i,r){if(i[1]===void 0?l||(l=vt(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),r&6){a=dt(i[2]);let u;for(u=0;u<a.length;u+=1){const f=pt(i,a,u);s[u]?s[u].p(f,r):(s[u]=gt(f),s[u].c(),s[u].m(t.parentNode,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=a.length}},d(i){i&&(m(e),m(t)),l&&l.d(i),Ot(s,i)}}}function vt(n){let e;return{c(){e=T("option"),this.h()},l(t){e=k(t,"OPTION",{}),S(e).forEach(m),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",ue(e,e.__value)},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function gt(n){let e,t=n[9].name+"",l,a,s;return{c(){e=T("option"),l=Z(t),this.h()},l(i){e=k(i,"OPTION",{});var r=S(e);l=x(r,t),r.forEach(m),this.h()},h(){var i;e.selected=a=((i=n[1])==null?void 0:i.id)===n[9].id,e.__value=s=n[9].id,ue(e,e.__value)},m(i,r){D(i,e,r),g(e,l)},p(i,r){var u;r&4&&t!==(t=i[9].name+"")&&Ke(l,t),r&6&&a!==(a=((u=i[1])==null?void 0:u.id)===i[9].id)&&(e.selected=a),r&4&&s!==(s=i[9].id)&&(e.__value=s,ue(e,e.__value))},d(i){i&&m(e)}}}function gn(n){let e,t,l,a,s,i,r,u,f,d,_,o,I,E,v,y;t=new ge({props:{_for:Xe,valid:!n[0],$$slots:{default:[hn]},$$scope:{ctx:n}}});function F(b,B){return b[2]!==void 0?vn:pn}let R=F(n),O=R(n);function J(b){n[8](b)}let p={};return n[4]!==void 0&&(p.savedCoffeeBeans=n[4]),f=new _n({props:p}),Q.push(()=>ce(f,"savedCoffeeBeans",J)),{c(){e=T("div"),U(t.$$.fragment),l=N(),a=T("div"),s=T("select"),O.c(),u=N(),U(f.$$.fragment),_=N(),o=T("p"),I=Z(n[5]),this.h()},l(b){e=k(b,"DIV",{class:!0});var B=S(e);z(t.$$.fragment,B),l=M(B),a=k(B,"DIV",{class:!0});var H=S(a);s=k(H,"SELECT",{name:!0,id:!0,class:!0});var V=S(s);O.l(V),V.forEach(m),u=M(H),z(f.$$.fragment,H),H.forEach(m),B.forEach(m),_=M(b),o=k(b,"P",{class:!0});var ie=S(o);I=x(ie,n[5]),ie.forEach(m),this.h()},h(){c(s,"name",Xe),c(s,"id",Xe),c(s,"class",i=De(n[0]?"invalid":"valid")+" svelte-cut39x"),s.disabled=r=n[2]===void 0,n[3]===void 0&&Ft(()=>n[7].call(s)),c(a,"class","select-container svelte-cut39x"),c(e,"class","container svelte-cut39x"),c(o,"class","mt-2 text-sm text-red-600 dark:text-red-500")},m(b,B){D(b,e,B),G(t,e,null),g(e,l),g(e,a),g(a,s),O.m(s,null),ct(s,n[3],!0),g(a,u),G(f,a,null),D(b,_,B),D(b,o,B),g(o,I),E=!0,v||(y=[X(s,"change",n[6]),X(s,"change",n[7])],v=!0)},p(b,[B]){const H={};B&1&&(H.valid=!b[0]),B&4096&&(H.$$scope={dirty:B,ctx:b}),t.$set(H),R===(R=F(b))&&O?O.p(b,B):(O.d(1),O=R(b),O&&(O.c(),O.m(s,null))),(!E||B&1&&i!==(i=De(b[0]?"invalid":"valid")+" svelte-cut39x"))&&c(s,"class",i),(!E||B&4&&r!==(r=b[2]===void 0))&&(s.disabled=r),B&12&&ct(s,b[3]);const V={};!d&&B&16&&(d=!0,V.savedCoffeeBeans=b[4],oe(()=>d=!1)),f.$set(V),(!E||B&32)&&Ke(I,b[5])},i(b){E||(L(t.$$.fragment,b),L(f.$$.fragment,b),E=!0)},o(b){$(t.$$.fragment,b),$(f.$$.fragment,b),E=!1},d(b){b&&(m(e),m(_),m(o)),K(t),O.d(),K(f),v=!1,Ge(y)}}}const Xe="coffee-beans";function bn(n,e,t){let{allCoffeeBeans:l}=e,{selectedCoffeeBeans:a}=e,{validationFailed:s=!1}=e,i=a==null?void 0:a.id,r,u="";function f(o){s&&t(0,s=!1),t(4,r=void 0)}function d(){i=Pt(this),t(3,i),t(2,l)}function _(o){r=o,t(4,r)}return n.$$set=o=>{"allCoffeeBeans"in o&&t(2,l=o.allCoffeeBeans),"selectedCoffeeBeans"in o&&t(1,a=o.selectedCoffeeBeans),"validationFailed"in o&&t(0,s=o.validationFailed)},n.$$.update=()=>{n.$$.dirty&12&&t(1,a=l==null?void 0:l.find(o=>o.id===i)),n.$$.dirty&20&&r instanceof Ut&&((l==null?void 0:l.find(o=>o.id===(r==null?void 0:r.id)))===void 0&&(l==null||l.push(r)),t(1,a=r),t(0,s=!1)),n.$$.dirty&1&&(s?t(5,u="Please select a coffee beans."):t(5,u=""))},[s,a,l,i,r,u,f,d,_]}class En extends _e{constructor(e){super(),he(this,e,bn,gn,me,{allCoffeeBeans:2,selectedCoffeeBeans:1,validationFailed:0})}}function wn(n){let e;return{c(){e=Z("Timestamp:")},l(t){e=x(t,"Timestamp:")},m(t,l){D(t,e,l)},d(t){t&&m(e)}}}function Cn(n){let e,t,l,a,s,i,r;return t=new ge({props:{_for:Ye,$$slots:{default:[wn]},$$scope:{ctx:n}}}),{c(){e=T("div"),U(t.$$.fragment),l=N(),a=T("input"),this.h()},l(u){e=k(u,"DIV",{class:!0});var f=S(e);z(t.$$.fragment,f),l=M(f),a=k(f,"INPUT",{name:!0,id:!0,type:!0,class:!0}),f.forEach(m),this.h()},h(){c(a,"name",Ye),c(a,"id",Ye),c(a,"type","datetime-local"),c(a,"class","svelte-12fyfgt"),c(e,"class","container svelte-12fyfgt")},m(u,f){D(u,e,f),G(t,e,null),g(e,l),g(e,a),ue(a,n[0]),s=!0,i||(r=X(a,"input",n[1]),i=!0)},p(u,[f]){const d={};f&4&&(d.$$scope={dirty:f,ctx:u}),t.$set(d),f&1&&ue(a,u[0])},i(u){s||(L(t.$$.fragment,u),s=!0)},o(u){$(t.$$.fragment,u),s=!1},d(u){u&&m(e),K(t),i=!1,r()}}}const Ye="timestamp";function Tn(n,e,t){let{value:l}=e;function a(){l=this.value,t(0,l)}return n.$$set=s=>{"value"in s&&t(0,l=s.value)},[l,a]}class kn extends _e{constructor(e){super(),he(this,e,Tn,Cn,me,{value:0})}}function bt(n){const e=n.getTimezoneOffset()*6e4;return new Date(n.getTime()-e).toISOString().slice(0,-8)}function Bn(n){const e=Date.parse(n);return new Date(e)}function In(n){let e=We.recipe.recipeTarget+"",t,l;return{c(){t=Z(e),l=Z(":")},l(a){t=x(a,e),l=x(a,":")},m(a,s){D(a,t,s),D(a,l,s)},p:be,d(a){a&&(m(t),m(l))}}}function Dn(n){let e=We.recipe.recipeResult+"",t,l;return{c(){t=Z(e),l=Z(":")},l(a){t=x(a,e),l=x(a,":")},m(a,s){D(a,t,s),D(a,l,s)},p:be,d(a){a&&(m(t),m(l))}}}function Nn(n){let e=We.recipe.recipeThoughts+"",t,l;return{c(){t=Z(e),l=Z(":")},l(a){t=x(a,e),l=x(a,":")},m(a,s){D(a,t,s),D(a,l,s)},p:be,d(a){a&&(m(t),m(l))}}}function Mn(n){let e,t,l="Add recipe",a,s,i,r,u,f,d,_,o,I,E,v,y,F,R,O,J,p,b,B,H,V,ie,de,re,W,pe,w,se,ee,Ne,ve,le,C,A,te,q,ae,fe,ne,et="Save",$e,qe,tt;function kt(h){n[10](h)}let nt={allCoffeeBeans:n[6],validationFailed:n[7]};n[0]!==void 0&&(nt.selectedCoffeeBeans=n[0]),r=new En({props:nt}),Q.push(()=>ce(r,"selectedCoffeeBeans",kt)),_=new ge({props:{_for:ke,$$slots:{default:[In]},$$scope:{ctx:n}}});function Bt(h){n[11](h)}let st={name:ke,id:ke,placeholder:Sn};n[1]!==void 0&&(st.value=n[1]),E=new He({props:st}),Q.push(()=>ce(E,"value",Bt)),R=new ge({props:{_for:Be,$$slots:{default:[Dn]},$$scope:{ctx:n}}});function It(h){n[12](h)}let lt={name:Be,id:Be,placeholder:yn};n[2]!==void 0&&(lt.value=n[2]),p=new He({props:lt}),Q.push(()=>ce(p,"value",It));function Dt(h){n[13](h)}let at={labelText:We.recipe.outWeight+" (g):",min:0,step:5,nameAttr:je};n[4]!==void 0&&(at.value=n[4]),V=new mt({props:at}),Q.push(()=>ce(V,"value",Dt));function Nt(h){n[14](h)}let it={labelText:"Rating:",min:0,max:5,step:.5,nameAttr:Ue};n[5]!==void 0&&(it.value=n[5]),W=new mt({props:it}),Q.push(()=>ce(W,"value",Nt)),ee=new ge({props:{_for:Ie,$$slots:{default:[Nn]},$$scope:{ctx:n}}});function Mt(h){n[15](h)}let rt={name:Ie,id:Ie,placeholder:Fn,textLinesCount:4};n[3]!==void 0&&(rt.value=n[3]),le=new He({props:rt}),Q.push(()=>ce(le,"value",Mt));function St(h){n[16](h)}let ut={};return n[8]!==void 0&&(ut.value=n[8]),q=new kn({props:ut}),Q.push(()=>ce(q,"value",St)),{c(){e=N(),t=T("h1"),t.textContent=l,a=N(),s=T("form"),i=T("div"),U(r.$$.fragment),f=N(),d=T("div"),U(_.$$.fragment),o=N(),I=T("div"),U(E.$$.fragment),y=N(),F=T("div"),U(R.$$.fragment),O=N(),J=T("div"),U(p.$$.fragment),B=N(),H=T("div"),U(V.$$.fragment),de=N(),re=T("div"),U(W.$$.fragment),w=N(),se=T("div"),U(ee.$$.fragment),Ne=N(),ve=T("div"),U(le.$$.fragment),A=N(),te=T("div"),U(q.$$.fragment),fe=N(),ne=T("button"),ne.textContent=et,this.h()},l(h){Lt("svelte-1rtnd68",document.head).forEach(m),e=M(h),t=k(h,"H1",{class:!0,"data-svelte-h":!0}),Ee(t)!=="svelte-jnfgxb"&&(t.textContent=l),a=M(h),s=k(h,"FORM",{id:!0});var P=S(s);i=k(P,"DIV",{class:!0});var Me=S(i);z(r.$$.fragment,Me),Me.forEach(m),f=M(P),d=k(P,"DIV",{class:!0});var Se=S(d);z(_.$$.fragment,Se),Se.forEach(m),o=M(P),I=k(P,"DIV",{class:!0});var ye=S(I);z(E.$$.fragment,ye),ye.forEach(m),y=M(P),F=k(P,"DIV",{class:!0});var Fe=S(F);z(R.$$.fragment,Fe),Fe.forEach(m),O=M(P),J=k(P,"DIV",{class:!0});var Ve=S(J);z(p.$$.fragment,Ve),Ve.forEach(m),B=M(P),H=k(P,"DIV",{class:!0});var Ae=S(H);z(V.$$.fragment,Ae),Ae.forEach(m),de=M(P),re=k(P,"DIV",{class:!0});var Pe=S(re);z(W.$$.fragment,Pe),Pe.forEach(m),w=M(P),se=k(P,"DIV",{class:!0});var Oe=S(se);z(ee.$$.fragment,Oe),Oe.forEach(m),Ne=M(P),ve=k(P,"DIV",{class:!0});var Le=S(ve);z(le.$$.fragment,Le),Le.forEach(m),A=M(P),te=k(P,"DIV",{class:!0});var ft=S(te);z(q.$$.fragment,ft),ft.forEach(m),fe=M(P),ne=k(P,"BUTTON",{type:!0,form:!0,class:!0,"data-svelte-h":!0}),Ee(ne)!=="svelte-1jtz69h"&&(ne.textContent=et),P.forEach(m),this.h()},h(){document.title="Add recipe",c(t,"class","svelte-1ncgbfn"),c(i,"class","svelte-1ncgbfn"),c(d,"class","svelte-1ncgbfn"),c(I,"class","svelte-1ncgbfn"),c(F,"class","svelte-1ncgbfn"),c(J,"class","svelte-1ncgbfn"),c(H,"class","svelte-1ncgbfn"),c(re,"class","svelte-1ncgbfn"),c(se,"class","svelte-1ncgbfn"),c(ve,"class","svelte-1ncgbfn"),c(te,"class","svelte-1ncgbfn"),c(ne,"type","submit"),c(ne,"form","add-recipe"),c(ne,"class","my-button svelte-1ncgbfn"),c(s,"id","add-recipe")},m(h,j){D(h,e,j),D(h,t,j),D(h,a,j),D(h,s,j),g(s,i),G(r,i,null),g(s,f),g(s,d),G(_,d,null),g(s,o),g(s,I),G(E,I,null),g(s,y),g(s,F),G(R,F,null),g(s,O),g(s,J),G(p,J,null),g(s,B),g(s,H),G(V,H,null),g(s,de),g(s,re),G(W,re,null),g(s,w),g(s,se),G(ee,se,null),g(s,Ne),g(s,ve),G(le,ve,null),g(s,A),g(s,te),G(q,te,null),g(s,fe),g(s,ne),$e=!0,qe||(tt=X(s,"submit",Qe(n[9])),qe=!0)},p(h,[j]){const P={};j&64&&(P.allCoffeeBeans=h[6]),j&128&&(P.validationFailed=h[7]),!u&&j&1&&(u=!0,P.selectedCoffeeBeans=h[0],oe(()=>u=!1)),r.$set(P);const Me={};j&1048576&&(Me.$$scope={dirty:j,ctx:h}),_.$set(Me);const Se={};!v&&j&2&&(v=!0,Se.value=h[1],oe(()=>v=!1)),E.$set(Se);const ye={};j&1048576&&(ye.$$scope={dirty:j,ctx:h}),R.$set(ye);const Fe={};!b&&j&4&&(b=!0,Fe.value=h[2],oe(()=>b=!1)),p.$set(Fe);const Ve={};!ie&&j&16&&(ie=!0,Ve.value=h[4],oe(()=>ie=!1)),V.$set(Ve);const Ae={};!pe&&j&32&&(pe=!0,Ae.value=h[5],oe(()=>pe=!1)),W.$set(Ae);const Pe={};j&1048576&&(Pe.$$scope={dirty:j,ctx:h}),ee.$set(Pe);const Oe={};!C&&j&8&&(C=!0,Oe.value=h[3],oe(()=>C=!1)),le.$set(Oe);const Le={};!ae&&j&256&&(ae=!0,Le.value=h[8],oe(()=>ae=!1)),q.$set(Le)},i(h){$e||(L(r.$$.fragment,h),L(_.$$.fragment,h),L(E.$$.fragment,h),L(R.$$.fragment,h),L(p.$$.fragment,h),L(V.$$.fragment,h),L(W.$$.fragment,h),L(ee.$$.fragment,h),L(le.$$.fragment,h),L(q.$$.fragment,h),$e=!0)},o(h){$(r.$$.fragment,h),$(_.$$.fragment,h),$(E.$$.fragment,h),$(R.$$.fragment,h),$(p.$$.fragment,h),$(V.$$.fragment,h),$(W.$$.fragment,h),$(ee.$$.fragment,h),$(le.$$.fragment,h),$(q.$$.fragment,h),$e=!1},d(h){h&&(m(e),m(t),m(a),m(s)),K(r),K(_),K(E),K(R),K(p),K(V),K(W),K(ee),K(le),K(q),qe=!1,tt()}}}const ke="recipe-target",Sn="Example: 17 clicks, 15g + 260g. 5m boil.",Be="recipe-result",yn="Example: 2m15s + 15s drip. 250g out.",Ie="recipe-thoughts",Fn="Example: Perfect balance. Perfect concentration. Flowery notes.",je="out-weight",Ue="rating",Y="addRecipe",Je="coffee-beans";function Vn(n,e,t){let l;Vt(n,Rt,p=>t(17,l=p)),l.data.coffeeBeansName;let a,s,i=!1,r,u,f,d,_,o=bt(new Date);At(()=>{r===""&&t(1,r=void 0),u===""&&t(2,u=void 0),f===""&&t(3,f=void 0),zt().then(p=>{t(6,a=p)}).then(()=>{if(s===void 0){const p=Ce(Y,Je,"number");if(p===null)return;t(0,s=a==null?void 0:a.find(b=>b.id===p))}if(r===void 0||r===""){const p=Ce(Y,ke,"string");if(p===null)return;t(1,r=p)}if(u===void 0||u===""){const p=Ce(Y,Be,"string");if(p===null)return;t(2,u=p)}if(f===void 0||f===""){const p=Ce(Y,Ie,"string");if(p===null)return;t(3,f=p)}if(d===void 0||d===0){const p=Ce(Y,je,"number");if(p===null||p===0)return;t(4,d=p)}if(_===void 0||_===0){const p=Ce(Y,Ue,"number");if(p===null||p===0)return;t(5,_=p)}}),t(8,o=bt(new Date))});async function I(p){if(s===void 0){t(7,i=!0);return}r==null&&t(1,r=""),t(1,r=r.trim()),u==null&&t(2,u=""),t(2,u=u.trim()),f==null&&t(3,f=""),t(3,f=f.trim());const b=Bn(o);if(s===void 0)throw new Error("Please select the coffee beans.");const B={coffeeBeansId:s.id,recipeTarget:r,recipeResult:u,recipeThoughts:f,outWeight:d,rating:_,timestamp:b};await Gt(B),Te(Y,Je),Te(Y,ke),Te(Y,Be),Te(Y,Ie),Te(Y,je),Te(Y,Ue),$t(Kt.home)}function E(p){s=p,t(0,s)}function v(p){r=p,t(1,r)}function y(p){u=p,t(2,u)}function F(p){d=p,t(4,d)}function R(p){_=p,t(5,_)}function O(p){f=p,t(3,f)}function J(p){o=p,t(8,o)}return n.$$.update=()=>{n.$$.dirty&1&&s!==void 0&&we(Y,Je,s.id),n.$$.dirty&2&&r!=null&&we(Y,ke,r),n.$$.dirty&4&&u!=null&&we(Y,Be,u),n.$$.dirty&8&&f!=null&&we(Y,Ie,f),n.$$.dirty&16&&d!==void 0&&d!==0&&we(Y,je,d),n.$$.dirty&32&&_!==void 0&&_!==0&&we(Y,Ue,_)},[s,r,u,f,d,_,a,i,o,I,E,v,y,F,R,O,J]}class Gn extends _e{constructor(e){super(),he(this,e,Vn,Mn,me,{})}}export{Gn as component,zn as universal};
