import{s as Y,n as M,j as ue,o as pe,b as _e,a as me}from"../chunks/scheduler.Cw1-ZcKD.js";import{S as Z,i as S,k as N,m as T,n as I,q as L,o as V,r as j,e as b,t as E,s as w,c as k,a as O,b as B,d as _,f as F,z as C,g,h as m,j as A,y as de,G as se,A as he,D as ve,H as $e,l as ge,p as ie,u as ce,v as be,w as U}from"../chunks/index.DHsbL8_X.js";import{e as J,u as fe,i as ke,o as Re}from"../chunks/manageCoffeeBeans.E__Z0lQp.js";import{y as ye}from"../chunks/toastProvider.CA3wvqVI.js";import{r as W}from"../chunks/routes.BpU10NWl.js";import{s as K,a as Oe,b as Ce,c as Ee,d as Be,e as Le}from"../chunks/sortCoffeeBeans.CoR3S74V.js";import{c as Q}from"../chunks/dateHelpers.BAQsHIds.js";import{C as Ve,l as Pe,s as we,A as Fe}from"../chunks/NoItemsYetP.D6l6NNs8.js";import{L as Ne}from"../chunks/Loading.BjzKhRf5.js";import{A as Te}from"../chunks/AddDemoCoffeeBeans_PageBlock.BTKGjaE1.js";import{P as Ie}from"../chunks/PageHeadline._rhYHzjV.js";var P=(o=>(o[o.Name=0]="Name",o[o.NameReverse=1]="NameReverse",o[o.LatestRecipe=2]="LatestRecipe",o[o.EarliestRecipe=3]="EarliestRecipe",o[o.MoreRecipes=4]="MoreRecipes",o[o.LessRecipes=5]="LessRecipes",o))(P||{});function je(o){let e;return{c(){e=b("div")},l(r){e=k(r,"DIV",{}),O(e).forEach(_)},m(r,t){g(r,e,t)},p:M,d(r){r&&_(e)}}}function Ae(o){let e,r,t=Q(o[0].latestRecipeTimestamp)+"",l;return{c(){e=b("p"),r=E("ðŸ•’ "),l=E(t),this.h()},l(n){e=k(n,"P",{class:!0});var a=O(e);r=B(a,"ðŸ•’ "),l=B(a,t),a.forEach(_),this.h()},h(){C(e,"class","time-ago-info svelte-11oj49p")},m(n,a){g(n,e,a),m(e,r),m(e,l)},p(n,a){a&1&&t!==(t=Q(n[0].latestRecipeTimestamp)+"")&&A(l,t)},d(n){n&&_(e)}}}function De(o){let e,r,t=Q(o[0].earliestRecipeTimestamp)+"",l,n;return{c(){e=b("p"),r=E("ðŸ•’ "),l=E(t),n=E(" (earliest)"),this.h()},l(a){e=k(a,"P",{class:!0});var c=O(e);r=B(c,"ðŸ•’ "),l=B(c,t),n=B(c," (earliest)"),c.forEach(_),this.h()},h(){C(e,"class","time-ago-info svelte-11oj49p")},m(a,c){g(a,e,c),m(e,r),m(e,l),m(e,n)},p(a,c){c&1&&t!==(t=Q(a[0].earliestRecipeTimestamp)+"")&&A(l,t)},d(a){a&&_(e)}}}function Me(o){let e,r,t=o[0].name+"",l,n,a,c=o[0].description+"",p,h,f,$,s,i=o[0].recipeCount+"",u,R,D=o[0].recipeCount===1?"recipe":"recipes",H;function x(d,v){return d[2]===P.EarliestRecipe&&d[0].earliestRecipeTimestamp?De:d[0].latestRecipeTimestamp?Ae:je}let q=x(o),y=q(o);return{c(){e=b("div"),r=b("h5"),l=E(t),n=w(),a=b("p"),p=E(c),h=w(),f=b("div"),y.c(),$=w(),s=b("p"),u=E(i),R=w(),H=E(D),this.h()},l(d){e=k(d,"DIV",{class:!0});var v=O(e);r=k(v,"H5",{class:!0});var ee=O(r);l=B(ee,t),ee.forEach(_),n=F(v),a=k(v,"P",{class:!0});var te=O(a);p=B(te,c),te.forEach(_),h=F(v),f=k(v,"DIV",{class:!0});var z=O(f);y.l(z),$=F(z),s=k(z,"P",{class:!0});var G=O(s);u=B(G,i),R=F(G),H=B(G,D),G.forEach(_),z.forEach(_),v.forEach(_),this.h()},h(){C(r,"class","svelte-11oj49p"),C(a,"class","coffee-beans-description svelte-11oj49p"),C(s,"class","recipes-count svelte-11oj49p"),C(f,"class","header svelte-11oj49p"),C(e,"class","card-content svelte-11oj49p")},m(d,v){g(d,e,v),m(e,r),m(r,l),m(e,n),m(e,a),m(a,p),m(e,h),m(e,f),y.m(f,null),m(f,$),m(f,s),m(s,u),m(s,R),m(s,H)},p(d,v){v&1&&t!==(t=d[0].name+"")&&A(l,t),v&1&&c!==(c=d[0].description+"")&&A(p,c),q===(q=x(d))&&y?y.p(d,v):(y.d(1),y=q(d),y&&(y.c(),y.m(f,$))),v&1&&i!==(i=d[0].recipeCount+"")&&A(u,i),v&1&&D!==(D=d[0].recipeCount===1?"recipe":"recipes")&&A(H,D)},d(d){d&&_(e),y.d()}}}function He(o){let e,r;return e=new Ve({props:{href:o[1],$$slots:{default:[Me]},$$scope:{ctx:o}}}),{c(){N(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p(t,[l]){const n={};l&2&&(n.href=t[1]),l&13&&(n.$$scope={dirty:l,ctx:t}),e.$set(n)},i(t){r||(L(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function qe(o,e,r){let{item:t}=e,{href:l}=e,{sortOrder:n=P.LatestRecipe}=e;return o.$$set=a=>{"item"in a&&r(0,t=a.item),"href"in a&&r(1,l=a.href),"sortOrder"in a&&r(2,n=a.sortOrder)},[t,l,n]}class ze extends Z{constructor(e){super(),S(this,e,qe,He,Y,{item:0,href:1,sortOrder:2})}}function re(o,e,r){const t=o.slice();return t[3]=e[r],t}function ae(o,e){let r,t=e[3].key+"",l;return{key:o,first:null,c(){r=b("option"),l=E(t),this.h()},l(n){r=k(n,"OPTION",{});var a=O(r);l=B(a,t),a.forEach(_),this.h()},h(){r.__value=e[3].value,ve(r,r.__value),this.first=r},m(n,a){g(n,r,a),m(r,l)},p(n,a){e=n},d(n){n&&_(r)}}}function Ge(o){let e,r,t="Sorted by",l,n,a=[],c=new Map,p,h,f=J(X);const $=s=>s[3].value;for(let s=0;s<f.length;s+=1){let i=re(o,f,s),u=$(i);c.set(u,a[s]=ae(u,i))}return{c(){e=b("div"),r=b("p"),r.textContent=t,l=w(),n=b("select");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=k(s,"DIV",{class:!0});var i=O(e);r=k(i,"P",{"data-svelte-h":!0}),de(r)!=="svelte-1ft4ueu"&&(r.textContent=t),l=F(i),n=k(i,"SELECT",{id:!0,name:!0,class:!0});var u=O(n);for(let R=0;R<a.length;R+=1)a[R].l(u);u.forEach(_),i.forEach(_),this.h()},h(){C(n,"id",le),C(n,"name",le),C(n,"class","svelte-1vf0ai9"),o[0]===void 0&&ue(()=>o[2].call(n)),C(e,"class","select-container svelte-1vf0ai9")},m(s,i){g(s,e,i),m(e,r),m(e,l),m(e,n);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(n,null);se(n,o[0],!0),p||(h=he(n,"change",o[2]),p=!0)},p(s,[i]){i&0&&(f=J(X),a=fe(a,i,$,1,s,f,c,n,ke,ae,null,re)),i&1&&se(n,s[0])},i:M,o:M,d(s){s&&_(e);for(let i=0;i<a.length;i+=1)a[i].d();p=!1,h()}}}const le="coffeebeans-sort-order",X=[{value:P.Name,key:"name",sortOrderFunc:K},{value:P.NameReverse,key:"name reverse",sortOrderFunc:Oe},{value:P.LatestRecipe,key:"latest recipe",sortOrderFunc:Ce},{value:P.EarliestRecipe,key:"earliest recipe",sortOrderFunc:Ee},{value:P.MoreRecipes,key:"more recipes",sortOrderFunc:Be},{value:P.LessRecipes,key:"less recipes",sortOrderFunc:Le}];function Ue(o,e,r){let{sortOrderValue:t}=e,l=Pe("coffeeBeans");function n(){l=$e(this),r(0,l)}return o.$$set=a=>{"sortOrderValue"in a&&r(1,t=a.sortOrderValue)},o.$$.update=()=>{var a;if(o.$$.dirty&1){const c=((a=X.find(p=>p.value===l))==null?void 0:a.sortOrderFunc)??K;r(1,t={value:l,sortOrderFunc:c}),we("coffeeBeans",l)}},[l,t,n]}class Je extends Z{constructor(e){super(),S(this,e,Ue,Ge,Y,{sortOrderValue:1})}}function ne(o,e,r){const t=o.slice();return t[5]=e[r],t}function Ke(o){let e;return{c(){e=E("Coffee beans")},l(r){e=B(r,"Coffee beans")},m(r,t){g(r,e,t)},d(r){r&&_(e)}}}function Qe(o){let e,r,t,l=[],n=new Map,a,c;function p(s){o[4](s)}let h={};o[1]!==void 0&&(h.sortOrderValue=o[1]),e=new Je({props:h}),_e.push(()=>be(e,"sortOrderValue",p));let f=J(o[0]);const $=s=>s[5].id;for(let s=0;s<f.length;s+=1){let i=ne(o,f,s),u=$(i);n.set(u,l[s]=oe(u,i))}return{c(){N(e.$$.fragment),t=w();for(let s=0;s<l.length;s+=1)l[s].c();a=U()},l(s){T(e.$$.fragment,s),t=F(s);for(let i=0;i<l.length;i+=1)l[i].l(s);a=U()},m(s,i){I(e,s,i),g(s,t,i);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(s,i);g(s,a,i),c=!0},p(s,i){const u={};!r&&i&2&&(r=!0,u.sortOrderValue=s[1],me(()=>r=!1)),e.$set(u),i&3&&(f=J(s[0]),ce(),l=fe(l,i,$,1,s,f,n,a.parentNode,Re,oe,a,ne),ie())},i(s){if(!c){L(e.$$.fragment,s);for(let i=0;i<f.length;i+=1)L(l[i]);c=!0}},o(s){V(e.$$.fragment,s);for(let i=0;i<l.length;i+=1)V(l[i]);c=!1},d(s){s&&(_(t),_(a)),j(e,s);for(let i=0;i<l.length;i+=1)l[i].d(s)}}}function We(o){let e,r;return e=new Te({props:{onAddDemoEntities:o[3]}}),{c(){N(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p:M,i(t){r||(L(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function Xe(o){let e,r;return e=new Ne({}),{c(){N(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,l){I(e,t,l),r=!0},p:M,i(t){r||(L(e.$$.fragment,t),r=!0)},o(t){V(e.$$.fragment,t),r=!1},d(t){j(e,t)}}}function oe(o,e){var n;let r,t,l;return t=new ze({props:{href:W.coffeeBeansItem(e[5].name),item:e[5],sortOrder:(n=e[1])==null?void 0:n.value}}),{key:o,first:null,c(){r=U(),N(t.$$.fragment),this.h()},l(a){r=U(),T(t.$$.fragment,a),this.h()},h(){this.first=r},m(a,c){g(a,r,c),I(t,a,c),l=!0},p(a,c){var h;e=a;const p={};c&1&&(p.href=W.coffeeBeansItem(e[5].name)),c&1&&(p.item=e[5]),c&2&&(p.sortOrder=(h=e[1])==null?void 0:h.value),t.$set(p)},i(a){l||(L(t.$$.fragment,a),l=!0)},o(a){V(t.$$.fragment,a),l=!1},d(a){a&&_(r),j(t,a)}}}function Ye(o){let e,r,t,l,n,a,c,p;r=new Ie({props:{$$slots:{default:[Ke]},$$scope:{ctx:o}}});const h=[Xe,We,Qe],f=[];function $(s,i){return s[0]===void 0?0:s[0].length===0?1:2}return l=$(o),n=f[l]=h[l](o),c=new Fe({props:{href:W.addRecipe()}}),{c(){e=w(),N(r.$$.fragment),t=w(),n.c(),a=w(),N(c.$$.fragment),this.h()},l(s){ge("svelte-n9a09p",document.head).forEach(_),e=F(s),T(r.$$.fragment,s),t=F(s),n.l(s),a=F(s),T(c.$$.fragment,s),this.h()},h(){document.title="PourOverPotato app"},m(s,i){g(s,e,i),I(r,s,i),g(s,t,i),f[l].m(s,i),g(s,a,i),I(c,s,i),p=!0},p(s,[i]){const u={};i&256&&(u.$$scope={dirty:i,ctx:s}),r.$set(u);let R=l;l=$(s),l===R?f[l].p(s,i):(ce(),V(f[R],1,1,()=>{f[R]=null}),ie(),n=f[l],n?n.p(s,i):(n=f[l]=h[l](s),n.c()),L(n,1),n.m(a.parentNode,a))},i(s){p||(L(r.$$.fragment,s),L(n),L(c.$$.fragment,s),p=!0)},o(s){V(r.$$.fragment,s),V(n),V(c.$$.fragment,s),p=!1},d(s){s&&(_(e),_(t),_(a)),j(r,s),f[l].d(s),j(c,s)}}}function Ze(o,e,r){let t,l;pe(()=>{n()});async function n(){const p=await ye();r(0,t=p.sort(K))}const a=()=>n();function c(p){l=p,r(1,l)}return o.$$.update=()=>{o.$$.dirty&3&&t&&r(0,t=t.sort((l==null?void 0:l.sortOrderFunc)??K))},[t,l,n,a,c]}class ct extends Z{constructor(e){super(),S(this,e,Ze,Ye,Y,{})}}export{ct as component};
