import{s as z,d as ft,e as dt,n as P,o as pt}from"../chunks/scheduler.QZKnv3vM.js";import{S as F,i as R,y as mt,e as h,s as $,k as A,c as b,a as O,z as x,f as C,d as o,m as L,x as v,g as u,h as g,n as V,A as et,q as N,o as U,r as G,t as ct,b as ut,D as lt,v as ot,j as vt,l as ht}from"../chunks/index.CHfITGLb.js";import{u as bt,v as _t,w as $t}from"../chunks/indexedDB.Q-EDKeWM.js";import{r as Ct}from"../chunks/routes.v8dFQnkq.js";import{D as xt}from"../chunks/DeleteConfirmationModal.nUbwAGPJ.js";function yt(d){let t;return{c(){t=ct("Please confirm you want to delete all your data.")},l(e){t=ut(e,"Please confirm you want to delete all your data.")},m(e,n){u(e,t,n)},d(e){e&&o(t)}}}function kt(d){let t,e,n="Delete all data:",f,s,r="Delete all data",i,a,p,c,k,S;function H(_){d[3](_)}let w={onDeleteClick:d[1],$$slots:{default:[yt]},$$scope:{ctx:d}};return d[0]!==void 0&&(w.setModalState=d[0]),a=new xt({props:w}),ft.push(()=>mt(a,"setModalState",H)),{c(){t=h("div"),e=h("p"),e.textContent=n,f=$(),s=h("button"),s.textContent=r,i=$(),A(a.$$.fragment),this.h()},l(_){t=b(_,"DIV",{class:!0});var y=O(t);e=b(y,"P",{"data-svelte-h":!0}),x(e)!=="svelte-15f4b12"&&(e.textContent=n),f=C(y),s=b(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),x(s)!=="svelte-14fbba6"&&(s.textContent=r),y.forEach(o),i=C(_),L(a.$$.fragment,_),this.h()},h(){v(s,"class","button-delete svelte-1m69evr"),v(s,"type","button"),v(t,"class","container svelte-1m69evr")},m(_,y){u(_,t,y),g(t,e),g(t,f),g(t,s),u(_,i,y),V(a,_,y),c=!0,k||(S=et(s,"click",d[2]),k=!0)},p(_,[y]){const D={};y&16&&(D.$$scope={dirty:y,ctx:_}),!p&&y&1&&(p=!0,D.setModalState=_[0],dt(()=>p=!1)),a.$set(D)},i(_){c||(N(a.$$.fragment,_),c=!0)},o(_){U(a.$$.fragment,_),c=!1},d(_){_&&(o(t),o(i)),G(a,_),k=!1,S()}}}function gt(d,t,e){let n;async function f(){await bt(),window.location.replace(Ct.home),alert("All data deleted.")}const s=()=>n("open");function r(i){n=i,e(0,n)}return[n,f,s,r]}class wt extends F{constructor(t){super(),R(this,t,gt,kt,z,{})}}function Dt(d){let t,e,n="Export all data:",f,s,r="Export to file",i,a;return{c(){t=h("div"),e=h("p"),e.textContent=n,f=$(),s=h("button"),s.textContent=r,this.h()},l(p){t=b(p,"DIV",{class:!0});var c=O(t);e=b(c,"P",{style:!0,"data-svelte-h":!0}),x(e)!=="svelte-6a1m9a"&&(e.textContent=n),f=C(c),s=b(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1rmfvr0"&&(s.textContent=r),c.forEach(o),this.h()},h(){lt(e,"margin-right","0.5rem"),v(s,"type","button"),v(s,"class","svelte-1lmhlfg"),v(t,"class","container svelte-1lmhlfg")},m(p,c){u(p,t,c),g(t,e),g(t,f),g(t,s),i||(a=et(s,"click",d[0]),i=!0)},p:P,i:P,o:P,d(p){p&&o(t),i=!1,a()}}}function Pt(d){async function t(){const e=document.createElement("a"),n=await _t();e.href=URL.createObjectURL(n),e.setAttribute("download","PourOverPotato.json"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}return[t]}class qt extends F{constructor(t){super(),R(this,t,Pt,Dt,z,{})}}function It(d){let t,e,n="Import data:",f,s,r="Import from file",i,a;return{c(){t=h("div"),e=h("p"),e.textContent=n,f=$(),s=h("button"),s.textContent=r,this.h()},l(p){t=b(p,"DIV",{class:!0});var c=O(t);e=b(c,"P",{style:!0,"data-svelte-h":!0}),x(e)!=="svelte-1jemb82"&&(e.textContent=n),f=C(c),s=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-1u0f5a8"&&(s.textContent=r),c.forEach(o),this.h()},h(){lt(e,"margin-right","0.5rem"),v(s,"class","svelte-1uvboly"),v(t,"class","container svelte-1uvboly")},m(p,c){u(p,t,c),g(t,e),g(t,f),g(t,s),i||(a=et(s,"click",d[0]),i=!0)},p:P,i:P,o:P,d(p){p&&o(t),i=!1,a()}}}function Tt(d){async function t(){const e=document.createElement("input");e.type="file",e.onchange=async()=>{if(console.log(e.files),e.files===null||e.files.item(0)===void 0||e.files.item(0)===null){alert("Please provide a single file.");return}if(e.files.length>1){alert("Please provide a single file.");return}const n=e.files.item(0);if(n.type!=="application/json"){alert("Please provide a JSON file.");return}await $t(n)},e.click()}return[t]}class Et extends F{constructor(t){super(),R(this,t,Tt,It,z,{})}}function Mt(d){let t,e,n,f,s,r=d[0]===!1&&rt();return{c(){t=h("p"),e=ct(d[0]),f=$(),r&&r.c(),s=ot(),this.h()},l(i){t=b(i,"P",{class:!0,style:!0});var a=O(t);e=ut(a,d[0]),a.forEach(o),f=C(i),r&&r.l(i),s=ot(),this.h()},h(){v(t,"class",n=d[0]?"text-green-500":"text-red-700"),lt(t,"font-weight","bold")},m(i,a){u(i,t,a),g(t,e),u(i,f,a),r&&r.m(i,a),u(i,s,a)},p(i,a){a&1&&vt(e,i[0]),a&1&&n!==(n=i[0]?"text-green-500":"text-red-700")&&v(t,"class",n),i[0]===!1?r?r.p(i,a):(r=rt(),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(i){i&&(o(t),o(f),o(s)),r&&r.d(i)}}}function jt(d){let t,e="loading...";return{c(){t=h("p"),t.textContent=e},l(n){t=b(n,"P",{"data-svelte-h":!0}),x(t)!=="svelte-qeejp2"&&(t.textContent=e)},m(n,f){u(n,t,f)},p:P,d(n){n&&o(t)}}}function rt(d){let t,e="Enable",n,f;return{c(){t=h("button"),t.textContent=e,this.h()},l(s){t=b(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(t)!=="svelte-105jgsy"&&(t.textContent=e),this.h()},h(){v(t,"type","button"),v(t,"class","svelte-1p6ta5y")},m(s,r){u(s,t,r),n||(f=et(t,"click",Ht),n=!0)},p:P,d(s){s&&o(t),n=!1,f()}}}function Bt(d){let t,e,n="Persistent storage enabled:",f,s;function r(p,c){return p[0]===void 0?jt:Mt}let i=r(d),a=i(d);return{c(){t=h("div"),e=h("p"),e.textContent=n,f=$(),s=h("div"),a.c(),this.h()},l(p){t=b(p,"DIV",{class:!0});var c=O(t);e=b(c,"P",{style:!0,"data-svelte-h":!0}),x(e)!=="svelte-11igao6"&&(e.textContent=n),f=C(c),s=b(c,"DIV",{class:!0,style:!0});var k=O(s);a.l(k),k.forEach(o),c.forEach(o),this.h()},h(){lt(e,"margin-right","0.5rem"),v(s,"class","container-row-nowrap svelte-1p6ta5y"),v(s,"style",""),v(t,"class","container svelte-1p6ta5y")},m(p,c){u(p,t,c),g(t,e),g(t,f),g(t,s),a.m(s,null)},p(p,[c]){i===(i=r(p))&&a?a.p(p,c):(a.d(1),a=i(p),a&&(a.c(),a.m(s,null)))},i:P,o:P,d(p){p&&o(t),a.d()}}}async function Ht(){await navigator.storage.persist(),location.reload()}function Ot(d,t,e){let n;return pt(async()=>{e(0,n=await navigator.storage.persisted())}),[n]}class St extends F{constructor(t){super(),R(this,t,Ot,Bt,z,{})}}function At(d){let t,e,n="About app",f,s,r=`<p class="svelte-137qs6b">It&#39;s an open-source application developed
    <a href="https://github.com/dima-iholkin/PourOverPotato" class="svelte-137qs6b">on GitHub</a>.</p> <p class="svelte-137qs6b">You can view the development process on the
    <a href="https://github.com/users/dima-iholkin/projects/5/views/1" class="svelte-137qs6b">Projects page</a>.</p> <p class="svelte-137qs6b">You can influence the work at the project&#39;s GitHub or just contact me.</p>`,i,a,p="About your data",c,k,S=`<p class="svelte-137qs6b">Currently all data is saved only in the user&#39;s browser and is not sent anywhere. Later I want to add an ability to
    import and export data to a file, and sync data with Google Drive.</p> <p class="svelte-137qs6b">This is not a finilized version of the application. Things may change and data integrity is not guaranteed, however
    I&#39;ll try hard to not break you data.</p>`,H,w,_="Manage your data",y,D,Y,M,J,j,K,I,st="Delete your data",Q,B,W,T,at="Credits",X,E,nt="The coffee beans icon",Z,q,it="created by Freepik - Flaticon",tt;return D=new St({}),M=new qt({}),j=new Et({}),B=new wt({}),{c(){t=$(),e=h("h5"),e.textContent=n,f=$(),s=h("div"),s.innerHTML=r,i=$(),a=h("h5"),a.textContent=p,c=$(),k=h("div"),k.innerHTML=S,H=$(),w=h("h5"),w.textContent=_,y=$(),A(D.$$.fragment),Y=$(),A(M.$$.fragment),J=$(),A(j.$$.fragment),K=$(),I=h("h5"),I.textContent=st,Q=$(),A(B.$$.fragment),W=$(),T=h("h5"),T.textContent=at,X=$(),E=h("p"),E.textContent=nt,Z=$(),q=h("a"),q.textContent=it,this.h()},l(l){ht("svelte-1tq7k8",document.head).forEach(o),t=C(l),e=b(l,"H5",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-g523m9"&&(e.textContent=n),f=C(l),s=b(l,"DIV",{class:!0,"data-svelte-h":!0}),x(s)!=="svelte-7le8db"&&(s.innerHTML=r),i=C(l),a=b(l,"H5",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-belckq"&&(a.textContent=p),c=C(l),k=b(l,"DIV",{class:!0,"data-svelte-h":!0}),x(k)!=="svelte-189ij8d"&&(k.innerHTML=S),H=C(l),w=b(l,"H5",{class:!0,"data-svelte-h":!0}),x(w)!=="svelte-a9xi76"&&(w.textContent=_),y=C(l),L(D.$$.fragment,l),Y=C(l),L(M.$$.fragment,l),J=C(l),L(j.$$.fragment,l),K=C(l),I=b(l,"H5",{class:!0,"data-svelte-h":!0}),x(I)!=="svelte-lt73ae"&&(I.textContent=st),Q=C(l),L(B.$$.fragment,l),W=C(l),T=b(l,"H5",{class:!0,"data-svelte-h":!0}),x(T)!=="svelte-rvnewg"&&(T.textContent=at),X=C(l),E=b(l,"P",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-oigu97"&&(E.textContent=nt),Z=C(l),q=b(l,"A",{href:!0,title:!0,class:!0,"data-svelte-h":!0}),x(q)!=="svelte-km7dmi"&&(q.textContent=it),this.h()},h(){document.title="Other - PourOverPotato app",v(e,"class","page-headline svelte-137qs6b"),v(s,"class","about-section svelte-137qs6b"),v(a,"class","svelte-137qs6b"),v(k,"class","about-section svelte-137qs6b"),v(w,"class","svelte-137qs6b"),v(I,"class","svelte-137qs6b"),v(T,"class","svelte-137qs6b"),v(E,"class","svelte-137qs6b"),v(q,"href","https://www.flaticon.com/free-icons/coffee-beans"),v(q,"title","coffee beans icons"),v(q,"class","svelte-137qs6b")},m(l,m){u(l,t,m),u(l,e,m),u(l,f,m),u(l,s,m),u(l,i,m),u(l,a,m),u(l,c,m),u(l,k,m),u(l,H,m),u(l,w,m),u(l,y,m),V(D,l,m),u(l,Y,m),V(M,l,m),u(l,J,m),V(j,l,m),u(l,K,m),u(l,I,m),u(l,Q,m),V(B,l,m),u(l,W,m),u(l,T,m),u(l,X,m),u(l,E,m),u(l,Z,m),u(l,q,m),tt=!0},p:P,i(l){tt||(N(D.$$.fragment,l),N(M.$$.fragment,l),N(j.$$.fragment,l),N(B.$$.fragment,l),tt=!0)},o(l){U(D.$$.fragment,l),U(M.$$.fragment,l),U(j.$$.fragment,l),U(B.$$.fragment,l),tt=!1},d(l){l&&(o(t),o(e),o(f),o(s),o(i),o(a),o(c),o(k),o(H),o(w),o(y),o(Y),o(J),o(K),o(I),o(Q),o(W),o(T),o(X),o(E),o(Z),o(q)),G(D,l),G(M,l),G(j,l),G(B,l)}}}class zt extends F{constructor(t){super(),R(this,t,null,At,z,{})}}export{zt as component};
