import{n as F,l as Ue,k as Ce,B as de,s as H,d as ae,u as re,g as le,e as oe,h as Se,o as ie,j as Be,C as Ee,c as ce,b as X,a as me,r as qe,t as Oe}from"../chunks/scheduler.Cw1-ZcKD.js";import{K as Ve,L as xe,M as Ae,N as Le,S as K,i as z,e as w,s as B,t as Ne,c as k,a as V,y as j,f as E,b as Re,d as v,z as _,g as U,h as y,A as J,j as Pe,q as D,o as T,k as L,m as N,n as R,r as P,u as ue,p as fe,O as Ge,P as Fe,C as O,v as pe,E as he}from"../chunks/index.DHsbL8_X.js";import{e as ge,u as je,f as He}from"../chunks/each.DGQvojpB.js";import{b as Ke}from"../chunks/paths.BmEV93u3.js";import{p as ee}from"../chunks/stores.BSf6NAWN.js";import{r as I}from"../chunks/routes.BYcm90ft.js";import{g as se}from"../chunks/entry.DRGciIfZ.js";import{M as ze,a as _e}from"../chunks/Modal.CZBRvdiz.js";import{v as Ye,i as Ze,D as Ie}from"../chunks/indexedDB.9t1uuO4e.js";function We(a,e,t,n){if(!e)return F;const s=a.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return F;const{delay:r=0,duration:c=300,easing:o=Ue,start:l=Ve()+r,end:i=l+c,tick:g=F,css:$}=t(a,{from:e,to:s},n);let m=!0,b=!1,f;function h(){$&&(f=Ae(a,0,1,c,r,o,$)),r||(b=!0)}function p(){$&&Le(a,f),m=!1}return xe(d=>{if(!b&&d>=l&&(b=!0),b&&d>=i&&(g(1,0),p()),!m)return!1;if(b){const M=d-l,x=0+1*o(M/c);g(x,1-x)}return!0}),h(),g(0,1),p}function Je(a){const e=getComputedStyle(a);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=a.getBoundingClientRect();a.style.position="absolute",a.style.width=t,a.style.height=n,De(a,s)}}function De(a,e){const t=a.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(a),s=n.transform==="none"?"":n.transform;a.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Te(a){const e=a-1;return e*e*e+1}function Qe(a,{from:e,to:t},n={}){const s=getComputedStyle(a),r=s.transform==="none"?"":s.transform,[c,o]=s.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*c/t.width-(t.left+c),i=e.top+e.height*o/t.height-(t.top+o),{delay:g=0,duration:$=b=>Math.sqrt(b)*120,easing:m=Te}=n;return{delay:g,duration:Ce($)?$(Math.sqrt(l*l+i*i)):$,easing:m,css:(b,f)=>{const h=f*l,p=f*i,d=b+f*e.width/t.width,M=b+f*e.height/t.height;return`transform: ${r} translate(${h}px, ${p}px) scale(${d}, ${M});`}}}function $e(a,{delay:e=0,duration:t=400,easing:n=Te,x:s=0,y:r=0,opacity:c=0}={}){const o=getComputedStyle(a),l=+o.opacity,i=o.transform==="none"?"":o.transform,g=l*(1-c),[$,m]=de(s),[b,f]=de(r);return{delay:e,duration:t,easing:n,css:(h,p)=>`
			transform: ${i} translate(${(1-h)*$}${m}, ${(1-h)*b}${f});
			opacity: ${l-g*p}`}}const Xe=a=>({}),ve=a=>({});function et(a){let e,t,n='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg> <span class="sr-only">Check icon</span>',s,r,c,o,l,i,g='<span class="sr-only">Close</span> <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',$,m,b;const f=a[2].button,h=ae(f,a,a[1],ve);return{c(){e=w("div"),t=w("div"),t.innerHTML=n,s=B(),r=w("div"),c=Ne(a[0]),o=B(),h&&h.c(),l=B(),i=w("button"),i.innerHTML=g,this.h()},l(p){e=k(p,"DIV",{class:!0,role:!0});var d=V(e);t=k(d,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1f6f1j5"&&(t.innerHTML=n),s=E(d),r=k(d,"DIV",{id:!0,class:!0});var M=V(r);c=Re(M,a[0]),M.forEach(v),o=E(d),h&&h.l(d),l=E(d),i=k(d,"BUTTON",{class:!0,"data-dismiss-target":!0,type:!0,"aria-label":!0,"data-svelte-h":!0}),j(i)!=="svelte-hr0026"&&(i.innerHTML=g),d.forEach(v),this.h()},h(){_(t,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"),_(r,"id","toast-content"),_(r,"class","text-base font-normal svelte-1lholb5"),_(i,"class","my-close-button ms-auto -mx-1.5 -my-1.5 bg-gray-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-300 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700 svelte-1lholb5"),_(i,"data-dismiss-target","#toast-success"),_(i,"type","button"),_(i,"aria-label","Close"),_(e,"class","my-toast flex items-center max-w-xl p-4 bg-gray-100 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 svelte-1lholb5"),_(e,"role","alert")},m(p,d){U(p,e,d),y(e,t),y(e,s),y(e,r),y(r,c),y(e,o),h&&h.m(e,null),y(e,l),y(e,i),$=!0,m||(b=J(i,"click",a[3]),m=!0)},p(p,[d]){(!$||d&1)&&Pe(c,p[0]),h&&h.p&&(!$||d&2)&&re(h,f,p,p[1],$?oe(f,p[1],d,Xe):le(p[1]),ve)},i(p){$||(D(h,p),$=!0)},o(p){T(h,p),$=!1},d(p){p&&v(e),h&&h.d(p),m=!1,b()}}}function tt(a,e,t){let{$$slots:n={},$$scope:s}=e,{message:r}=e;function c(o){Se.call(this,a,o)}return a.$$set=o=>{"message"in o&&t(0,r=o.message),"$$scope"in o&&t(1,s=o.$$scope)},[r,s,n,c]}class Me extends K{constructor(e){super(),z(this,e,tt,et,H,{message:0})}}function nt(a){let e,t="Undo",n,s;return{c(){e=w("button"),e.textContent=t,this.h()},l(r){e=k(r,"BUTTON",{slot:!0,type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-j5y622"&&(e.textContent=t),this.h()},h(){_(e,"slot","button"),_(e,"type","button"),_(e,"aria-label","Close"),_(e,"class","svelte-piy52p")},m(r,c){U(r,e,c),n||(s=J(e,"click",function(){Ce(a[0])&&a[0].apply(this,arguments)}),n=!0)},p(r,c){a=r},d(r){r&&v(e),n=!1,s()}}}function st(a){let e,t;return e=new Me({props:{message:a[1],$$slots:{button:[nt]},$$scope:{ctx:a}}}),e.$on("click",a[2]),{c(){L(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.message=n[1]),s&9&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function at(a,e,t){let{onClickUndo:n}=e,{message:s}=e;function r(c){Se.call(this,a,c)}return a.$$set=c=>{"onClickUndo"in c&&t(0,n=c.onClickUndo),"message"in c&&t(1,s=c.message)},[n,s,r]}class rt extends K{constructor(e){super(),z(this,e,at,st,H,{onClickUndo:0,message:1})}}function be(a,e,t){const n=a.slice();return n[6]=e[t],n}function lt(a){let e,t;function n(){return a[4](a[6])}function s(){return a[5](a[6])}return e=new rt({props:{message:a[6].message,onClickUndo:n}}),e.$on("click",s),{c(){L(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,c){R(e,r,c),t=!0},p(r,c){a=r;const o={};c&1&&(o.message=a[6].message),c&1&&(o.onClickUndo=n),e.$set(o)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){T(e.$$.fragment,r),t=!1},d(r){P(e,r)}}}function ot(a){let e,t;function n(){return a[3](a[6])}return e=new Me({props:{message:a[6].message}}),e.$on("click",n),{c(){L(e.$$.fragment)},l(s){N(e.$$.fragment,s)},m(s,r){R(e,s,r),t=!0},p(s,r){a=s;const c={};r&1&&(c.message=a[6].message),e.$set(c)},i(s){t||(D(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function ye(a,e){let t,n,s,r,c,o,l,i=F,g;const $=[ot,lt],m=[];function b(f,h){return f[6].onClickUndo===void 0?0:1}return n=b(e),s=m[n]=$[n](e),{key:a,first:null,c(){t=w("div"),s.c(),r=B(),this.h()},l(f){t=k(f,"DIV",{class:!0});var h=V(t);s.l(h),r=E(h),h.forEach(v),this.h()},h(){_(t,"class","toast-wrapper"),this.first=t},m(f,h){U(f,t,h),m[n].m(t,null),y(t,r),g=!0},p(f,h){e=f;let p=n;n=b(e),n===p?m[n].p(e,h):(ue(),T(m[p],1,1,()=>{m[p]=null}),fe(),s=m[n],s?s.p(e,h):(s=m[n]=$[n](e),s.c()),D(s,1),s.m(t,r))},r(){l=t.getBoundingClientRect()},f(){Je(t),i(),De(t,l)},a(){i(),i=We(t,l,Qe,{})},i(f){g||(D(s),f&&Be(()=>{g&&(o&&o.end(1),c=Ge(t,$e,{y:100}),c.start())}),g=!0)},o(f){T(s),c&&c.invalidate(),f&&(o=Fe(t,$e,{x:100})),g=!1},d(f){f&&v(t),m[n].d(),f&&o&&o.end()}}}function it(a){let e,t=[],n=new Map,s,r=ge(a[0]);const c=o=>o[6].timestamp;for(let o=0;o<r.length;o+=1){let l=be(a,r,o),i=c(l);n.set(i,t[o]=ye(i,l))}return{c(){e=w("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=k(o,"DIV",{id:!0,class:!0});var l=V(e);for(let i=0;i<t.length;i+=1)t[i].l(l);l.forEach(v),this.h()},h(){_(e,"id","toast-provider"),_(e,"class","svelte-14kneb2")},m(o,l){U(o,e,l);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);s=!0},p(o,[l]){if(l&7){r=ge(o[0]),ue();for(let i=0;i<t.length;i+=1)t[i].r();t=je(t,l,c,1,o,r,n,e,He,ye,null,be);for(let i=0;i<t.length;i+=1)t[i].a();fe()}},i(o){if(!s){for(let l=0;l<r.length;l+=1)D(t[l]);s=!0}},o(o){for(let l=0;l<t.length;l+=1)T(t[l]);s=!1},d(o){o&&v(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function ct(a,e,t){let n=[];ie(()=>{document.addEventListener("addToast",i=>{const g=Date.now(),$={message:i.detail.message,timeout:i.detail.timeout,timestamp:g,onClickUndo:i.detail.onClickUndo,onUndoIgnored:i.detail.onUndoIgnored};n.push($),t(0,n),setTimeout(()=>{r($)},$.timeout)})});function s(i){i.onUndoIgnored&&(i.onUndoIgnored=void 0),r(i),i.onClickUndo&&i.onClickUndo()}function r(i){i.onUndoIgnored&&i.onUndoIgnored();const g=n.findIndex($=>$.timestamp===i.timestamp);g!==-1&&(n.splice(g,1),t(0,n))}return[n,s,r,i=>r(i),i=>s(i),i=>r(i)]}class ut extends K{constructor(e){super(),z(this,e,ct,it,H,{})}}const ft=""+new URL("../assets/coffee-beans-icon.B8jMyzaG.png",import.meta.url).href;function dt(a){let e,t="dashboard";return{c(){e=w("span"),e.textContent=t,this.h()},l(n){e=k(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-uhkmif"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons")},m(n,s){U(n,e,s)},p:F,i:F,o:F,d(n){n&&v(e)}}}class mt extends K{constructor(e){super(),z(this,e,null,dt,H,{})}}function pt(a){let e,t,n,s,r='<span class="material-icons recipes-icon svelte-d12lmw" style="padding: 2px 0;">content_copy</span> <span class="svelte-d12lmw">Recipes</span>',c,o,l,i,g,$,m,b="Coffee beans",f,h,p,d,M,x,Y="Other",A;return d=new mt({}),{c(){e=w("div"),t=w("div"),n=w("a"),s=w("button"),s.innerHTML=r,c=B(),o=w("a"),l=w("button"),i=w("img"),$=B(),m=w("span"),m.textContent=b,f=B(),h=w("a"),p=w("button"),L(d.$$.fragment),M=B(),x=w("span"),x.textContent=Y,this.h()},l(S){e=k(S,"DIV",{class:!0});var q=V(e);t=k(q,"DIV",{class:!0});var Z=V(t);n=k(Z,"A",{href:!0});var G=V(n);s=k(G,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1olslb5"&&(s.innerHTML=r),G.forEach(v),c=E(Z),o=k(Z,"A",{href:!0});var u=V(o);l=k(u,"BUTTON",{type:!0,class:!0});var C=V(l);i=k(C,"IMG",{src:!0,alt:!0,class:!0}),$=E(C),m=k(C,"SPAN",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-yc6fjb"&&(m.textContent=b),C.forEach(v),u.forEach(v),f=E(Z),h=k(Z,"A",{href:!0});var W=V(h);p=k(W,"BUTTON",{type:!0,class:!0});var Q=V(p);N(d.$$.fragment,Q),M=E(Q),x=k(Q,"SPAN",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-700qdn"&&(x.textContent=Y),Q.forEach(v),W.forEach(v),Z.forEach(v),q.forEach(v),this.h()},h(){_(s,"type","button"),_(s,"class","svelte-d12lmw"),O(s,"active",a[2]===I.recipes),_(n,"href",I.recipes),Ee(i.src,g=ft)||_(i,"src",g),_(i,"alt","A coffee beans icon"),_(i,"class","svelte-d12lmw"),O(i,"active-img",a[2]===I.home),_(m,"class","svelte-d12lmw"),O(m,"active",a[2]===I.home),_(l,"type","button"),_(l,"class","svelte-d12lmw"),O(l,"active",a[2]===I.home),_(o,"href",I.home),_(x,"class","svelte-d12lmw"),O(x,"active",a[2]===I.other),_(p,"type","button"),_(p,"class","svelte-d12lmw"),O(p,"active",a[2]===I.other),_(h,"href",I.other),_(t,"class","grid h-full max-w-lg grid-cols-3 mx-auto font-medium"),_(e,"class","bottom-nav svelte-d12lmw"),O(e,"as-gap",a[0]),O(e,"bottom-nav-static",a[1].url.pathname===I.addRecipe()||a[1].url.pathname.substring(0,a[1].url.pathname.lastIndexOf("/")+1)+1===I.recipeItem(1))},m(S,q){U(S,e,q),y(e,t),y(t,n),y(n,s),y(t,c),y(t,o),y(o,l),y(l,i),y(l,$),y(l,m),y(t,f),y(t,h),y(h,p),R(d,p,null),y(p,M),y(p,x),A=!0},p(S,[q]){(!A||q&4)&&O(s,"active",S[2]===I.recipes),(!A||q&4)&&O(i,"active-img",S[2]===I.home),(!A||q&4)&&O(m,"active",S[2]===I.home),(!A||q&4)&&O(l,"active",S[2]===I.home),(!A||q&4)&&O(x,"active",S[2]===I.other),(!A||q&4)&&O(p,"active",S[2]===I.other),(!A||q&1)&&O(e,"as-gap",S[0]),(!A||q&2)&&O(e,"bottom-nav-static",S[1].url.pathname===I.addRecipe()||S[1].url.pathname.substring(0,S[1].url.pathname.lastIndexOf("/")+1)+1===I.recipeItem(1))},i(S){A||(D(d.$$.fragment,S),A=!0)},o(S){T(d.$$.fragment,S),A=!1},d(S){S&&v(e),P(d)}}}function ht(a,e,t){let n,s;ce(a,ee,c=>t(1,s=c));let{asGap:r=!1}=e;return a.$$set=c=>{"asGap"in c&&t(0,r=c.asGap)},a.$$.update=()=>{a.$$.dirty&2&&t(2,n=Ke+s.route.id)},[r,s,n]}class we extends K{constructor(e){super(),z(this,e,ht,pt,H,{asGap:0})}}function gt(a){let e,t="arrow_back";return{c(){e=w("span"),e.textContent=t,this.h()},l(n){e=k(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-12vjxfs"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons md-24")},m(n,s){U(n,e,s)},p:F,i:F,o:F,d(n){n&&v(e)}}}class _t extends K{constructor(e){super(),z(this,e,null,gt,H,{})}}function $t(a){let e,t="favorite_border";return{c(){e=w("span"),e.textContent=t,this.h()},l(n){e=k(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-teydos"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons md-24 svelte-1c6h8fp")},m(n,s){U(n,e,s)},p:F,i:F,o:F,d(n){n&&v(e)}}}class vt extends K{constructor(e){super(),z(this,e,null,$t,H,{})}}function bt(a){let e,t;return e=new vt({}),{c(){L(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:F,i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function yt(a){let e,t,n,s,r;return t=new _t({}),{c(){e=w("button"),L(t.$$.fragment),this.h()},l(c){e=k(c,"BUTTON",{class:!0});var o=V(e);N(t.$$.fragment,o),o.forEach(v),this.h()},h(){_(e,"class","vertical-center-children svelte-6q0yth")},m(c,o){U(c,e,o),R(t,e,null),n=!0,s||(r=J(e,"click",a[3]),s=!0)},p:F,i(c){n||(D(t.$$.fragment,c),n=!0)},o(c){T(t.$$.fragment,c),n=!1},d(c){c&&v(e),P(t),s=!1,r()}}}function wt(a){let e,t,n,s,r,c,o,l,i='<div class="logo-container svelte-6q0yth"><span class="text-2xl font-semibold whitespace-nowrap dark:text-white svelte-6q0yth">PourOverPotato</span> <p class="sublogo svelte-6q0yth">Save your best recipes for later use</p></div>',g;const $=[yt,bt],m=[];function b(f,h){return f[1]!==I.home?0:1}return r=b(a),c=m[r]=$[r](a),{c(){e=w("nav"),t=w("div"),n=w("div"),s=w("div"),c.c(),o=B(),l=w("a"),l.innerHTML=i,this.h()},l(f){e=k(f,"NAV",{class:!0});var h=V(e);t=k(h,"DIV",{class:!0});var p=V(t);n=k(p,"DIV",{class:!0});var d=V(n);s=k(d,"DIV",{class:!0});var M=V(s);c.l(M),M.forEach(v),o=E(d),l=k(d,"A",{href:!0,"data-svelte-h":!0}),j(l)!=="svelte-1wmgnn8"&&(l.innerHTML=i),d.forEach(v),p.forEach(v),h.forEach(v),this.h()},h(){_(s,"class","icon-button vertical-center-children svelte-6q0yth"),_(l,"href",I.home),_(n,"class","left-nav-side vertical-center-children svelte-6q0yth"),_(t,"class","flex flex-wrap items-center justify-between mx-auto p-4"),_(e,"class","svelte-6q0yth"),O(e,"as-gap",a[0]),O(e,"nav-static",a[2].url.pathname===I.addRecipe()||a[2].url.pathname.substring(0,a[2].url.pathname.lastIndexOf("/")+1)+1===I.recipeItem(1))},m(f,h){U(f,e,h),y(e,t),y(t,n),y(n,s),m[r].m(s,null),y(n,o),y(n,l),g=!0},p(f,[h]){let p=r;r=b(f),r===p?m[r].p(f,h):(ue(),T(m[p],1,1,()=>{m[p]=null}),fe(),c=m[r],c?c.p(f,h):(c=m[r]=$[r](f),c.c()),D(c,1),c.m(s,null)),(!g||h&1)&&O(e,"as-gap",f[0]),(!g||h&4)&&O(e,"nav-static",f[2].url.pathname===I.addRecipe()||f[2].url.pathname.substring(0,f[2].url.pathname.lastIndexOf("/")+1)+1===I.recipeItem(1))},i(f){g||(D(c),g=!0)},o(f){T(c),g=!1},d(f){f&&v(e),m[r].d()}}}function kt(a,e,t){let n;ce(a,ee,o=>t(2,n=o));let{asGap:s=!1}=e,r=I.home;ee.subscribe(o=>{t(1,r=o.url.pathname)});function c(){history.length===0?se(I.home,{replaceState:!0}):history.back()}return a.$$set=o=>{"asGap"in o&&t(0,s=o.asGap)},[s,r,n,c]}class ke extends K{constructor(e){super(),z(this,e,kt,wt,H,{asGap:0})}}function Ct(a){let e,t=`<p class="svelte-1qp1gq4">Please try turning persistent storage ON in your browser, it will make your data relatively safe from a browser
      eviction.</p>`,n,s,r,c="Enable persistent storage",o,l,i="Cancel",g,$;return{c(){e=w("div"),e.innerHTML=t,n=B(),s=w("div"),r=w("button"),r.textContent=c,o=B(),l=w("button"),l.textContent=i,this.h()},l(m){e=k(m,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ekvqww"&&(e.innerHTML=t),n=E(m),s=k(m,"DIV",{class:!0});var b=V(s);r=k(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(r)!=="svelte-19r4dnf"&&(r.textContent=c),o=E(b),l=k(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(l)!=="svelte-8x4blm"&&(l.textContent=i),b.forEach(v),this.h()},h(){_(e,"class","text-container svelte-1qp1gq4"),_(r,"class","enable svelte-1qp1gq4"),_(r,"type","button"),_(l,"class","cancel svelte-1qp1gq4"),_(l,"type","button"),_(s,"class","buttons-container svelte-1qp1gq4")},m(m,b){U(m,e,b),U(m,n,b),U(m,s,b),y(s,r),a[7](r),y(s,o),y(s,l),a[8](l),g||($=[J(r,"click",a[4]),J(l,"click",a[9]),J(l,"keydown",a[6])],g=!0)},p:F,d(m){m&&(v(e),v(n),v(s)),a[7](null),a[8](null),g=!1,qe($)}}}function St(a){let e,t,n,s;function r(l){a[11](l)}function c(l){a[12](l)}let o={onFocusReverse:a[10],onStateChange:a[5],title:"Persistent storage not enabled",$$slots:{default:[Ct]},$$scope:{ctx:a}};return a[1]!==void 0&&(o.setFocus=a[1]),a[0]!==void 0&&(o.setState=a[0]),e=new ze({props:o}),X.push(()=>pe(e,"setFocus",r)),X.push(()=>pe(e,"setState",c)),{c(){L(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,i){R(e,l,i),s=!0},p(l,[i]){const g={};i&4&&(g.onFocusReverse=l[10]),i&16397&&(g.$$scope={dirty:i,ctx:l}),!t&&i&2&&(t=!0,g.setFocus=l[1],me(()=>t=!1)),!n&&i&1&&(n=!0,g.setState=l[0],me(()=>n=!1)),e.$set(g)},i(l){s||(D(e.$$.fragment,l),s=!0)},o(l){T(e.$$.fragment,l),s=!1},d(l){P(e,l)}}}const te="persistentStorageCheckDate";function It(a,e,t){let n;ce(a,ee,d=>t(13,n=d));let s,r,c,o;ie(async()=>{await navigator.storage.persisted()===!1&&(localStorage.getItem(te)===null||localStorage.getItem(te)!==new Date().toDateString())&&await Ye()&&(localStorage.setItem(te,new Date().toDateString()),s("open"))});async function l(){if(await navigator.storage.persist()==!1)alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems to be the only browser to allow enabling persistent storage always.");else{s("closed"),Ze("Persistent storage enabled.");const M=n.url.pathname;se(I.home).then(()=>se(M))}}function i(d){d==="open"&&Oe().then(()=>{o.focus()})}function g(d){d.key==="Tab"&&d.shiftKey===!1&&(d.preventDefault(),r())}function $(d){X[d?"unshift":"push"](()=>{o=d,t(3,o)})}function m(d){X[d?"unshift":"push"](()=>{c=d,t(2,c)})}const b=()=>s("closed"),f=()=>c.focus();function h(d){r=d,t(1,r)}function p(d){s=d,t(0,s)}return[s,r,c,o,l,i,g,$,m,b,f,h,p]}class Dt extends K{constructor(e){super(),z(this,e,It,St,H,{})}}async function Tt(){const a=await Ie(),e=await a.getAll("coffeeBeans");for(const t of e)t.softDeleted&&await a.delete("coffeeBeans",t.id)}async function Mt(){const a=await Ie(),e=await a.getAll("recipes");for(const t of e)t.softDeleted&&await a.delete("recipes",t.id)}function Ut(){for(let a=0;a<localStorage.length;a++){const e=localStorage.key(a);e!=null&&e.startsWith("sortOrder_")&&e!=="sortOrder_recipes"&&localStorage.removeItem(e)}}const ne="vacuum_last_date";function Bt(a){ie(()=>{e()});async function e(){console.log("Vacuum started.");const t=localStorage.getItem(ne);if(t===null){localStorage.setItem(ne,new Date().toDateString());return}const n=new Date(t),r=new Date().getTime()-n.getTime();Math.floor(r/(1e3*3600*24))<7||(Ut(),await Mt(),await Tt(),localStorage.setItem(ne,new Date().toDateString()),console.log("Vacuum finished."))}return[]}class Et extends K{constructor(e){super(),z(this,e,Bt,null,H,{})}}function qt(a){let e,t,n,s,r,c,o,l,i,g,$,m,b,f,h,p,d,M,x,Y,A,S,q;e=new ke({}),n=new ke({props:{asGap:!0}}),r=new _e({}),l=new _e({props:{asGap:!0}});const Z=a[1].default,G=ae(Z,a,a[0],null);return f=new we({props:{asGap:!0}}),p=new we({}),M=new ut({}),Y=new Dt({}),S=new Et({}),{c(){L(e.$$.fragment),t=B(),L(n.$$.fragment),s=B(),L(r.$$.fragment),c=B(),o=w("div"),L(l.$$.fragment),i=B(),g=w("div"),G&&G.c(),$=B(),m=w("div"),b=B(),L(f.$$.fragment),h=B(),L(p.$$.fragment),d=B(),L(M.$$.fragment),x=B(),L(Y.$$.fragment),A=B(),L(S.$$.fragment),this.h()},l(u){N(e.$$.fragment,u),t=E(u),N(n.$$.fragment,u),s=E(u),N(r.$$.fragment,u),c=E(u),o=k(u,"DIV",{id:!0,style:!0});var C=V(o);N(l.$$.fragment,C),i=E(C),g=k(C,"DIV",{class:!0});var W=V(g);G&&G.l(W),$=E(W),m=k(W,"DIV",{class:!0}),V(m).forEach(v),W.forEach(v),C.forEach(v),b=E(u),N(f.$$.fragment,u),h=E(u),N(p.$$.fragment,u),d=E(u),N(M.$$.fragment,u),x=E(u),N(Y.$$.fragment,u),A=E(u),N(S.$$.fragment,u),this.h()},h(){_(m,"class","bottom-gap svelte-1ruqigr"),_(g,"class","page-container svelte-1ruqigr"),_(o,"id","content"),he(o,"display","flex"),he(o,"flex-direction","row")},m(u,C){R(e,u,C),U(u,t,C),R(n,u,C),U(u,s,C),R(r,u,C),U(u,c,C),U(u,o,C),R(l,o,null),y(o,i),y(o,g),G&&G.m(g,null),y(g,$),y(g,m),U(u,b,C),R(f,u,C),U(u,h,C),R(p,u,C),U(u,d,C),R(M,u,C),U(u,x,C),R(Y,u,C),U(u,A,C),R(S,u,C),q=!0},p(u,[C]){G&&G.p&&(!q||C&1)&&re(G,Z,u,u[0],q?oe(Z,u[0],C,null):le(u[0]),null)},i(u){q||(D(e.$$.fragment,u),D(n.$$.fragment,u),D(r.$$.fragment,u),D(l.$$.fragment,u),D(G,u),D(f.$$.fragment,u),D(p.$$.fragment,u),D(M.$$.fragment,u),D(Y.$$.fragment,u),D(S.$$.fragment,u),q=!0)},o(u){T(e.$$.fragment,u),T(n.$$.fragment,u),T(r.$$.fragment,u),T(l.$$.fragment,u),T(G,u),T(f.$$.fragment,u),T(p.$$.fragment,u),T(M.$$.fragment,u),T(Y.$$.fragment,u),T(S.$$.fragment,u),q=!1},d(u){u&&(v(t),v(s),v(c),v(o),v(b),v(h),v(d),v(x),v(A)),P(e,u),P(n,u),P(r,u),P(l),G&&G.d(u),P(f,u),P(p,u),P(M,u),P(Y,u),P(S,u)}}}function Ot(a,e,t){let{$$slots:n={},$$scope:s}=e;return a.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,n]}class Vt extends K{constructor(e){super(),z(this,e,Ot,qt,H,{})}}function xt(a){let e;const t=a[0].default,n=ae(t,a,a[1],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,r){n&&n.m(s,r),e=!0},p(s,r){n&&n.p&&(!e||r&2)&&re(n,t,s,s[1],e?oe(t,s[1],r,null):le(s[1]),null)},i(s){e||(D(n,s),e=!0)},o(s){T(n,s),e=!1},d(s){n&&n.d(s)}}}function At(a){let e,t;return e=new Vt({props:{$$slots:{default:[xt]},$$scope:{ctx:a}}}),{c(){L(e.$$.fragment)},l(n){N(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){T(e.$$.fragment,n),t=!1},d(n){P(e,n)}}}function Lt(a,e,t){let{$$slots:n={},$$scope:s}=e;return a.$$set=r=>{"$$scope"in r&&t(1,s=r.$$scope)},[n,s]}class Yt extends K{constructor(e){super(),z(this,e,Lt,At,H,{})}}export{Yt as component};
