import{s as ye,b as Z,u as _e,a as he,r as Me,t as De,o as Fe,n as C}from"../chunks/scheduler.ZvbRK0ck.js";import{S as Ee,i as Ne,A as be,s as E,e as N,m as j,t as ee,f as P,c as I,w as A,a as G,o as q,b as te,d as h,x as w,z as ge,g as v,p as V,h as B,F as $e,B as W,C as Re,j as pe,l as y,k as M,r as z,v as x,n as Se,q as me,u as de,y as Te}from"../chunks/index.D4zfOep-.js";import{e as ve}from"../chunks/each.ggNsCiOK.js";import{C as ce,k as Oe,l as je,m as qe,d as Ve,P as ze}from"../chunks/PageHeadline.zjx-BUZ1.js";import{s as He,F as Ke,M as Le}from"../chunks/MyFab.RmFSIMab.js";import{r as fe}from"../chunks/routes.1eZgGMMa.js";import{R as Ae}from"../chunks/RecipeCard.Qr_L5KIl.js";import{M as Ue,L as ke,T as We}from"../chunks/Textarea.SfFHuTCd.js";import{M as Ge}from"../chunks/MySidebar.tLr-8Oef.js";const Xe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Ye({params:a}){return{coffeeBeansName:a.name}}const Et=Object.freeze(Object.defineProperty({__proto__:null,load:Ye},Symbol.toStringTag,{value:"Module"})),{window:Je}=Xe;function Qe(a){let e;return{c(){e=ee("Edit coffee beans")},l(n){e=te(n,"Edit coffee beans")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function Ze(a){let e;return{c(){e=ee("Coffee beans name:")},l(n){e=te(n,"Coffee beans name:")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function xe(a){let e;return{c(){e=ee("Description:")},l(n){e=te(n,"Description:")},m(n,t){v(n,e,t)},d(n){n&&h(e)}}}function et(a){let e,n,t="Edit",l,f,r,i,_,s,m,u,b,c,k,o,g,H,K,F,X,ne,R,S,ae,D,le,oe,se,T,re="Save",p,Y,J;r=new Ge({props:{asGap:!0}}),s=new Ue({props:{$$slots:{default:[Qe]},$$scope:{ctx:a}}}),s.$on("click",a[21]),c=new ke({props:{_for:"name",valid:!a[0],$$slots:{default:[Ze]},$$scope:{ctx:a}}}),S=new ke({props:{_for:"description",$$slots:{default:[xe]},$$scope:{ctx:a}}});function Pe(d){a[24](d)}function Ie(d){a[25](d)}let ue={id:"description",name:"description",placeholder:tt};return a[5]!==void 0&&(ue._this=a[5]),a[8]!==void 0&&(ue.value=a[8]),D=new We({props:ue}),Z.push(()=>be(D,"_this",Pe)),Z.push(()=>be(D,"value",Ie)),D.$on("keydown",a[14]),{c(){e=E(),n=N("button"),n.textContent=t,l=E(),f=N("div"),j(r.$$.fragment),i=E(),_=N("div"),j(s.$$.fragment),m=E(),u=N("form"),b=N("div"),j(c.$$.fragment),k=E(),o=N("input"),K=E(),F=N("p"),X=ee(a[9]),ne=E(),R=N("div"),j(S.$$.fragment),ae=E(),j(D.$$.fragment),se=E(),T=N("button"),T.textContent=re,this.h()},l(d){e=P(d),n=I(d,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),A(n)!=="svelte-1apqlca"&&(n.textContent=t),l=P(d),f=I(d,"DIV",{class:!0});var $=G(f);q(r.$$.fragment,$),i=P($),_=I($,"DIV",{class:!0});var U=G(_);q(s.$$.fragment,U),m=P(U),u=I(U,"FORM",{class:!0});var O=G(u);b=I(O,"DIV",{class:!0});var L=G(b);q(c.$$.fragment,L),k=P(L),o=I(L,"INPUT",{class:!0,id:!0,name:!0,placeholder:!0,type:!0}),K=P(L),F=I(L,"P",{class:!0});var Q=G(F);X=te(Q,a[9]),Q.forEach(h),L.forEach(h),ne=P(O),R=I(O,"DIV",{class:!0});var ie=G(R);q(S.$$.fragment,ie),ae=P(ie),q(D.$$.fragment,ie),ie.forEach(h),se=P(O),T=I(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),A(T)!=="svelte-j4uhei"&&(T.textContent=re),O.forEach(h),U.forEach(h),$.forEach(h),this.h()},h(){w(n,"class","edit-button svelte-12pk1fb"),w(n,"type","button"),w(o,"class",g=_e(a[0]?"input-name-validation-failed":"input-name")+" svelte-12pk1fb"),w(o,"id","name"),w(o,"name","name"),w(o,"placeholder",H=a[0]?"":"Example: Rwanda Mabanza"),w(o,"type","text"),w(F,"class","mt-2 text-sm text-red-600 dark:text-red-500"),w(b,"class","mb-5"),w(R,"class","my-div mb-5 svelte-12pk1fb"),w(T,"class","button-submit svelte-12pk1fb"),w(T,"type","submit"),w(u,"class","max-w-sm mx-auto"),w(_,"class","inner-container svelte-12pk1fb"),w(f,"class","modal-container svelte-12pk1fb"),ge(f,"show-modal",a[1])},m(d,$){v(d,e,$),v(d,n,$),a[19](n),v(d,l,$),v(d,f,$),V(r,f,null),B(f,i),B(f,_),V(s,_,null),B(_,m),B(_,u),B(u,b),V(c,b,null),B(b,k),B(b,o),a[22](o),$e(o,a[7]),B(b,K),B(b,F),B(F,X),B(u,ne),B(u,R),V(S,R,null),B(R,ae),V(D,R,null),B(u,se),B(u,T),a[26](u),a[27](_),p=!0,Y||(J=[W(Je,"keydown",a[12]),W(document,"click",a[17]),W(n,"click",a[20]),W(o,"input",a[23]),W(o,"input",a[16]),W(o,"keydown",a[13]),W(u,"submit",Re(a[15]))],Y=!0)},p(d,[$]){const U={};$&268435456&&(U.$$scope={dirty:$,ctx:d}),s.$set(U);const O={};$&1&&(O.valid=!d[0]),$&268435456&&(O.$$scope={dirty:$,ctx:d}),c.$set(O),(!p||$&1&&g!==(g=_e(d[0]?"input-name-validation-failed":"input-name")+" svelte-12pk1fb"))&&w(o,"class",g),(!p||$&1&&H!==(H=d[0]?"":"Example: Rwanda Mabanza"))&&w(o,"placeholder",H),$&128&&o.value!==d[7]&&$e(o,d[7]),(!p||$&512)&&pe(X,d[9]);const L={};$&268435456&&(L.$$scope={dirty:$,ctx:d}),S.$set(L);const Q={};!le&&$&32&&(le=!0,Q._this=d[5],he(()=>le=!1)),!oe&&$&256&&(oe=!0,Q.value=d[8],he(()=>oe=!1)),D.$set(Q),(!p||$&2)&&ge(f,"show-modal",d[1])},i(d){p||(y(r.$$.fragment,d),y(s.$$.fragment,d),y(c.$$.fragment,d),y(S.$$.fragment,d),y(D.$$.fragment,d),p=!0)},o(d){M(r.$$.fragment,d),M(s.$$.fragment,d),M(c.$$.fragment,d),M(S.$$.fragment,d),M(D.$$.fragment,d),p=!1},d(d){d&&(h(e),h(n),h(l),h(f)),a[19](null),z(r),z(s),z(c),a[22](null),z(S),z(D),a[26](null),a[27](null),Y=!1,Me(J)}}}const tt="Example: Washed process. Notes: plum, cherry.";function Ce(a,e){const n=a.getBoundingClientRect(),t=e.clientX,l=e.clientY;return t<n.left||t>n.right||l<n.top||l>n.bottom}function nt(a,e,n){let{coffeeBeansItem:t}=e,l=!1,f,r,i,_,s,m=t.name,u=t.description,b=!1,c="";function k(){n(1,l=!0),De().then(()=>{i.focus()})}function o(){n(1,l=!1),n(0,b=!1)}function g(p){l&&p.key==="Escape"&&n(1,l=!1)}function H(p){p.key==="Enter"&&(p.preventDefault(),_.focus())}function K(p){p.key==="Enter"&&(p.metaKey||p.ctrlKey)&&(p.preventDefault(),s.requestSubmit())}async function F(){const p=new ce({name:m,description:u},t.id),Y=Oe.create(p);if(Y==="ValidationFailed_NameMustBeAtLeast3CharsLong"){n(0,b=!0),n(9,c="Name must be at least 3 characters long.");return}const J=await je(Y);if(J==="Failure_NameAlreadyExist"){n(0,b=!0),n(9,c="Coffee beans with this name exist already.");return}alert("We saved the edited coffee beans successfully."),n(18,t=J),o(),window.location.replace(fe.coffeeBeansItem(J.name))}function X(){b&&(n(0,b=!1),n(9,c=""))}function ne(p){l!==!1&&Ce(f,p)&&Ce(r,p)&&o()}function R(p){Z[p?"unshift":"push"](()=>{r=p,n(3,r)})}const S=()=>k(),ae=()=>o();function D(p){Z[p?"unshift":"push"](()=>{i=p,n(4,i)})}function le(){m=this.value,n(7,m)}function oe(p){_=p,n(5,_)}function se(p){u=p,n(8,u)}function T(p){Z[p?"unshift":"push"](()=>{s=p,n(6,s)})}function re(p){Z[p?"unshift":"push"](()=>{f=p,n(2,f)})}return a.$$set=p=>{"coffeeBeansItem"in p&&n(18,t=p.coffeeBeansItem)},a.$$.update=()=>{a.$$.dirty&1&&b===!1&&n(9,c="")},[b,l,f,r,i,_,s,m,u,c,k,o,g,H,K,F,X,ne,t,R,S,ae,D,le,oe,se,T,re]}class at extends Ee{constructor(e){super(),Ne(this,e,nt,et,ye,{coffeeBeansItem:18})}}function we(a,e,n){const t=a.slice();return t[3]=e[n],t}function lt(a){return{c(){this.h()},l(e){this.h()},h(){document.title="404 Not Found - PourOverPotato app"},m:C,d:C}}function ot(a){return{c(){this.h()},l(e){this.h()},h(){document.title="loading... - PourOverPotato app"},m:C,d:C}}function st(a){return document.title=a[0].name+" - PourOverPotato app",{c:C,l:C,m:C,d:C}}function ft(a){let e,n="404",t,l,f="Coffee beans not found.";return{c(){e=N("h1"),e.textContent=n,t=E(),l=N("p"),l.textContent=f},l(r){e=I(r,"H1",{"data-svelte-h":!0}),A(e)!=="svelte-v1pfve"&&(e.textContent=n),t=P(r),l=I(r,"P",{"data-svelte-h":!0}),A(l)!=="svelte-9rilyc"&&(l.textContent=f)},m(r,i){v(r,e,i),v(r,t,i),v(r,l,i)},p:C,i:C,o:C,d(r){r&&(h(e),h(t),h(l))}}}function rt(a){let e,n="loading...";return{c(){e=N("p"),e.textContent=n},l(t){e=I(t,"P",{"data-svelte-h":!0}),A(e)!=="svelte-qeejp2"&&(e.textContent=n)},m(t,l){v(t,e,l)},p:C,i:C,o:C,d(t){t&&h(e)}}}function it(a){let e,n,t,l=a[0].description+"",f,r,i,_,s,m,u;e=new Ke({props:{$$slots:{default:[ct]},$$scope:{ctx:a}}});const b=[dt,mt,pt],c=[];function k(o,g){return o[1]!==void 0&&o[1].length>0?0:o[1]!==void 0&&o[1].length===0?1:2}return i=k(a),_=c[i]=b[i](a),m=new Le({props:{href:fe.addRecipe(a[0].name)}}),{c(){j(e.$$.fragment),n=E(),t=N("p"),f=ee(l),r=E(),_.c(),s=E(),j(m.$$.fragment),this.h()},l(o){q(e.$$.fragment,o),n=P(o),t=I(o,"P",{class:!0});var g=G(t);f=te(g,l),g.forEach(h),r=P(o),_.l(o),s=P(o),q(m.$$.fragment,o),this.h()},h(){w(t,"class","coffee-beans-description svelte-1vpoeu5")},m(o,g){V(e,o,g),v(o,n,g),v(o,t,g),B(t,f),v(o,r,g),c[i].m(o,g),v(o,s,g),V(m,o,g),u=!0},p(o,g){const H={};g&65&&(H.$$scope={dirty:g,ctx:o}),e.$set(H),(!u||g&1)&&l!==(l=o[0].description+"")&&pe(f,l);let K=i;i=k(o),i===K?c[i].p(o,g):(de(),M(c[K],1,1,()=>{c[K]=null}),me(),_=c[i],_?_.p(o,g):(_=c[i]=b[i](o),_.c()),y(_,1),_.m(s.parentNode,s));const F={};g&1&&(F.href=fe.addRecipe(o[0].name)),m.$set(F)},i(o){u||(y(e.$$.fragment,o),y(_),y(m.$$.fragment,o),u=!0)},o(o){M(e.$$.fragment,o),M(_),M(m.$$.fragment,o),u=!1},d(o){o&&(h(n),h(t),h(r),h(s)),z(e,o),c[i].d(o),z(m,o)}}}function ut(a){let e=a[0].name+"",n;return{c(){n=ee(e)},l(t){n=te(t,e)},m(t,l){v(t,n,l)},p(t,l){l&1&&e!==(e=t[0].name+"")&&pe(n,e)},d(t){t&&h(n)}}}function ct(a){let e,n,t,l;return e=new ze({props:{$$slots:{default:[ut]},$$scope:{ctx:a}}}),t=new at({props:{coffeeBeansItem:a[0]}}),{c(){j(e.$$.fragment),n=E(),j(t.$$.fragment)},l(f){q(e.$$.fragment,f),n=P(f),q(t.$$.fragment,f)},m(f,r){V(e,f,r),v(f,n,r),V(t,f,r),l=!0},p(f,r){const i={};r&65&&(i.$$scope={dirty:r,ctx:f}),e.$set(i);const _={};r&1&&(_.coffeeBeansItem=f[0]),t.$set(_)},i(f){l||(y(e.$$.fragment,f),y(t.$$.fragment,f),l=!0)},o(f){M(e.$$.fragment,f),M(t.$$.fragment,f),l=!1},d(f){f&&h(n),z(e,f),z(t,f)}}}function pt(a){let e,n="loading...";return{c(){e=N("p"),e.textContent=n},l(t){e=I(t,"P",{"data-svelte-h":!0}),A(e)!=="svelte-qeejp2"&&(e.textContent=n)},m(t,l){v(t,e,l)},p:C,i:C,o:C,d(t){t&&h(e)}}}function mt(a){let e,n="No recipes added yet.";return{c(){e=N("p"),e.textContent=n},l(t){e=I(t,"P",{"data-svelte-h":!0}),A(e)!=="svelte-1wkojli"&&(e.textContent=n)},m(t,l){v(t,e,l)},p:C,i:C,o:C,d(t){t&&h(e)}}}function dt(a){let e,n="Sorted by latest recipe",t,l,f,r=ve(a[1]),i=[];for(let s=0;s<r.length;s+=1)i[s]=Be(we(a,r,s));const _=s=>M(i[s],1,1,()=>{i[s]=null});return{c(){e=N("h2"),e.textContent=n,t=E();for(let s=0;s<i.length;s+=1)i[s].c();l=x(),this.h()},l(s){e=I(s,"H2",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-21fhux"&&(e.textContent=n),t=P(s);for(let m=0;m<i.length;m+=1)i[m].l(s);l=x(),this.h()},h(){w(e,"class","svelte-1vpoeu5")},m(s,m){v(s,e,m),v(s,t,m);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,m);v(s,l,m),f=!0},p(s,m){if(m&2){r=ve(s[1]);let u;for(u=0;u<r.length;u+=1){const b=we(s,r,u);i[u]?(i[u].p(b,m),y(i[u],1)):(i[u]=Be(b),i[u].c(),y(i[u],1),i[u].m(l.parentNode,l))}for(de(),u=r.length;u<i.length;u+=1)_(u);me()}},i(s){if(!f){for(let m=0;m<r.length;m+=1)y(i[m]);f=!0}},o(s){i=i.filter(Boolean);for(let m=0;m<i.length;m+=1)M(i[m]);f=!1},d(s){s&&(h(e),h(t),h(l)),Te(i,s)}}}function Be(a){let e,n;return e=new Ae({props:{href:fe.recipeItem(a[3].id),recipe:a[3]}}),{c(){j(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,l){V(e,t,l),n=!0},p(t,l){const f={};l&2&&(f.href=fe.recipeItem(t[3].id)),l&2&&(f.recipe=t[3]),e.$set(f)},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){M(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function _t(a){let e,n,t,l,f,r;function i(c,k){if(c[0]instanceof ce)return st;if(c[0]===void 0)return ot;if(c[0]==="CoffeeBeansNotFound")return lt}let _=i(a),s=_&&_(a);const m=[it,rt,ft],u=[];function b(c,k){return c[0]instanceof ce?0:c[0]===void 0?1:c[0]==="CoffeeBeansNotFound"?2:-1}return~(t=b(a))&&(l=u[t]=m[t](a)),{c(){s&&s.c(),e=x(),n=E(),l&&l.c(),f=x()},l(c){const k=Se("svelte-7zoeqv",document.head);s&&s.l(k),e=x(),k.forEach(h),n=P(c),l&&l.l(c),f=x()},m(c,k){s&&s.m(document.head,null),B(document.head,e),v(c,n,k),~t&&u[t].m(c,k),v(c,f,k),r=!0},p(c,[k]){_!==(_=i(c))&&(s&&s.d(1),s=_&&_(c),s&&(s.c(),s.m(e.parentNode,e)));let o=t;t=b(c),t===o?~t&&u[t].p(c,k):(l&&(de(),M(u[o],1,1,()=>{u[o]=null}),me()),~t?(l=u[t],l?l.p(c,k):(l=u[t]=m[t](c),l.c()),y(l,1),l.m(f.parentNode,f)):l=null)},i(c){r||(y(l),r=!0)},o(c){M(l),r=!1},d(c){c&&(h(n),h(f)),s&&s.d(c),h(e),~t&&u[t].d(c)}}}function ht(a,e,n){let{data:t}=e,l,f;return Fe(()=>{qe(t.coffeeBeansName).then(r=>r===void 0?(n(0,l="CoffeeBeansNotFound"),Promise.resolve("CoffeeBeansNotFound")):(n(0,l=r),Ve(l.id))).then(r=>{r!=="CoffeeBeansNotFound"&&n(1,f=r.sort(He))})}),a.$$set=r=>{"data"in r&&n(2,t=r.data)},[l,f,t]}class Nt extends Ee{constructor(e){super(),Ne(this,e,ht,_t,ye,{data:2})}}export{Nt as component,Et as universal};
