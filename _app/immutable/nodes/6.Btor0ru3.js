import{s as j,o as q,b as D,a as M,n as V}from"../chunks/scheduler.Cw1-ZcKD.js";import{S as F,i as L,s as N,k,l as T,d as g,f as O,m as B,g as b,n as R,o as d,p as C,q as _,r as w,t as z,b as H,u as I,v as G,w as P,x as J}from"../chunks/index.D7LFJCWc.js";import{g as K,e as v}from"../chunks/coffeeBeansAPI.BVL1Bkc3.js";import{P as Q,g as U}from"../chunks/PageHeadline.CaoNtbC7.js";import{r as A}from"../chunks/routes.uZ2bepKa.js";import{s as y}from"../chunks/core.C_szslgD.js";import{S as W,R as X}from"../chunks/SortRecipesSelect.C7Sr7KLI.js";import{A as Y}from"../chunks/NoItemsYetP.D5qBnwgu.js";import{L as Z}from"../chunks/Loading.B4oECrVu.js";import{A as x}from"../chunks/AddDemoCoffeeBeans_PageBlock.lEIFgTzz.js";function ee(c,r){return Object.assign(c,{coffeeBeansName:r})}function E(c,r,n){const e=c.slice();return e[5]=r[n],e}function te(c){let r;return{c(){r=z("Recipes")},l(n){r=H(n,"Recipes")},m(n,e){b(n,r,e)},d(n){n&&g(r)}}}function re(c){let r,n,e,s,f;function $(o){c[4](o)}let u={};c[1]!==void 0&&(u.sortOrderValue=c[1]),r=new W({props:u}),D.push(()=>G(r,"sortOrderValue",$));let m=v(c[0]),a=[];for(let o=0;o<m.length;o+=1)a[o]=S(E(c,m,o));const p=o=>d(a[o],1,1,()=>{a[o]=null});return{c(){k(r.$$.fragment),e=N();for(let o=0;o<a.length;o+=1)a[o].c();s=P()},l(o){B(r.$$.fragment,o),e=O(o);for(let t=0;t<a.length;t+=1)a[t].l(o);s=P()},m(o,t){R(r,o,t),b(o,e,t);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(o,t);b(o,s,t),f=!0},p(o,t){const i={};if(!n&&t&2&&(n=!0,i.sortOrderValue=o[1],M(()=>n=!1)),r.$set(i),t&1){m=v(o[0]);let l;for(l=0;l<m.length;l+=1){const h=E(o,m,l);a[l]?(a[l].p(h,t),_(a[l],1)):(a[l]=S(h),a[l].c(),_(a[l],1),a[l].m(s.parentNode,s))}for(I(),l=m.length;l<a.length;l+=1)p(l);C()}},i(o){if(!f){_(r.$$.fragment,o);for(let t=0;t<m.length;t+=1)_(a[t]);f=!0}},o(o){d(r.$$.fragment,o),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)d(a[t]);f=!1},d(o){o&&(g(e),g(s)),w(r,o),J(a,o)}}}function ne(c){let r,n;return r=new x({props:{onAddDemoEntities:c[3]}}),{c(){k(r.$$.fragment)},l(e){B(r.$$.fragment,e)},m(e,s){R(r,e,s),n=!0},p:V,i(e){n||(_(r.$$.fragment,e),n=!0)},o(e){d(r.$$.fragment,e),n=!1},d(e){w(r,e)}}}function oe(c){let r,n;return r=new Z({}),{c(){k(r.$$.fragment)},l(e){B(r.$$.fragment,e)},m(e,s){R(r,e,s),n=!0},p:V,i(e){n||(_(r.$$.fragment,e),n=!0)},o(e){d(r.$$.fragment,e),n=!1},d(e){w(r,e)}}}function S(c){let r,n;return r=new X({props:{coffeeBeansName:c[5].coffeeBeansName,href:A.recipeItem(c[5].id),recipe:c[5]}}),{c(){k(r.$$.fragment)},l(e){B(r.$$.fragment,e)},m(e,s){R(r,e,s),n=!0},p(e,s){const f={};s&1&&(f.coffeeBeansName=e[5].coffeeBeansName),s&1&&(f.href=A.recipeItem(e[5].id)),s&1&&(f.recipe=e[5]),r.$set(f)},i(e){n||(_(r.$$.fragment,e),n=!0)},o(e){d(r.$$.fragment,e),n=!1},d(e){w(r,e)}}}function se(c){let r,n,e,s,f,$,u,m;n=new Q({props:{$$slots:{default:[te]},$$scope:{ctx:c}}});const a=[oe,ne,re],p=[];function o(t,i){return t[0]===void 0?0:t[0].length===0?1:2}return s=o(c),f=p[s]=a[s](c),u=new Y({props:{href:A.addRecipe()}}),{c(){r=N(),k(n.$$.fragment),e=N(),f.c(),$=N(),k(u.$$.fragment),this.h()},l(t){T("svelte-i8qhzg",document.head).forEach(g),r=O(t),B(n.$$.fragment,t),e=O(t),f.l(t),$=O(t),B(u.$$.fragment,t),this.h()},h(){document.title="Recipes - PourOverPotato"},m(t,i){b(t,r,i),R(n,t,i),b(t,e,i),p[s].m(t,i),b(t,$,i),R(u,t,i),m=!0},p(t,[i]){const l={};i&256&&(l.$$scope={dirty:i,ctx:t}),n.$set(l);let h=s;s=o(t),s===h?p[s].p(t,i):(I(),d(p[h],1,1,()=>{p[h]=null}),C(),f=p[s],f?f.p(t,i):(f=p[s]=a[s](t),f.c()),_(f,1),f.m($.parentNode,$))},i(t){m||(_(n.$$.fragment,t),_(f),_(u.$$.fragment,t),m=!0)},o(t){d(n.$$.fragment,t),d(f),d(u.$$.fragment,t),m=!1},d(t){t&&(g(r),g(e),g($)),w(n,t),p[s].d(t),w(u,t)}}}function ae(c,r,n){let e,s;q(()=>{f()});async function f(){const m=await K(),a=new Map;m.forEach(p=>a.set(p.id,p.name)),n(0,e=(await U()).sort(y).map(p=>{const o=a.get(p.coffeeBeansId)??"";return ee(p,o)}))}const $=()=>f();function u(m){s=m,n(1,s)}return c.$$.update=()=>{c.$$.dirty&3&&e&&n(0,e=e.sort((s==null?void 0:s.sortOrderFunc)??y))},[e,s,f,$,u]}class ge extends F{constructor(r){super(),L(this,r,ae,se,j,{})}}export{ge as component};
