import{s as G,d as ft,e as dt,n as P,o as pt}from"../chunks/scheduler.QZKnv3vM.js";import{S as z,i as R,y as mt,e as h,s as $,k as A,c as b,a as S,z as C,f as x,d as i,m as L,x as v,g as u,h as k,n as V,A as et,q as N,o as U,r as F,t as ct,b as ut,D as lt,v as it,j as vt,l as ht}from"../chunks/index.CHfITGLb.js";import{u as bt,v as _t,w as $t}from"../chunks/indexedDB.QH3nYluv.js";import{r as xt}from"../chunks/routes.is1kZnqI.js";import{D as Ct}from"../chunks/DeleteConfirmationModal.FjbEG8Ky.js";function yt(f){let t;return{c(){t=ct("Please confirm you want to delete all your data.")},l(e){t=ut(e,"Please confirm you want to delete all your data.")},m(e,n){u(e,t,n)},d(e){e&&i(t)}}}function gt(f){let t,e,n="Delete all data:",d,s,r="Delete all data",o,a,p,c,g,O;function H(_){f[3](_)}let w={onDeleteClick:f[1],$$slots:{default:[yt]},$$scope:{ctx:f}};return f[0]!==void 0&&(w.setModalState=f[0]),a=new Ct({props:w}),ft.push(()=>mt(a,"setModalState",H)),{c(){t=h("div"),e=h("p"),e.textContent=n,d=$(),s=h("button"),s.textContent=r,o=$(),A(a.$$.fragment),this.h()},l(_){t=b(_,"DIV",{class:!0});var y=S(t);e=b(y,"P",{"data-svelte-h":!0}),C(e)!=="svelte-15f4b12"&&(e.textContent=n),d=x(y),s=b(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),C(s)!=="svelte-14fbba6"&&(s.textContent=r),y.forEach(i),o=x(_),L(a.$$.fragment,_),this.h()},h(){v(s,"class","button-delete svelte-1m69evr"),v(s,"type","button"),v(t,"class","container svelte-1m69evr")},m(_,y){u(_,t,y),k(t,e),k(t,d),k(t,s),u(_,o,y),V(a,_,y),c=!0,g||(O=et(s,"click",f[2]),g=!0)},p(_,[y]){const D={};y&16&&(D.$$scope={dirty:y,ctx:_}),!p&&y&1&&(p=!0,D.setModalState=_[0],dt(()=>p=!1)),a.$set(D)},i(_){c||(N(a.$$.fragment,_),c=!0)},o(_){U(a.$$.fragment,_),c=!1},d(_){_&&(i(t),i(o)),F(a,_),g=!1,O()}}}function kt(f,t,e){let n;async function d(){await bt(),window.location.replace(xt.home),alert("All data deleted.")}const s=()=>n("open");function r(o){n=o,e(0,n)}return[n,d,s,r]}class wt extends z{constructor(t){super(),R(this,t,kt,gt,G,{})}}function Dt(f){let t,e,n="Export all data:",d,s,r="Export to file",o,a;return{c(){t=h("div"),e=h("p"),e.textContent=n,d=$(),s=h("button"),s.textContent=r,this.h()},l(p){t=b(p,"DIV",{class:!0});var c=S(t);e=b(c,"P",{style:!0,"data-svelte-h":!0}),C(e)!=="svelte-6a1m9a"&&(e.textContent=n),d=x(c),s=b(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),C(s)!=="svelte-1rmfvr0"&&(s.textContent=r),c.forEach(i),this.h()},h(){lt(e,"margin-right","0.5rem"),v(s,"type","button"),v(s,"class","svelte-1lmhlfg"),v(t,"class","container svelte-1lmhlfg")},m(p,c){u(p,t,c),k(t,e),k(t,d),k(t,s),o||(a=et(s,"click",f[0]),o=!0)},p:P,i:P,o:P,d(p){p&&i(t),o=!1,a()}}}function Pt(f){async function t(){const e=document.createElement("a"),n=await _t();e.href=URL.createObjectURL(n),e.setAttribute("download","PourOverPotato.json"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}return[t]}class qt extends z{constructor(t){super(),R(this,t,Pt,Dt,G,{})}}function It(f){let t,e,n="Import data:",d,s,r="Import from file",o,a;return{c(){t=h("div"),e=h("p"),e.textContent=n,d=$(),s=h("button"),s.textContent=r,this.h()},l(p){t=b(p,"DIV",{class:!0});var c=S(t);e=b(c,"P",{style:!0,"data-svelte-h":!0}),C(e)!=="svelte-1jemb82"&&(e.textContent=n),d=x(c),s=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),C(s)!=="svelte-1u0f5a8"&&(s.textContent=r),c.forEach(i),this.h()},h(){lt(e,"margin-right","0.5rem"),v(s,"class","svelte-1uvboly"),v(t,"class","container svelte-1uvboly")},m(p,c){u(p,t,c),k(t,e),k(t,d),k(t,s),o||(a=et(s,"click",f[0]),o=!0)},p:P,i:P,o:P,d(p){p&&i(t),o=!1,a()}}}function Tt(f){async function t(){const e=document.createElement("input");e.type="file",e.onchange=async()=>{if(console.log(e.files),e.files===null||e.files.item(0)===void 0||e.files.item(0)===null){alert("Please provide a single file.");return}if(e.files.length>1){alert("Please provide a single file.");return}const n=e.files.item(0);if(n.type!=="application/json"){alert("Please provide a JSON file.");return}await $t(n)},e.click()}return[t]}class Et extends z{constructor(t){super(),R(this,t,Tt,It,G,{})}}function Mt(f){let t,e,n,d,s,r=f[0]===!1&&rt();return{c(){t=h("p"),e=ct(f[0]),d=$(),r&&r.c(),s=it(),this.h()},l(o){t=b(o,"P",{class:!0,style:!0});var a=S(t);e=ut(a,f[0]),a.forEach(i),d=x(o),r&&r.l(o),s=it(),this.h()},h(){v(t,"class",n=f[0]?"text-green-500":"text-red-700"),lt(t,"font-weight","bold")},m(o,a){u(o,t,a),k(t,e),u(o,d,a),r&&r.m(o,a),u(o,s,a)},p(o,a){a&1&&vt(e,o[0]),a&1&&n!==(n=o[0]?"text-green-500":"text-red-700")&&v(t,"class",n),o[0]===!1?r?r.p(o,a):(r=rt(),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(o){o&&(i(t),i(d),i(s)),r&&r.d(o)}}}function jt(f){let t,e="loading...";return{c(){t=h("p"),t.textContent=e},l(n){t=b(n,"P",{"data-svelte-h":!0}),C(t)!=="svelte-qeejp2"&&(t.textContent=e)},m(n,d){u(n,t,d)},p:P,d(n){n&&i(t)}}}function rt(f){let t,e="Enable",n,d;return{c(){t=h("button"),t.textContent=e,this.h()},l(s){t=b(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),C(t)!=="svelte-105jgsy"&&(t.textContent=e),this.h()},h(){v(t,"type","button"),v(t,"class","svelte-1p6ta5y")},m(s,r){u(s,t,r),n||(d=et(t,"click",Ht),n=!0)},p:P,d(s){s&&i(t),n=!1,d()}}}function Bt(f){let t,e,n="Persistent storage enabled:",d,s;function r(p,c){return p[0]===void 0?jt:Mt}let o=r(f),a=o(f);return{c(){t=h("div"),e=h("p"),e.textContent=n,d=$(),s=h("div"),a.c(),this.h()},l(p){t=b(p,"DIV",{class:!0});var c=S(t);e=b(c,"P",{style:!0,"data-svelte-h":!0}),C(e)!=="svelte-11igao6"&&(e.textContent=n),d=x(c),s=b(c,"DIV",{class:!0,style:!0});var g=S(s);a.l(g),g.forEach(i),c.forEach(i),this.h()},h(){lt(e,"margin-right","0.5rem"),v(s,"class","container-row-nowrap svelte-1p6ta5y"),v(s,"style",""),v(t,"class","container svelte-1p6ta5y")},m(p,c){u(p,t,c),k(t,e),k(t,d),k(t,s),a.m(s,null)},p(p,[c]){o===(o=r(p))&&a?a.p(p,c):(a.d(1),a=o(p),a&&(a.c(),a.m(s,null)))},i:P,o:P,d(p){p&&i(t),a.d()}}}async function Ht(){await navigator.storage.persist()==!1?alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems the only browser to always allow enabling persistent storage."):(alert("Persistent storage enabled."),location.reload())}function St(f,t,e){let n;return pt(async()=>{e(0,n=await navigator.storage.persisted())}),[n]}class Ot extends z{constructor(t){super(),R(this,t,St,Bt,G,{})}}function At(f){let t,e,n="About app",d,s,r=`<p class="svelte-137qs6b">It&#39;s an open-source application developed
    <a href="https://github.com/dima-iholkin/PourOverPotato" class="svelte-137qs6b">on GitHub</a>.</p> <p class="svelte-137qs6b">You can view the development process on the
    <a href="https://github.com/users/dima-iholkin/projects/5/views/1" class="svelte-137qs6b">Projects page</a>.</p> <p class="svelte-137qs6b">You can influence the work at the project&#39;s GitHub or just contact me.</p>`,o,a,p="About your data",c,g,O=`<p class="svelte-137qs6b">Currently all data is saved only in the user&#39;s browser and is not sent anywhere. Later I want to add an ability to
    import and export data to a file, and sync data with Google Drive.</p> <p class="svelte-137qs6b">This is not a finilized version of the application. Things may change and data integrity is not guaranteed, however
    I&#39;ll try hard to not break you data.</p>`,H,w,_="Manage your data",y,D,Y,M,J,j,K,I,st="Delete your data",Q,B,W,T,at="Credits",X,E,nt="The coffee beans icon",Z,q,ot="created by Freepik - Flaticon",tt;return D=new Ot({}),M=new qt({}),j=new Et({}),B=new wt({}),{c(){t=$(),e=h("h5"),e.textContent=n,d=$(),s=h("div"),s.innerHTML=r,o=$(),a=h("h5"),a.textContent=p,c=$(),g=h("div"),g.innerHTML=O,H=$(),w=h("h5"),w.textContent=_,y=$(),A(D.$$.fragment),Y=$(),A(M.$$.fragment),J=$(),A(j.$$.fragment),K=$(),I=h("h5"),I.textContent=st,Q=$(),A(B.$$.fragment),W=$(),T=h("h5"),T.textContent=at,X=$(),E=h("p"),E.textContent=nt,Z=$(),q=h("a"),q.textContent=ot,this.h()},l(l){ht("svelte-1tq7k8",document.head).forEach(i),t=x(l),e=b(l,"H5",{class:!0,"data-svelte-h":!0}),C(e)!=="svelte-g523m9"&&(e.textContent=n),d=x(l),s=b(l,"DIV",{class:!0,"data-svelte-h":!0}),C(s)!=="svelte-7le8db"&&(s.innerHTML=r),o=x(l),a=b(l,"H5",{class:!0,"data-svelte-h":!0}),C(a)!=="svelte-belckq"&&(a.textContent=p),c=x(l),g=b(l,"DIV",{class:!0,"data-svelte-h":!0}),C(g)!=="svelte-189ij8d"&&(g.innerHTML=O),H=x(l),w=b(l,"H5",{class:!0,"data-svelte-h":!0}),C(w)!=="svelte-a9xi76"&&(w.textContent=_),y=x(l),L(D.$$.fragment,l),Y=x(l),L(M.$$.fragment,l),J=x(l),L(j.$$.fragment,l),K=x(l),I=b(l,"H5",{class:!0,"data-svelte-h":!0}),C(I)!=="svelte-lt73ae"&&(I.textContent=st),Q=x(l),L(B.$$.fragment,l),W=x(l),T=b(l,"H5",{class:!0,"data-svelte-h":!0}),C(T)!=="svelte-rvnewg"&&(T.textContent=at),X=x(l),E=b(l,"P",{class:!0,"data-svelte-h":!0}),C(E)!=="svelte-oigu97"&&(E.textContent=nt),Z=x(l),q=b(l,"A",{href:!0,title:!0,class:!0,"data-svelte-h":!0}),C(q)!=="svelte-km7dmi"&&(q.textContent=ot),this.h()},h(){document.title="Other - PourOverPotato app",v(e,"class","page-headline svelte-137qs6b"),v(s,"class","about-section svelte-137qs6b"),v(a,"class","svelte-137qs6b"),v(g,"class","about-section svelte-137qs6b"),v(w,"class","svelte-137qs6b"),v(I,"class","svelte-137qs6b"),v(T,"class","svelte-137qs6b"),v(E,"class","svelte-137qs6b"),v(q,"href","https://www.flaticon.com/free-icons/coffee-beans"),v(q,"title","coffee beans icons"),v(q,"class","svelte-137qs6b")},m(l,m){u(l,t,m),u(l,e,m),u(l,d,m),u(l,s,m),u(l,o,m),u(l,a,m),u(l,c,m),u(l,g,m),u(l,H,m),u(l,w,m),u(l,y,m),V(D,l,m),u(l,Y,m),V(M,l,m),u(l,J,m),V(j,l,m),u(l,K,m),u(l,I,m),u(l,Q,m),V(B,l,m),u(l,W,m),u(l,T,m),u(l,X,m),u(l,E,m),u(l,Z,m),u(l,q,m),tt=!0},p:P,i(l){tt||(N(D.$$.fragment,l),N(M.$$.fragment,l),N(j.$$.fragment,l),N(B.$$.fragment,l),tt=!0)},o(l){U(D.$$.fragment,l),U(M.$$.fragment,l),U(j.$$.fragment,l),U(B.$$.fragment,l),tt=!1},d(l){l&&(i(t),i(e),i(d),i(s),i(o),i(a),i(c),i(g),i(H),i(w),i(y),i(Y),i(J),i(K),i(I),i(Q),i(W),i(T),i(X),i(E),i(Z),i(q)),F(D,l),F(M,l),F(j,l),F(B,l)}}}class Gt extends z{constructor(t){super(),R(this,t,null,At,G,{})}}export{Gt as component};
