import{n as R,l as Me,k as ke,B as ce,s as F,d as se,u as ne,g as ae,e as re,h as we,o as Ce,j as Ue,C as qe,c as le,b as W,a as fe,r as Ee,t as De}from"../chunks/scheduler.Cw1-ZcKD.js";import{K as Be,L as Oe,M as xe,N as Le,S as H,i as K,e as k,s as B,t as Ne,c as w,a as x,y as j,f as O,b as Ve,d as v,z as _,g as E,h as y,A as J,j as Ae,q as M,o as U,k as V,m as A,n as P,r as G,u as oe,p as ie,O as Pe,P as Ge,J as D,v as de,D as me}from"../chunks/index.DLYhtmCw.js";import{e as pe,u as Re,f as je}from"../chunks/each.0pZX8dbx.js";import{b as Fe}from"../chunks/paths.lp8V_sRB.js";import{p as X}from"../chunks/stores.PNhDsDHn.js";import{r as C}from"../chunks/routes.-mnQr-mB.js";import{g as te}from"../chunks/entry.CGhZ_rxY.js";import{M as He,a as he}from"../chunks/Modal.CU_NDJLL.js";import{v as Ke,i as ze}from"../chunks/indexedDB.DaEOTApc.js";function Ze(a,e,s,t){if(!e)return R;const n=a.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return R;const{delay:r=0,duration:u=300,easing:o=Me,start:l=Be()+r,end:i=l+u,tick:g=R,css:$}=s(a,{from:e,to:n},t);let m=!0,b=!1,f;function h(){$&&(f=xe(a,0,1,u,r,o,$)),r||(b=!0)}function p(){$&&Le(a,f),m=!1}return Oe(d=>{if(!b&&d>=l&&(b=!0),b&&d>=i&&(g(1,0),p()),!m)return!1;if(b){const q=d-l,N=0+1*o(q/u);g(N,1-N)}return!0}),h(),g(0,1),p}function Je(a){const e=getComputedStyle(a);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:s,height:t}=e,n=a.getBoundingClientRect();a.style.position="absolute",a.style.width=s,a.style.height=t,Ie(a,n)}}function Ie(a,e){const s=a.getBoundingClientRect();if(e.left!==s.left||e.top!==s.top){const t=getComputedStyle(a),n=t.transform==="none"?"":t.transform;a.style.transform=`${n} translate(${e.left-s.left}px, ${e.top-s.top}px)`}}function Te(a){const e=a-1;return e*e*e+1}function Ye(a,{from:e,to:s},t={}){const n=getComputedStyle(a),r=n.transform==="none"?"":n.transform,[u,o]=n.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*u/s.width-(s.left+u),i=e.top+e.height*o/s.height-(s.top+o),{delay:g=0,duration:$=b=>Math.sqrt(b)*120,easing:m=Te}=t;return{delay:g,duration:ke($)?$(Math.sqrt(l*l+i*i)):$,easing:m,css:(b,f)=>{const h=f*l,p=f*i,d=b+f*e.width/s.width,q=b+f*e.height/s.height;return`transform: ${r} translate(${h}px, ${p}px) scale(${d}, ${q});`}}}function ge(a,{delay:e=0,duration:s=400,easing:t=Te,x:n=0,y:r=0,opacity:u=0}={}){const o=getComputedStyle(a),l=+o.opacity,i=o.transform==="none"?"":o.transform,g=l*(1-u),[$,m]=ce(n),[b,f]=ce(r);return{delay:e,duration:s,easing:t,css:(h,p)=>`
			transform: ${i} translate(${(1-h)*$}${m}, ${(1-h)*b}${f});
			opacity: ${l-g*p}`}}const Qe=a=>({}),_e=a=>({});function We(a){let e,s,t='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg> <span class="sr-only">Check icon</span>',n,r,u,o,l,i,g='<span class="sr-only">Close</span> <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',$,m,b;const f=a[2].button,h=se(f,a,a[1],_e);return{c(){e=k("div"),s=k("div"),s.innerHTML=t,n=B(),r=k("div"),u=Ne(a[0]),o=B(),h&&h.c(),l=B(),i=k("button"),i.innerHTML=g,this.h()},l(p){e=w(p,"DIV",{class:!0,role:!0});var d=x(e);s=w(d,"DIV",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1f6f1j5"&&(s.innerHTML=t),n=O(d),r=w(d,"DIV",{id:!0,class:!0});var q=x(r);u=Ve(q,a[0]),q.forEach(v),o=O(d),h&&h.l(d),l=O(d),i=w(d,"BUTTON",{class:!0,"data-dismiss-target":!0,type:!0,"aria-label":!0,"data-svelte-h":!0}),j(i)!=="svelte-hr0026"&&(i.innerHTML=g),d.forEach(v),this.h()},h(){_(s,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"),_(r,"id","toast-content"),_(r,"class","text-base font-normal svelte-1lholb5"),_(i,"class","my-close-button ms-auto -mx-1.5 -my-1.5 bg-gray-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-300 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700 svelte-1lholb5"),_(i,"data-dismiss-target","#toast-success"),_(i,"type","button"),_(i,"aria-label","Close"),_(e,"class","my-toast flex items-center max-w-xl p-4 bg-gray-100 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 svelte-1lholb5"),_(e,"role","alert")},m(p,d){E(p,e,d),y(e,s),y(e,n),y(e,r),y(r,u),y(e,o),h&&h.m(e,null),y(e,l),y(e,i),$=!0,m||(b=J(i,"click",a[3]),m=!0)},p(p,[d]){(!$||d&1)&&Ae(u,p[0]),h&&h.p&&(!$||d&2)&&ne(h,f,p,p[1],$?re(f,p[1],d,Qe):ae(p[1]),_e)},i(p){$||(M(h,p),$=!0)},o(p){U(h,p),$=!1},d(p){p&&v(e),h&&h.d(p),m=!1,b()}}}function Xe(a,e,s){let{$$slots:t={},$$scope:n}=e,{message:r}=e;function u(o){we.call(this,a,o)}return a.$$set=o=>{"message"in o&&s(0,r=o.message),"$$scope"in o&&s(1,n=o.$$scope)},[r,n,t,u]}class Se extends H{constructor(e){super(),K(this,e,Xe,We,F,{message:0})}}function et(a){let e,s="Undo",t,n;return{c(){e=k("button"),e.textContent=s,this.h()},l(r){e=w(r,"BUTTON",{slot:!0,type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-j5y622"&&(e.textContent=s),this.h()},h(){_(e,"slot","button"),_(e,"type","button"),_(e,"aria-label","Close"),_(e,"class","svelte-piy52p")},m(r,u){E(r,e,u),t||(n=J(e,"click",function(){ke(a[0])&&a[0].apply(this,arguments)}),t=!0)},p(r,u){a=r},d(r){r&&v(e),t=!1,n()}}}function tt(a){let e,s;return e=new Se({props:{message:a[1],$$slots:{button:[et]},$$scope:{ctx:a}}}),e.$on("click",a[2]),{c(){V(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,n){P(e,t,n),s=!0},p(t,[n]){const r={};n&2&&(r.message=t[1]),n&9&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){U(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function st(a,e,s){let{onClickUndo:t}=e,{message:n}=e;function r(u){we.call(this,a,u)}return a.$$set=u=>{"onClickUndo"in u&&s(0,t=u.onClickUndo),"message"in u&&s(1,n=u.message)},[t,n,r]}class nt extends H{constructor(e){super(),K(this,e,st,tt,F,{onClickUndo:0,message:1})}}function $e(a,e,s){const t=a.slice();return t[6]=e[s],t}function at(a){let e,s;function t(){return a[4](a[6])}function n(){return a[5](a[6])}return e=new nt({props:{message:a[6].message,onClickUndo:t}}),e.$on("click",n),{c(){V(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,u){P(e,r,u),s=!0},p(r,u){a=r;const o={};u&1&&(o.message=a[6].message),u&1&&(o.onClickUndo=t),e.$set(o)},i(r){s||(M(e.$$.fragment,r),s=!0)},o(r){U(e.$$.fragment,r),s=!1},d(r){G(e,r)}}}function rt(a){let e,s;function t(){return a[3](a[6])}return e=new Se({props:{message:a[6].message}}),e.$on("click",t),{c(){V(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){P(e,n,r),s=!0},p(n,r){a=n;const u={};r&1&&(u.message=a[6].message),e.$set(u)},i(n){s||(M(e.$$.fragment,n),s=!0)},o(n){U(e.$$.fragment,n),s=!1},d(n){G(e,n)}}}function ve(a,e){let s,t,n,r,u,o,l,i=R,g;const $=[rt,at],m=[];function b(f,h){return f[6].onClickUndo===void 0?0:1}return t=b(e),n=m[t]=$[t](e),{key:a,first:null,c(){s=k("div"),n.c(),r=B(),this.h()},l(f){s=w(f,"DIV",{class:!0});var h=x(s);n.l(h),r=O(h),h.forEach(v),this.h()},h(){_(s,"class","toast-wrapper"),this.first=s},m(f,h){E(f,s,h),m[t].m(s,null),y(s,r),g=!0},p(f,h){e=f;let p=t;t=b(e),t===p?m[t].p(e,h):(oe(),U(m[p],1,1,()=>{m[p]=null}),ie(),n=m[t],n?n.p(e,h):(n=m[t]=$[t](e),n.c()),M(n,1),n.m(s,r))},r(){l=s.getBoundingClientRect()},f(){Je(s),i(),Ie(s,l)},a(){i(),i=Ze(s,l,Ye,{})},i(f){g||(M(n),f&&Ue(()=>{g&&(o&&o.end(1),u=Pe(s,ge,{y:100}),u.start())}),g=!0)},o(f){U(n),u&&u.invalidate(),f&&(o=Ge(s,ge,{x:100})),g=!1},d(f){f&&v(s),m[t].d(),f&&o&&o.end()}}}function lt(a){let e,s=[],t=new Map,n,r=pe(a[0]);const u=o=>o[6].timestamp;for(let o=0;o<r.length;o+=1){let l=$e(a,r,o),i=u(l);t.set(i,s[o]=ve(i,l))}return{c(){e=k("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=w(o,"DIV",{id:!0,class:!0});var l=x(e);for(let i=0;i<s.length;i+=1)s[i].l(l);l.forEach(v),this.h()},h(){_(e,"id","toast-provider"),_(e,"class","svelte-14kneb2")},m(o,l){E(o,e,l);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(e,null);n=!0},p(o,[l]){if(l&7){r=pe(o[0]),oe();for(let i=0;i<s.length;i+=1)s[i].r();s=Re(s,l,u,1,o,r,t,e,je,ve,null,$e);for(let i=0;i<s.length;i+=1)s[i].a();ie()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)M(s[l]);n=!0}},o(o){for(let l=0;l<s.length;l+=1)U(s[l]);n=!1},d(o){o&&v(e);for(let l=0;l<s.length;l+=1)s[l].d()}}}function ot(a,e,s){let t=[];Ce(()=>{document.addEventListener("addToast",i=>{const g=Date.now(),$={message:i.detail.message,timeout:i.detail.timeout,timestamp:g,onClickUndo:i.detail.onClickUndo,onUndoIgnored:i.detail.onUndoIgnored};t.push($),s(0,t),setTimeout(()=>{r($)},$.timeout)})});function n(i){i.onUndoIgnored&&(i.onUndoIgnored=void 0),r(i),i.onClickUndo&&i.onClickUndo()}function r(i){i.onUndoIgnored&&i.onUndoIgnored();const g=t.findIndex($=>$.timestamp===i.timestamp);g!==-1&&(t.splice(g,1),s(0,t))}return[t,n,r,i=>r(i),i=>n(i),i=>r(i)]}class it extends H{constructor(e){super(),K(this,e,ot,lt,F,{})}}const ut=""+new URL("../assets/coffee-beans-icon.B8jMyzaG.png",import.meta.url).href;function ct(a){let e,s="dashboard";return{c(){e=k("span"),e.textContent=s,this.h()},l(t){e=w(t,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-uhkmif"&&(e.textContent=s),this.h()},h(){_(e,"class","material-icons")},m(t,n){E(t,e,n)},p:R,i:R,o:R,d(t){t&&v(e)}}}class ft extends H{constructor(e){super(),K(this,e,null,ct,F,{})}}function dt(a){let e,s,t,n,r='<span class="material-icons recipes-icon svelte-d12lmw" style="padding: 2px 0;">content_copy</span> <span class="svelte-d12lmw">Recipes</span>',u,o,l,i,g,$,m,b="Coffee beans",f,h,p,d,q,N,z="Other",L;return d=new ft({}),{c(){e=k("div"),s=k("div"),t=k("a"),n=k("button"),n.innerHTML=r,u=B(),o=k("a"),l=k("button"),i=k("img"),$=B(),m=k("span"),m.textContent=b,f=B(),h=k("a"),p=k("button"),V(d.$$.fragment),q=B(),N=k("span"),N.textContent=z,this.h()},l(S){e=w(S,"DIV",{class:!0});var I=x(e);s=w(I,"DIV",{class:!0});var c=x(s);t=w(c,"A",{href:!0});var T=x(t);n=w(T,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1olslb5"&&(n.innerHTML=r),T.forEach(v),u=O(c),o=w(c,"A",{href:!0});var Z=x(o);l=w(Z,"BUTTON",{type:!0,class:!0});var Y=x(l);i=w(Y,"IMG",{src:!0,alt:!0,class:!0}),$=O(Y),m=w(Y,"SPAN",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-yc6fjb"&&(m.textContent=b),Y.forEach(v),Z.forEach(v),f=O(c),h=w(c,"A",{href:!0});var ue=x(h);p=w(ue,"BUTTON",{type:!0,class:!0});var Q=x(p);A(d.$$.fragment,Q),q=O(Q),N=w(Q,"SPAN",{class:!0,"data-svelte-h":!0}),j(N)!=="svelte-700qdn"&&(N.textContent=z),Q.forEach(v),ue.forEach(v),c.forEach(v),I.forEach(v),this.h()},h(){_(n,"type","button"),_(n,"class","svelte-d12lmw"),D(n,"active",a[2]===C.recipes),_(t,"href",C.recipes),qe(i.src,g=ut)||_(i,"src",g),_(i,"alt","A coffee beans icon"),_(i,"class","svelte-d12lmw"),D(i,"active-img",a[2]===C.home),_(m,"class","svelte-d12lmw"),D(m,"active",a[2]===C.home),_(l,"type","button"),_(l,"class","svelte-d12lmw"),D(l,"active",a[2]===C.home),_(o,"href",C.home),_(N,"class","svelte-d12lmw"),D(N,"active",a[2]===C.other),_(p,"type","button"),_(p,"class","svelte-d12lmw"),D(p,"active",a[2]===C.other),_(h,"href",C.other),_(s,"class","grid h-full max-w-lg grid-cols-3 mx-auto font-medium"),_(e,"class","bottom-nav svelte-d12lmw"),D(e,"as-gap",a[0]),D(e,"bottom-nav-static",a[1].url.pathname===C.addRecipe()||a[1].url.pathname.substring(0,a[1].url.pathname.lastIndexOf("/")+1)+1===C.recipeItem(1))},m(S,I){E(S,e,I),y(e,s),y(s,t),y(t,n),y(s,u),y(s,o),y(o,l),y(l,i),y(l,$),y(l,m),y(s,f),y(s,h),y(h,p),P(d,p,null),y(p,q),y(p,N),L=!0},p(S,[I]){(!L||I&4)&&D(n,"active",S[2]===C.recipes),(!L||I&4)&&D(i,"active-img",S[2]===C.home),(!L||I&4)&&D(m,"active",S[2]===C.home),(!L||I&4)&&D(l,"active",S[2]===C.home),(!L||I&4)&&D(N,"active",S[2]===C.other),(!L||I&4)&&D(p,"active",S[2]===C.other),(!L||I&1)&&D(e,"as-gap",S[0]),(!L||I&2)&&D(e,"bottom-nav-static",S[1].url.pathname===C.addRecipe()||S[1].url.pathname.substring(0,S[1].url.pathname.lastIndexOf("/")+1)+1===C.recipeItem(1))},i(S){L||(M(d.$$.fragment,S),L=!0)},o(S){U(d.$$.fragment,S),L=!1},d(S){S&&v(e),G(d)}}}function mt(a,e,s){let t,n;le(a,X,u=>s(1,n=u));let{asGap:r=!1}=e;return a.$$set=u=>{"asGap"in u&&s(0,r=u.asGap)},a.$$.update=()=>{a.$$.dirty&2&&s(2,t=Fe+n.route.id)},[r,n,t]}class be extends H{constructor(e){super(),K(this,e,mt,dt,F,{asGap:0})}}function pt(a){let e,s="arrow_back";return{c(){e=k("span"),e.textContent=s,this.h()},l(t){e=w(t,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-12vjxfs"&&(e.textContent=s),this.h()},h(){_(e,"class","material-icons md-24")},m(t,n){E(t,e,n)},p:R,i:R,o:R,d(t){t&&v(e)}}}class ht extends H{constructor(e){super(),K(this,e,null,pt,F,{})}}function gt(a){let e,s="favorite_border";return{c(){e=k("span"),e.textContent=s,this.h()},l(t){e=w(t,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-teydos"&&(e.textContent=s),this.h()},h(){_(e,"class","material-icons md-24 svelte-1c6h8fp")},m(t,n){E(t,e,n)},p:R,i:R,o:R,d(t){t&&v(e)}}}class _t extends H{constructor(e){super(),K(this,e,null,gt,F,{})}}function $t(a){let e,s;return e=new _t({}),{c(){V(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,n){P(e,t,n),s=!0},p:R,i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){U(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function vt(a){let e,s,t,n,r;return s=new ht({}),{c(){e=k("button"),V(s.$$.fragment),this.h()},l(u){e=w(u,"BUTTON",{class:!0});var o=x(e);A(s.$$.fragment,o),o.forEach(v),this.h()},h(){_(e,"class","vertical-center-children svelte-6q0yth")},m(u,o){E(u,e,o),P(s,e,null),t=!0,n||(r=J(e,"click",a[3]),n=!0)},p:R,i(u){t||(M(s.$$.fragment,u),t=!0)},o(u){U(s.$$.fragment,u),t=!1},d(u){u&&v(e),G(s),n=!1,r()}}}function bt(a){let e,s,t,n,r,u,o,l,i='<div class="logo-container svelte-6q0yth"><span class="text-2xl font-semibold whitespace-nowrap dark:text-white svelte-6q0yth">PourOverPotato</span> <p class="sublogo svelte-6q0yth">Save your best recipes for later use</p></div>',g;const $=[vt,$t],m=[];function b(f,h){return f[1]!==C.home?0:1}return r=b(a),u=m[r]=$[r](a),{c(){e=k("nav"),s=k("div"),t=k("div"),n=k("div"),u.c(),o=B(),l=k("a"),l.innerHTML=i,this.h()},l(f){e=w(f,"NAV",{class:!0});var h=x(e);s=w(h,"DIV",{class:!0});var p=x(s);t=w(p,"DIV",{class:!0});var d=x(t);n=w(d,"DIV",{class:!0});var q=x(n);u.l(q),q.forEach(v),o=O(d),l=w(d,"A",{href:!0,"data-svelte-h":!0}),j(l)!=="svelte-1wmgnn8"&&(l.innerHTML=i),d.forEach(v),p.forEach(v),h.forEach(v),this.h()},h(){_(n,"class","icon-button vertical-center-children svelte-6q0yth"),_(l,"href",C.home),_(t,"class","left-nav-side vertical-center-children svelte-6q0yth"),_(s,"class","flex flex-wrap items-center justify-between mx-auto p-4"),_(e,"class","svelte-6q0yth"),D(e,"as-gap",a[0]),D(e,"nav-static",a[2].url.pathname===C.addRecipe()||a[2].url.pathname.substring(0,a[2].url.pathname.lastIndexOf("/")+1)+1===C.recipeItem(1))},m(f,h){E(f,e,h),y(e,s),y(s,t),y(t,n),m[r].m(n,null),y(t,o),y(t,l),g=!0},p(f,[h]){let p=r;r=b(f),r===p?m[r].p(f,h):(oe(),U(m[p],1,1,()=>{m[p]=null}),ie(),u=m[r],u?u.p(f,h):(u=m[r]=$[r](f),u.c()),M(u,1),u.m(n,null)),(!g||h&1)&&D(e,"as-gap",f[0]),(!g||h&4)&&D(e,"nav-static",f[2].url.pathname===C.addRecipe()||f[2].url.pathname.substring(0,f[2].url.pathname.lastIndexOf("/")+1)+1===C.recipeItem(1))},i(f){g||(M(u),g=!0)},o(f){U(u),g=!1},d(f){f&&v(e),m[r].d()}}}function yt(a,e,s){let t;le(a,X,o=>s(2,t=o));let{asGap:n=!1}=e,r=C.home;X.subscribe(o=>{s(1,r=o.url.pathname)});function u(){history.length===0?te(C.home,{replaceState:!0}):history.back()}return a.$$set=o=>{"asGap"in o&&s(0,n=o.asGap)},[n,r,t,u]}class ye extends H{constructor(e){super(),K(this,e,yt,bt,F,{asGap:0})}}function kt(a){let e,s=`<p class="svelte-1qp1gq4">Please try turning persistent storage ON in your browser, it will make your data relatively safe from a browser
      eviction.</p>`,t,n,r,u="Enable persistent storage",o,l,i="Cancel",g,$;return{c(){e=k("div"),e.innerHTML=s,t=B(),n=k("div"),r=k("button"),r.textContent=u,o=B(),l=k("button"),l.textContent=i,this.h()},l(m){e=w(m,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ekvqww"&&(e.innerHTML=s),t=O(m),n=w(m,"DIV",{class:!0});var b=x(n);r=w(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(r)!=="svelte-19r4dnf"&&(r.textContent=u),o=O(b),l=w(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(l)!=="svelte-8x4blm"&&(l.textContent=i),b.forEach(v),this.h()},h(){_(e,"class","text-container svelte-1qp1gq4"),_(r,"class","enable svelte-1qp1gq4"),_(r,"type","button"),_(l,"class","cancel svelte-1qp1gq4"),_(l,"type","button"),_(n,"class","buttons-container svelte-1qp1gq4")},m(m,b){E(m,e,b),E(m,t,b),E(m,n,b),y(n,r),a[7](r),y(n,o),y(n,l),a[8](l),g||($=[J(r,"click",a[4]),J(l,"click",a[9]),J(l,"keydown",a[6])],g=!0)},p:R,d(m){m&&(v(e),v(t),v(n)),a[7](null),a[8](null),g=!1,Ee($)}}}function wt(a){let e,s,t,n;function r(l){a[11](l)}function u(l){a[12](l)}let o={onFocusReverse:a[10],onStateChange:a[5],title:"Persistent storage not enabled",$$slots:{default:[kt]},$$scope:{ctx:a}};return a[1]!==void 0&&(o.setFocus=a[1]),a[0]!==void 0&&(o.setState=a[0]),e=new He({props:o}),W.push(()=>de(e,"setFocus",r)),W.push(()=>de(e,"setState",u)),{c(){V(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,i){P(e,l,i),n=!0},p(l,[i]){const g={};i&4&&(g.onFocusReverse=l[10]),i&16397&&(g.$$scope={dirty:i,ctx:l}),!s&&i&2&&(s=!0,g.setFocus=l[1],fe(()=>s=!1)),!t&&i&1&&(t=!0,g.setState=l[0],fe(()=>t=!1)),e.$set(g)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){U(e.$$.fragment,l),n=!1},d(l){G(e,l)}}}const ee="persistentStorageCheckDate";function Ct(a,e,s){let t;le(a,X,d=>s(13,t=d));let n,r,u,o;Ce(async()=>{await navigator.storage.persisted()===!1&&(localStorage.getItem(ee)===null||localStorage.getItem(ee)!==new Date().toDateString())&&await Ke()&&(localStorage.setItem(ee,new Date().toDateString()),n("open"))});async function l(){if(await navigator.storage.persist()==!1)alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems to be the only browser to allow enabling persistent storage always.");else{n("closed"),ze("Persistent storage enabled.");const q=t.url.pathname;te(C.home).then(()=>te(q))}}function i(d){d==="open"&&De().then(()=>{o.focus()})}function g(d){d.key==="Tab"&&d.shiftKey===!1&&(d.preventDefault(),r())}function $(d){W[d?"unshift":"push"](()=>{o=d,s(3,o)})}function m(d){W[d?"unshift":"push"](()=>{u=d,s(2,u)})}const b=()=>n("closed"),f=()=>u.focus();function h(d){r=d,s(1,r)}function p(d){n=d,s(0,n)}return[n,r,u,o,l,i,g,$,m,b,f,h,p]}class It extends H{constructor(e){super(),K(this,e,Ct,wt,F,{})}}function Tt(a){let e,s,t,n,r,u,o,l,i,g,$,m,b,f,h,p,d,q,N,z,L;e=new ye({}),t=new ye({props:{asGap:!0}}),r=new he({}),l=new he({props:{asGap:!0}});const S=a[1].default,I=se(S,a,a[0],null);return f=new be({props:{asGap:!0}}),p=new be({}),q=new it({}),z=new It({}),{c(){V(e.$$.fragment),s=B(),V(t.$$.fragment),n=B(),V(r.$$.fragment),u=B(),o=k("div"),V(l.$$.fragment),i=B(),g=k("div"),I&&I.c(),$=B(),m=k("div"),b=B(),V(f.$$.fragment),h=B(),V(p.$$.fragment),d=B(),V(q.$$.fragment),N=B(),V(z.$$.fragment),this.h()},l(c){A(e.$$.fragment,c),s=O(c),A(t.$$.fragment,c),n=O(c),A(r.$$.fragment,c),u=O(c),o=w(c,"DIV",{id:!0,style:!0});var T=x(o);A(l.$$.fragment,T),i=O(T),g=w(T,"DIV",{class:!0});var Z=x(g);I&&I.l(Z),$=O(Z),m=w(Z,"DIV",{class:!0}),x(m).forEach(v),Z.forEach(v),T.forEach(v),b=O(c),A(f.$$.fragment,c),h=O(c),A(p.$$.fragment,c),d=O(c),A(q.$$.fragment,c),N=O(c),A(z.$$.fragment,c),this.h()},h(){_(m,"class","bottom-gap svelte-1ruqigr"),_(g,"class","page-container svelte-1ruqigr"),_(o,"id","content"),me(o,"display","flex"),me(o,"flex-direction","row")},m(c,T){P(e,c,T),E(c,s,T),P(t,c,T),E(c,n,T),P(r,c,T),E(c,u,T),E(c,o,T),P(l,o,null),y(o,i),y(o,g),I&&I.m(g,null),y(g,$),y(g,m),E(c,b,T),P(f,c,T),E(c,h,T),P(p,c,T),E(c,d,T),P(q,c,T),E(c,N,T),P(z,c,T),L=!0},p(c,[T]){I&&I.p&&(!L||T&1)&&ne(I,S,c,c[0],L?re(S,c[0],T,null):ae(c[0]),null)},i(c){L||(M(e.$$.fragment,c),M(t.$$.fragment,c),M(r.$$.fragment,c),M(l.$$.fragment,c),M(I,c),M(f.$$.fragment,c),M(p.$$.fragment,c),M(q.$$.fragment,c),M(z.$$.fragment,c),L=!0)},o(c){U(e.$$.fragment,c),U(t.$$.fragment,c),U(r.$$.fragment,c),U(l.$$.fragment,c),U(I,c),U(f.$$.fragment,c),U(p.$$.fragment,c),U(q.$$.fragment,c),U(z.$$.fragment,c),L=!1},d(c){c&&(v(s),v(n),v(u),v(o),v(b),v(h),v(d),v(N)),G(e,c),G(t,c),G(r,c),G(l),I&&I.d(c),G(f,c),G(p,c),G(q,c),G(z,c)}}}function St(a,e,s){let{$$slots:t={},$$scope:n}=e;return a.$$set=r=>{"$$scope"in r&&s(0,n=r.$$scope)},[n,t]}class Mt extends H{constructor(e){super(),K(this,e,St,Tt,F,{})}}function Ut(a){let e;const s=a[0].default,t=se(s,a,a[1],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,r){t&&t.m(n,r),e=!0},p(n,r){t&&t.p&&(!e||r&2)&&ne(t,s,n,n[1],e?re(s,n[1],r,null):ae(n[1]),null)},i(n){e||(M(t,n),e=!0)},o(n){U(t,n),e=!1},d(n){t&&t.d(n)}}}function qt(a){let e,s;return e=new Mt({props:{$$slots:{default:[Ut]},$$scope:{ctx:a}}}),{c(){V(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,n){P(e,t,n),s=!0},p(t,[n]){const r={};n&2&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){s||(M(e.$$.fragment,t),s=!0)},o(t){U(e.$$.fragment,t),s=!1},d(t){G(e,t)}}}function Et(a,e,s){let{$$slots:t={},$$scope:n}=e;return a.$$set=r=>{"$$scope"in r&&s(1,n=r.$$scope)},[t,n]}class Gt extends H{constructor(e){super(),K(this,e,Et,qt,F,{})}}export{Gt as component};
