import{s as J,b as Tt,a as Et,n as w,r as Bt,o as It}from"../chunks/scheduler.Cw1-ZcKD.js";import{S as K,i as Q,v as Mt,e as h,s as _,k as U,c as b,a as H,y as $,f as x,d as a,m as F,z as m,g as c,h as C,n as L,A as z,q as Y,o as G,r as R,t as ft,b as dt,E as pt,w as yt,j as St,l as Ot}from"../chunks/index.DHsbL8_X.js";import{v as gt}from"../chunks/entry.Bs1kKzkN.js";import{d as Ht,e as Nt,i as wt,a as At,b as Pt}from"../chunks/manageData.CJixKmjg.js";import{D as jt}from"../chunks/DeleteConfirmationModal.CVvPVk3x.js";import{a as X}from"../chunks/dateHelpers.DtGJLfnR.js";function Vt(d){let t;return{c(){t=ft("Please confirm you want to delete all your data.")},l(l){t=dt(l,"Please confirm you want to delete all your data.")},m(l,o){c(l,t,o)},d(l){l&&a(t)}}}function qt(d){let t,l,o="Delete all data:",i,s,v="Delete all data",u,n,r,f,g,W;function q(k){d[3](k)}let P={onDeleteClick:d[1],$$slots:{default:[Vt]},$$scope:{ctx:d}};return d[0]!==void 0&&(P.setModalState=d[0]),n=new jt({props:P}),Tt.push(()=>Mt(n,"setModalState",q)),{c(){t=h("div"),l=h("p"),l.textContent=o,i=_(),s=h("button"),s.textContent=v,u=_(),U(n.$$.fragment),this.h()},l(k){t=b(k,"DIV",{class:!0});var y=H(t);l=b(y,"P",{"data-svelte-h":!0}),$(l)!=="svelte-15f4b12"&&(l.textContent=o),i=x(y),s=b(y,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),$(s)!=="svelte-14fbba6"&&(s.textContent=v),y.forEach(a),u=x(k),F(n.$$.fragment,k),this.h()},h(){m(s,"class","button-delete svelte-1m69evr"),m(s,"type","button"),m(t,"class","container svelte-1m69evr")},m(k,y){c(k,t,y),C(t,l),C(t,i),C(t,s),c(k,u,y),L(n,k,y),f=!0,g||(W=z(s,"click",d[2]),g=!0)},p(k,[y]){const D={};y&16&&(D.$$scope={dirty:y,ctx:k}),!r&&y&1&&(r=!0,D.setModalState=k[0],Et(()=>r=!1)),n.$set(D)},i(k){f||(Y(n.$$.fragment,k),f=!0)},o(k){G(n.$$.fragment,k),f=!1},d(k){k&&(a(t),a(u)),R(n,k),g=!1,W()}}}function Ut(d,t,l){let o;async function i(){await Ht(),X("All data deleted.")}const s=()=>o("open");function v(u){o=u,l(0,o)}return[o,i,s,v]}class Ft extends K{constructor(t){super(),Q(this,t,Ut,qt,J,{})}}function Lt(d){let t,l,o="Add toast",i,s,v="Add long toast",u,n;return{c(){t=h("div"),l=h("button"),l.textContent=o,i=_(),s=h("button"),s.textContent=v,this.h()},l(r){t=b(r,"DIV",{class:!0});var f=H(t);l=b(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(l)!=="svelte-f2ypqv"&&(l.textContent=o),i=x(f),s=b(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1fkl3u4"&&(s.textContent=v),f.forEach(a),this.h()},h(){m(l,"type","button"),m(l,"class","svelte-16i7r5r"),m(s,"type","button"),m(s,"class","svelte-16i7r5r"),m(t,"class","container svelte-16i7r5r")},m(r,f){c(r,t,f),C(t,l),C(t,i),C(t,s),u||(n=[z(l,"click",d[0]),z(s,"click",d[1])],u=!0)},p:w,i:w,o:w,d(r){r&&a(t),u=!1,Bt(n)}}}function Yt(d){return[()=>X("Ethiopia Gesha"),()=>X("Ethiopia Yirgacheffe Rwanda Mabanza Kenya Kegwa Colombia El Refugio Guatemala Cafe De Mujeres")]}class Gt extends K{constructor(t){super(),Q(this,t,Yt,Lt,J,{})}}function Rt(d){let t,l,o="Export all data:",i,s,v="Export to file",u,n;return{c(){t=h("div"),l=h("p"),l.textContent=o,i=_(),s=h("button"),s.textContent=v,this.h()},l(r){t=b(r,"DIV",{class:!0});var f=H(t);l=b(f,"P",{style:!0,"data-svelte-h":!0}),$(l)!=="svelte-6a1m9a"&&(l.textContent=o),i=x(f),s=b(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1rmfvr0"&&(s.textContent=v),f.forEach(a),this.h()},h(){pt(l,"margin-right","0.5rem"),m(s,"type","button"),m(s,"class","svelte-10kv6sm"),m(t,"class","container svelte-10kv6sm")},m(r,f){c(r,t,f),C(t,l),C(t,i),C(t,s),u||(n=z(s,"click",d[0]),u=!0)},p:w,i:w,o:w,d(r){r&&a(t),u=!1,n()}}}function zt(d){async function t(){const l=document.createElement("a"),o=await Nt();l.href=URL.createObjectURL(o);const i=new Date,v=(i.getMonth()+1).toString().padStart(2,"0"),n=i.getDate().toString().padStart(2,"0");l.setAttribute("download",`PourOverPotato-${i.getFullYear()}_${v}_${n}.json`),document.body.appendChild(l),l.click(),document.body.removeChild(l)}return[t]}class Jt extends K{constructor(t){super(),Q(this,t,zt,Rt,J,{})}}function Kt(d){let t,l,o="Import data:",i,s,v="Import from file",u,n;return{c(){t=h("div"),l=h("p"),l.textContent=o,i=_(),s=h("button"),s.textContent=v,this.h()},l(r){t=b(r,"DIV",{class:!0});var f=H(t);l=b(f,"P",{style:!0,"data-svelte-h":!0}),$(l)!=="svelte-1jemb82"&&(l.textContent=o),i=x(f),s=b(f,"BUTTON",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-1u0f5a8"&&(s.textContent=v),f.forEach(a),this.h()},h(){pt(l,"margin-right","0.5rem"),m(s,"class","svelte-1uvboly"),m(t,"class","container svelte-1uvboly")},m(r,f){c(r,t,f),C(t,l),C(t,i),C(t,s),u||(n=z(s,"click",d[0]),u=!0)},p:w,i:w,o:w,d(r){r&&a(t),u=!1,n()}}}function Qt(d){async function t(){const l=document.createElement("input");l.type="file",l.onchange=async()=>{if(wt(l.files)||wt(l.files.item(0))){alert("Please provide a file.");return}if(l.files.length>1){alert("Please provide a single file.");return}const o=l.files.item(0);if(o.type!=="application/json"){alert("Please provide a JSON file.");return}const i=await At(o);i!=="ImportFailed"&&Pt(i.coffeeBeansCount)&&Pt(i.recipesCount)&&X(`Imported ${i.coffeeBeansCount} coffee beans and ${i.recipesCount} recipes.`)},l.click()}return[t]}class Wt extends K{constructor(t){super(),Q(this,t,Qt,Kt,J,{})}}function Xt(d){let t,l=d[0]?"enabled":"not enabled",o,i,s,v,u=d[0]===!1&&Dt(d);return{c(){t=h("p"),o=ft(l),s=_(),u&&u.c(),v=yt(),this.h()},l(n){t=b(n,"P",{class:!0,style:!0});var r=H(t);o=dt(r,l),r.forEach(a),s=x(n),u&&u.l(n),v=yt(),this.h()},h(){m(t,"class",i=d[0]?"text-green-500":"text-red-700"),pt(t,"font-weight","bold")},m(n,r){c(n,t,r),C(t,o),c(n,s,r),u&&u.m(n,r),c(n,v,r)},p(n,r){r&1&&l!==(l=n[0]?"enabled":"not enabled")&&St(o,l),r&1&&i!==(i=n[0]?"text-green-500":"text-red-700")&&m(t,"class",i),n[0]===!1?u?u.p(n,r):(u=Dt(n),u.c(),u.m(v.parentNode,v)):u&&(u.d(1),u=null)},d(n){n&&(a(t),a(s),a(v)),u&&u.d(n)}}}function Zt(d){let t,l="loading...";return{c(){t=h("p"),t.textContent=l},l(o){t=b(o,"P",{"data-svelte-h":!0}),$(t)!=="svelte-qeejp2"&&(t.textContent=l)},m(o,i){c(o,t,i)},p:w,d(o){o&&a(t)}}}function Dt(d){let t,l="Enable persistent storage",o,i;return{c(){t=h("button"),t.textContent=l,this.h()},l(s){t=b(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1lnu66m"&&(t.textContent=l),this.h()},h(){m(t,"type","button"),m(t,"class","svelte-3tnosg")},m(s,v){c(s,t,v),o||(i=z(t,"click",d[1]),o=!0)},p:w,d(s){s&&a(t),o=!1,i()}}}function te(d){let t,l,o="Persistent storage:",i,s;function v(r,f){return r[0]===void 0?Zt:Xt}let u=v(d),n=u(d);return{c(){t=h("div"),l=h("p"),l.textContent=o,i=_(),s=h("div"),n.c(),this.h()},l(r){t=b(r,"DIV",{class:!0});var f=H(t);l=b(f,"P",{style:!0,"data-svelte-h":!0}),$(l)!=="svelte-1uqq51"&&(l.textContent=o),i=x(f),s=b(f,"DIV",{class:!0,style:!0});var g=H(s);n.l(g),g.forEach(a),f.forEach(a),this.h()},h(){pt(l,"margin-right","0.5rem"),m(s,"class","container-row-nowrap svelte-3tnosg"),m(s,"style",""),m(t,"class","container svelte-3tnosg")},m(r,f){c(r,t,f),C(t,l),C(t,i),C(t,s),n.m(s,null)},p(r,[f]){u===(u=v(r))&&n?n.p(r,f):(n.d(1),n=u(r),n&&(n.c(),n.m(s,null)))},i:w,o:w,d(r){r&&a(t),n.d()}}}function ee(d,t,l){let o;It(async()=>{l(0,o=await navigator.storage.persisted())});async function i(){await navigator.storage.persist()==!1?alert(`Sorry, your browser refused to enable persistent storage.
This means your data is still at risk of being evicted by the browser at any moment.
Try using another browser like Firefox, it seems to allow enabling persistent storage always.`):(X("Persistent storage enabled."),l(0,o=!0))}return[o,i]}class le extends K{constructor(t){super(),Q(this,t,ee,te,J,{})}}function se(d){let t,l,o="About the project",i,s,v=`<p class="svelte-e9ehkx">This is on an open-source application developed
    <a href="https://github.com/dima-iholkin/PourOverPotato" target="_blank" class="svelte-e9ehkx">on GitHub</a>.</p> <p class="svelte-e9ehkx">You can view the development workitems
    <a href="https://github.com/users/dima-iholkin/projects/5/views/1" target="_blank" class="svelte-e9ehkx">on the Projects page</a>.</p> <p class="svelte-e9ehkx">You can influence the project using
    <a href="https://github.com/dima-iholkin/PourOverPotato/discussions" target="_blank" class="svelte-e9ehkx">the Discussions</a> and
    <a href="https://github.com/dima-iholkin/PourOverPotato/issues" target="_blank" class="svelte-e9ehkx">the Issues</a>
    pages.</p>`,u,n,r="About your data",f,g,W=`<p class="svelte-e9ehkx">By design all your data is saved in your browser only and on your device only, it&#39;s not sent anywhere, there is no
    server. You can import and export your data to and from a file.</p> <p style="padding-bottom: 1rem;" class="svelte-e9ehkx">Much later I would like to add an ability to sync data with Google Drive.</p> <p class="svelte-e9ehkx">The application is in active development. Things may change and data integrity is not guaranteed. However I&#39;ll try
    hard to not break your data.</p>`,q,P,k="Manage your data",y,D,Z,N,tt,A,et,E,bt="Delete your data",lt,j,st,B,_t="Credits",nt,I,xt="The coffee beans icon",at,T,kt="created by Freepik - Flaticon",ot,M,$t="Developer tools",it,V,rt,S,Ct="About the app",ut,O,mt,vt,ct;return D=new le({}),N=new Jt({}),A=new Wt({}),j=new Ft({}),V=new Gt({}),{c(){t=_(),l=h("h5"),l.textContent=o,i=_(),s=h("div"),s.innerHTML=v,u=_(),n=h("h5"),n.textContent=r,f=_(),g=h("div"),g.innerHTML=W,q=_(),P=h("h5"),P.textContent=k,y=_(),U(D.$$.fragment),Z=_(),U(N.$$.fragment),tt=_(),U(A.$$.fragment),et=_(),E=h("h5"),E.textContent=bt,lt=_(),U(j.$$.fragment),st=_(),B=h("h5"),B.textContent=_t,nt=_(),I=h("p"),I.textContent=xt,at=_(),T=h("a"),T.textContent=kt,ot=_(),M=h("h5"),M.textContent=$t,it=_(),U(V.$$.fragment),rt=_(),S=h("h5"),S.textContent=Ct,ut=_(),O=h("p"),mt=ft("Version: "),vt=ft(gt),this.h()},l(e){Ot("svelte-1tq7k8",document.head).forEach(a),t=x(e),l=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(l)!=="svelte-59fn2m"&&(l.textContent=o),i=x(e),s=b(e,"DIV",{class:!0,"data-svelte-h":!0}),$(s)!=="svelte-44tkgt"&&(s.innerHTML=v),u=x(e),n=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(n)!=="svelte-belckq"&&(n.textContent=r),f=x(e),g=b(e,"DIV",{class:!0,"data-svelte-h":!0}),$(g)!=="svelte-180pb5l"&&(g.innerHTML=W),q=x(e),P=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(P)!=="svelte-a9xi76"&&(P.textContent=k),y=x(e),F(D.$$.fragment,e),Z=x(e),F(N.$$.fragment,e),tt=x(e),F(A.$$.fragment,e),et=x(e),E=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(E)!=="svelte-lt73ae"&&(E.textContent=bt),lt=x(e),F(j.$$.fragment,e),st=x(e),B=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(B)!=="svelte-rvnewg"&&(B.textContent=_t),nt=x(e),I=b(e,"P",{class:!0,"data-svelte-h":!0}),$(I)!=="svelte-oigu97"&&(I.textContent=xt),at=x(e),T=b(e,"A",{href:!0,title:!0,class:!0,"data-svelte-h":!0}),$(T)!=="svelte-km7dmi"&&(T.textContent=kt),ot=x(e),M=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(M)!=="svelte-4eqdct"&&(M.textContent=$t),it=x(e),F(V.$$.fragment,e),rt=x(e),S=b(e,"H5",{class:!0,"data-svelte-h":!0}),$(S)!=="svelte-1lzk8dd"&&(S.textContent=Ct),ut=x(e),O=b(e,"P",{class:!0});var ht=H(O);mt=dt(ht,"Version: "),vt=dt(ht,gt),ht.forEach(a),this.h()},h(){document.title="Other - PourOverPotato app",m(l,"class","page-headline svelte-e9ehkx"),m(s,"class","about-section svelte-e9ehkx"),m(n,"class","svelte-e9ehkx"),m(g,"class","about-section svelte-e9ehkx"),m(P,"class","svelte-e9ehkx"),m(E,"class","svelte-e9ehkx"),m(B,"class","svelte-e9ehkx"),m(I,"class","svelte-e9ehkx"),m(T,"href","https://www.flaticon.com/free-icons/coffee-beans"),m(T,"title","coffee beans icons"),m(T,"class","svelte-e9ehkx"),m(M,"class","svelte-e9ehkx"),m(S,"class","svelte-e9ehkx"),m(O,"class","svelte-e9ehkx")},m(e,p){c(e,t,p),c(e,l,p),c(e,i,p),c(e,s,p),c(e,u,p),c(e,n,p),c(e,f,p),c(e,g,p),c(e,q,p),c(e,P,p),c(e,y,p),L(D,e,p),c(e,Z,p),L(N,e,p),c(e,tt,p),L(A,e,p),c(e,et,p),c(e,E,p),c(e,lt,p),L(j,e,p),c(e,st,p),c(e,B,p),c(e,nt,p),c(e,I,p),c(e,at,p),c(e,T,p),c(e,ot,p),c(e,M,p),c(e,it,p),L(V,e,p),c(e,rt,p),c(e,S,p),c(e,ut,p),c(e,O,p),C(O,mt),C(O,vt),ct=!0},p:w,i(e){ct||(Y(D.$$.fragment,e),Y(N.$$.fragment,e),Y(A.$$.fragment,e),Y(j.$$.fragment,e),Y(V.$$.fragment,e),ct=!0)},o(e){G(D.$$.fragment,e),G(N.$$.fragment,e),G(A.$$.fragment,e),G(j.$$.fragment,e),G(V.$$.fragment,e),ct=!1},d(e){e&&(a(t),a(l),a(i),a(s),a(u),a(n),a(f),a(g),a(q),a(P),a(y),a(Z),a(tt),a(et),a(E),a(lt),a(st),a(B),a(nt),a(I),a(at),a(T),a(ot),a(M),a(it),a(rt),a(S),a(ut),a(O)),R(D,e),R(N,e),R(A,e),R(j,e),R(V,e)}}}class ce extends K{constructor(t){super(),Q(this,t,null,se,J,{})}}export{ce as component};
