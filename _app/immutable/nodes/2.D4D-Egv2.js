import{s as O,o as K,n as k}from"../chunks/scheduler.CLMd_sLG.js";import{S as V,i as z,m as P,o as I,p as E,l as $,k as d,r as R,e as C,s as g,t as B,c as b,a as q,d as m,f as v,b as y,x,g as _,h as w,j as M,n as L,q as G,u as J,v as D,w as N}from"../chunks/index.ikDpSZE5.js";import{e as T,u as Q,o as U}from"../chunks/each.VSbhRpyy.js";import{P as W,b as X,c as Y}from"../chunks/PageHeadline.LTitun6w.js";import{C as Z,M as ee,s as te,a as se}from"../chunks/MyFab.8abP6dYF.js";import{r as H}from"../chunks/routes.-HNyXvxp.js";import{F as ne}from"../chunks/FlexRow.A5p4xssI.js";function ae(c){let e,n=c[0].name+"",t,s,a,o,u,i=c[1]===1?"recipe":"recipes",p;return{c(){e=C("h5"),t=B(n),s=g(),a=C("p"),o=B(c[1]),u=g(),p=B(i),this.h()},l(r){e=b(r,"H5",{class:!0});var f=q(e);t=y(f,n),f.forEach(m),s=v(r),a=b(r,"P",{class:!0});var l=q(a);o=y(l,c[1]),u=v(l),p=y(l,i),l.forEach(m),this.h()},h(){x(e,"class","svelte-1wwph69"),x(a,"class","recipes-count svelte-1wwph69")},m(r,f){_(r,e,f),w(e,t),_(r,s,f),_(r,a,f),w(a,o),w(a,u),w(a,p)},p(r,f){f&1&&n!==(n=r[0].name+"")&&M(t,n),f&2&&M(o,r[1]),f&2&&i!==(i=r[1]===1?"recipe":"recipes")&&M(p,i)},d(r){r&&(m(e),m(s),m(a))}}}function re(c){let e,n,t,s,a=c[0].description+"",o,u;return n=new ne({props:{$$slots:{default:[ae]},$$scope:{ctx:c}}}),{c(){e=C("div"),P(n.$$.fragment),t=g(),s=C("p"),o=B(a),this.h()},l(i){e=b(i,"DIV",{class:!0});var p=q(e);I(n.$$.fragment,p),p.forEach(m),t=v(i),s=b(i,"P",{class:!0});var r=q(s);o=y(r,a),r.forEach(m),this.h()},h(){x(e,"class","flex-row svelte-1wwph69"),x(s,"class","svelte-1wwph69")},m(i,p){_(i,e,p),E(n,e,null),_(i,t,p),_(i,s,p),w(s,o),u=!0},p(i,p){const r={};p&11&&(r.$$scope={dirty:p,ctx:i}),n.$set(r),(!u||p&1)&&a!==(a=i[0].description+"")&&M(o,a)},i(i){u||($(n.$$.fragment,i),u=!0)},o(i){d(n.$$.fragment,i),u=!1},d(i){i&&(m(e),m(t),m(s)),R(n)}}}function le(c){let e,n;return e=new Z({props:{href:c[2],$$slots:{default:[re]},$$scope:{ctx:c}}}),{c(){P(e.$$.fragment)},l(t){I(e.$$.fragment,t)},m(t,s){E(e,t,s),n=!0},p(t,[s]){const a={};s&4&&(a.href=t[2]),s&11&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){d(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function oe(c,e,n){let{item:t}=e,{recipeCount:s=0}=e,{href:a}=e;return c.$$set=o=>{"item"in o&&n(0,t=o.item),"recipeCount"in o&&n(1,s=o.recipeCount),"href"in o&&n(2,a=o.href)},[t,s,a]}class fe extends V{constructor(e){super(),z(this,e,oe,le,O,{item:0,recipeCount:1,href:2})}}function j(c,e,n){const t=c.slice();return t[1]=e[n],t}function ie(c){let e;return{c(){e=B("Coffee beans")},l(n){e=y(n,"Coffee beans")},m(n,t){_(n,e,t)},d(n){n&&m(e)}}}function ce(c){let e,n="Sorted by latest recipe date",t,s=[],a=new Map,o,u,i=T(c[0]);const p=r=>r[1].id;for(let r=0;r<i.length;r+=1){let f=j(c,i,r),l=p(f);a.set(l,s[r]=A(l,f))}return{c(){e=C("h2"),e.textContent=n,t=g();for(let r=0;r<s.length;r+=1)s[r].c();o=D(),this.h()},l(r){e=b(r,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-16exyv5"&&(e.textContent=n),t=v(r);for(let f=0;f<s.length;f+=1)s[f].l(r);o=D(),this.h()},h(){x(e,"class","svelte-12ofamk")},m(r,f){_(r,e,f),_(r,t,f);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(r,f);_(r,o,f),u=!0},p(r,f){f&1&&(i=T(r[0]),J(),s=Q(s,f,p,1,r,i,a,o.parentNode,U,A,o,j),G())},i(r){if(!u){for(let f=0;f<i.length;f+=1)$(s[f]);u=!0}},o(r){for(let f=0;f<s.length;f+=1)d(s[f]);u=!1},d(r){r&&(m(e),m(t),m(o));for(let f=0;f<s.length;f+=1)s[f].d(r)}}}function ue(c){let e,n="No coffee beans added yet.";return{c(){e=C("p"),e.textContent=n},l(t){e=b(t,"P",{"data-svelte-h":!0}),N(e)!=="svelte-1pt8418"&&(e.textContent=n)},m(t,s){_(t,e,s)},p:k,i:k,o:k,d(t){t&&m(e)}}}function pe(c){let e,n="loading...";return{c(){e=C("p"),e.textContent=n},l(t){e=b(t,"P",{"data-svelte-h":!0}),N(e)!=="svelte-qeejp2"&&(e.textContent=n)},m(t,s){_(t,e,s)},p:k,i:k,o:k,d(t){t&&m(e)}}}function A(c,e){let n,t,s;return t=new fe({props:{href:H.coffeeBeansItem(e[1].name),item:e[1],recipeCount:e[1].recipeCount}}),{key:c,first:null,c(){n=D(),P(t.$$.fragment),this.h()},l(a){n=D(),I(t.$$.fragment,a),this.h()},h(){this.first=n},m(a,o){_(a,n,o),E(t,a,o),s=!0},p(a,o){e=a;const u={};o&1&&(u.href=H.coffeeBeansItem(e[1].name)),o&1&&(u.item=e[1]),o&1&&(u.recipeCount=e[1].recipeCount),t.$set(u)},i(a){s||($(t.$$.fragment,a),s=!0)},o(a){d(t.$$.fragment,a),s=!1},d(a){a&&m(n),R(t,a)}}}function me(c){let e,n,t,s,a,o,u,i;n=new W({props:{$$slots:{default:[ie]},$$scope:{ctx:c}}});const p=[pe,ue,ce],r=[];function f(l,h){return l[0]===void 0?0:l[0].length===0?1:2}return s=f(c),a=r[s]=p[s](c),u=new ee({props:{href:H.addRecipe()}}),{c(){e=g(),P(n.$$.fragment),t=g(),a.c(),o=g(),P(u.$$.fragment),this.h()},l(l){L("svelte-n9a09p",document.head).forEach(m),e=v(l),I(n.$$.fragment,l),t=v(l),a.l(l),o=v(l),I(u.$$.fragment,l),this.h()},h(){document.title="PourOverPotato app"},m(l,h){_(l,e,h),E(n,l,h),_(l,t,h),r[s].m(l,h),_(l,o,h),E(u,l,h),i=!0},p(l,[h]){const S={};h&16&&(S.$$scope={dirty:h,ctx:l}),n.$set(S);let F=s;s=f(l),s===F?r[s].p(l,h):(J(),d(r[F],1,1,()=>{r[F]=null}),G(),a=r[s],a?a.p(l,h):(a=r[s]=p[s](l),a.c()),$(a,1),a.m(o.parentNode,o))},i(l){i||($(n.$$.fragment,l),$(a),$(u.$$.fragment,l),i=!0)},o(l){d(n.$$.fragment,l),d(a),d(u.$$.fragment,l),i=!1},d(l){l&&(m(e),m(t),m(o)),R(n,l),r[s].d(l),R(u,l)}}}function _e(c,e,n){let t;return K(()=>{X().then(s=>{Promise.all(s.map(async a=>{const o=await Y(a.id);return{...a,recipeCount:o.length,latestRecipeTimestamp:o.length>0?o.sort(te)[0].timestamp:void 0}})).then(a=>{n(0,t=a.sort(se))})})}),[t]}class ke extends V{constructor(e){super(),z(this,e,_e,me,O,{})}}export{ke as component};
