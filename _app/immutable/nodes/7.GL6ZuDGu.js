import{s as qe,b as S,a as F,o as ze}from"../chunks/scheduler.vcOl-ZmV.js";import{S as Ke,i as Le,v as k,s as C,k as O,e as Ee,l as Ve,d as W,f as I,m as E,c as Re,a as Je,y as Qe,z as Z,g as se,n as R,h as w,A as Xe,B as Ye,q as M,o as N,r as A,t as Ze,b as xe}from"../chunks/index.Otd-Ubpp.js";import{g as we}from"../chunks/entry.txumXuBc.js";import{f as et,g as tt,j as nt,i as at,p as st}from"../chunks/indexedDB.omaGZViy.js";import{n as ae}from"../chunks/naming.kUvCv0xb.js";import{r as Me}from"../chunks/routes.VDEIOkzb.js";import{C as rt,N as Ne,F as it,T as ot,p as fe}from"../chunks/NumberInput.XWqhylZD.js";import{T as le}from"../chunks/Textarea.nT9hUE4u.js";import{P as ut}from"../chunks/PageHeadline.CNgB9f2m.js";async function ft({url:t}){return{coffeeBeansName:t.searchParams.get("coffee_beans_name")}}const Ct=Object.freeze(Object.defineProperty({__proto__:null,load:ft},Symbol.toStringTag,{value:"Module"}));function H(t,i,n){const m=me(t,i);localStorage.setItem(m,n)}function U(t,i,n){const m=me(t,i),a=localStorage.getItem(m);if(a===null)return null;if(n==="number"){const r=Number.parseFloat(a);return Number.isNaN(r)?null:r}return a}function j(t,i){const n=me(t,i);localStorage.removeItem(n)}function me(t,i){return`form_${t}_${i}`}function lt(t){let i;return{c(){i=Ze("Add recipe")},l(n){i=xe(n,"Add recipe")},m(n,m){se(n,i,m)},d(n){n&&W(i)}}}function pt(t){let i,n,m,a,r,P,c,g,f,d,$,p,D,y,_,q,z,b,K,L,h,V,J,v,Q,s,T,G,X,B,ce="Save",ne,oe,ge;n=new ut({props:{$$slots:{default:[lt]},$$scope:{ctx:t}}});function Ae(e){t[14](e)}function Pe(e){t[15](e)}let ue={allCoffeeBeans:t[8],onSavedCoffeeBeans:t[12],validationFailed:t[7]};t[6]!==void 0&&(ue.selectDOM=t[6]),t[0]!==void 0&&(ue.selectedCoffeeBeansId=t[0]),r=new rt({props:ue}),S.push(()=>k(r,"selectDOM",Ae)),S.push(()=>k(r,"selectedCoffeeBeansId",Pe));function De(e){t[16](e)}let de={id:x,label:ae.recipe.recipeTarget+":",name:x,placeholder:fe.recipeTarget};t[1]!==void 0&&(de.value=t[1]),f=new le({props:de}),S.push(()=>k(f,"value",De));function ye(e){t[17](e)}let _e={id:ee,label:ae.recipe.recipeResult+":",name:ee,placeholder:fe.recipeResult};t[2]!==void 0&&(_e.value=t[2]),p=new le({props:_e}),S.push(()=>k(p,"value",ye));function Ge(e){t[18](e)}let be={labelText:ae.recipe.outWeight+" (g):",min:0,nameAttr:re,step:5};t[4]!==void 0&&(be.value=t[4]),_=new Ne({props:be}),S.push(()=>k(_,"value",Ge));function He(e){t[19](e)}let he={labelText:"Rating:",max:5,min:0,nameAttr:ie,step:.5};t[5]!==void 0&&(he.value=t[5]),b=new Ne({props:he}),S.push(()=>k(b,"value",He));function Ue(e){t[20](e)}let ve={};t[9]!==void 0&&(ve.value=t[9]),h=new it({props:ve}),S.push(()=>k(h,"value",Ue));function je(e){t[21](e)}let $e={id:te,label:ae.recipe.recipeThoughts+":",name:te,placeholder:fe.recipeThoughts};t[3]!==void 0&&($e.value=t[3]),v=new le({props:$e}),S.push(()=>k(v,"value",je));function We(e){t[22](e)}let Te={};return t[10]!==void 0&&(Te.value=t[10]),T=new ot({props:Te}),S.push(()=>k(T,"value",We)),{c(){i=C(),O(n.$$.fragment),m=C(),a=Ee("form"),O(r.$$.fragment),g=C(),O(f.$$.fragment),$=C(),O(p.$$.fragment),y=C(),O(_.$$.fragment),z=C(),O(b.$$.fragment),L=C(),O(h.$$.fragment),J=C(),O(v.$$.fragment),s=C(),O(T.$$.fragment),X=C(),B=Ee("button"),B.textContent=ce,this.h()},l(e){Ve("svelte-kogo9l",document.head).forEach(W),i=I(e),E(n.$$.fragment,e),m=I(e),a=Re(e,"FORM",{id:!0,class:!0});var o=Je(a);E(r.$$.fragment,o),g=I(o),E(f.$$.fragment,o),$=I(o),E(p.$$.fragment,o),y=I(o),E(_.$$.fragment,o),z=I(o),E(b.$$.fragment,o),L=I(o),E(h.$$.fragment,o),J=I(o),E(v.$$.fragment,o),s=I(o),E(T.$$.fragment,o),X=I(o),B=Re(o,"BUTTON",{class:!0,form:!0,type:!0,"data-svelte-h":!0}),Qe(B)!=="svelte-1pg8oi4"&&(B.textContent=ce),o.forEach(W),this.h()},h(){document.title="Add recipe - PourOverPotato app",Z(B,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded svelte-b37xp1"),Z(B,"form","add-recipe"),Z(B,"type","submit"),Z(a,"id","add-recipe"),Z(a,"class","svelte-b37xp1")},m(e,u){se(e,i,u),R(n,e,u),se(e,m,u),se(e,a,u),R(r,a,null),w(a,g),R(f,a,null),w(a,$),R(p,a,null),w(a,y),R(_,a,null),w(a,z),R(b,a,null),w(a,L),R(h,a,null),w(a,J),R(v,a,null),w(a,s),R(T,a,null),w(a,X),w(a,B),ne=!0,oe||(ge=Xe(a,"submit",Ye(t[11])),oe=!0)},p(e,[u]){const o={};u&8388608&&(o.$$scope={dirty:u,ctx:e}),n.$set(o);const Y={};u&256&&(Y.allCoffeeBeans=e[8]),u&128&&(Y.validationFailed=e[7]),!P&&u&64&&(P=!0,Y.selectDOM=e[6],F(()=>P=!1)),!c&&u&1&&(c=!0,Y.selectedCoffeeBeansId=e[0],F(()=>c=!1)),r.$set(Y);const Ce={};!d&&u&2&&(d=!0,Ce.value=e[1],F(()=>d=!1)),f.$set(Ce);const Ie={};!D&&u&4&&(D=!0,Ie.value=e[2],F(()=>D=!1)),p.$set(Ie);const Be={};!q&&u&16&&(q=!0,Be.value=e[4],F(()=>q=!1)),_.$set(Be);const Se={};!K&&u&32&&(K=!0,Se.value=e[5],F(()=>K=!1)),b.$set(Se);const Fe={};!V&&u&512&&(V=!0,Fe.value=e[9],F(()=>V=!1)),h.$set(Fe);const ke={};!Q&&u&8&&(Q=!0,ke.value=e[3],F(()=>Q=!1)),v.$set(ke);const Oe={};!G&&u&1024&&(G=!0,Oe.value=e[10],F(()=>G=!1)),T.$set(Oe)},i(e){ne||(M(n.$$.fragment,e),M(r.$$.fragment,e),M(f.$$.fragment,e),M(p.$$.fragment,e),M(_.$$.fragment,e),M(b.$$.fragment,e),M(h.$$.fragment,e),M(v.$$.fragment,e),M(T.$$.fragment,e),ne=!0)},o(e){N(n.$$.fragment,e),N(r.$$.fragment,e),N(f.$$.fragment,e),N(p.$$.fragment,e),N(_.$$.fragment,e),N(b.$$.fragment,e),N(h.$$.fragment,e),N(v.$$.fragment,e),N(T.$$.fragment,e),ne=!1},d(e){e&&(W(i),W(m),W(a)),A(n,e),A(r),A(f),A(p),A(_),A(b),A(h),A(v),A(T),oe=!1,ge()}}}const x="recipe-target",ee="recipe-result",te="recipe-thoughts",re="out-weight",ie="rating",l="addRecipe",pe="coffee-beans";function mt(t,i,n){let m,a=!1,r=!1,P,c,g="",f="",d="",$=0,p=0,D=!1,y=et(new Date);ze(()=>{tt().then(s=>{n(8,P=s),n(0,c=U(l,pe,"number")??void 0),n(1,g=U(l,x,"string")??""),n(2,f=U(l,ee,"string")??""),n(3,d=U(l,te,"string")??""),n(4,$=U(l,re,"number")??0),n(5,p=U(l,ie,"number")??0),n(13,r=!0)})});async function _(){if(c===void 0){n(7,a=!0);return}n(1,g=g.trim()),n(2,f=f.trim()),n(3,d=d.trim());const s=st(y);await nt({coffeeBeansId:c,recipeTarget:g,recipeResult:f,recipeThoughts:d,outWeight:$,rating:p,favorite:D,timestamp:s}),j(l,pe),j(l,x),j(l,ee),j(l,te),j(l,re),j(l,ie),at("Recipe created.");const G=P.find(X=>X.id===c);if(G===void 0){we(Me.home);return}we(Me.coffeeBeansItem(G.name))}function q(s){P.push(s),n(0,c=s.id),n(7,a=!1)}function z(s){m=s,n(6,m)}function b(s){c=s,n(0,c)}function K(s){g=s,n(1,g)}function L(s){f=s,n(2,f)}function h(s){$=s,n(4,$)}function V(s){p=s,n(5,p)}function J(s){D=s,n(9,D)}function v(s){d=s,n(3,d)}function Q(s){y=s,n(10,y)}return t.$$.update=()=>{t.$$.dirty&8193&&c!==void 0&&r&&H(l,pe,c),t.$$.dirty&8194&&r&&H(l,x,g),t.$$.dirty&8196&&r&&H(l,ee,f),t.$$.dirty&8200&&r&&H(l,te,d),t.$$.dirty&8208&&r&&H(l,re,$),t.$$.dirty&8224&&r&&H(l,ie,p)},[c,g,f,d,$,p,m,a,P,D,y,_,q,r,z,b,K,L,h,V,J,v,Q]}class It extends Ke{constructor(i){super(),Le(this,i,mt,pt,qe,{})}}export{It as component,Ct as universal};
