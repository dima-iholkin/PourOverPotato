import{s as ze,b as S,a as k,o as Ve}from"../chunks/scheduler.vcOl-ZmV.js";import{S as Ke,i as Le,v as O,s as I,k as E,e as Re,l as Je,d as W,f as B,m as R,c as we,a as Qe,y as Xe,z as Z,g as re,n as w,h as A,A as Ye,B as Ze,q as M,o as N,r as P,t as xe,b as et}from"../chunks/index.Otd-Ubpp.js";import{g as Ae}from"../chunks/entry.nU6hbqEA.js";import{f as tt,g as nt,j as at,i as rt,p as st}from"../chunks/indexedDB.omaGZViy.js";import{n as ae}from"../chunks/naming.kUvCv0xb.js";import{r as Me}from"../chunks/routes.YvKwRVQK.js";import{C as it,N as Ne,F as ot,T as ft,p as ue}from"../chunks/NumberInput.1ThxPj5S.js";import{T as le}from"../chunks/Textarea.nT9hUE4u.js";import{P as ut}from"../chunks/PageHeadline.CNgB9f2m.js";async function lt({url:t}){return{coffeeBeansName:t.searchParams.get("coffee_beans_name")}}const It=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"}));function G(t,i,n){const m=ce(t,i);localStorage.setItem(m,n)}function H(t,i,n){const m=ce(t,i),a=localStorage.getItem(m);if(a===null)return null;if(n==="number"){const s=Number.parseFloat(a);return Number.isNaN(s)?null:s}return a}function U(t,i){const n=ce(t,i);localStorage.removeItem(n)}function ce(t,i){return`form_${t}_${i}`}function pt(t){let i;return{c(){i=xe("Add recipe")},l(n){i=et(n,"Add recipe")},m(n,m){re(n,i,m)},d(n){n&&W(i)}}}function mt(t){let i,n,m,a,s,y,c,g,l,d,$,p,T,D,_,q,z,b,V,K,h,L,J,v,Q,r,C,j,X,F,ge="Save",ne,oe,de;n=new ut({props:{$$slots:{default:[pt]},$$scope:{ctx:t}}});function Pe(e){t[14](e)}function ye(e){t[15](e)}let fe={allCoffeeBeans:t[9],onSavedCoffeeBeans:t[12],validationFailed:t[8]};t[7]!==void 0&&(fe.selectDOM=t[7]),t[0]!==void 0&&(fe.selectedCoffeeBeansId=t[0]),s=new it({props:fe}),S.push(()=>O(s,"selectDOM",Pe)),S.push(()=>O(s,"selectedCoffeeBeansId",ye));function De(e){t[16](e)}let _e={id:x,label:ae.recipe.recipeTarget+":",name:x,placeholder:ue.recipeTarget};t[1]!==void 0&&(_e.value=t[1]),l=new le({props:_e}),S.push(()=>O(l,"value",De));function Ge(e){t[17](e)}let be={id:ee,label:ae.recipe.recipeResult+":",name:ee,placeholder:ue.recipeResult};t[2]!==void 0&&(be.value=t[2]),p=new le({props:be}),S.push(()=>O(p,"value",Ge));function He(e){t[18](e)}let he={labelText:ae.recipe.outWeight+" (g):",min:0,nameAttr:se,step:5};t[4]!==void 0&&(he.value=t[4]),_=new Ne({props:he}),S.push(()=>O(_,"value",He));function Ue(e){t[19](e)}let ve={labelText:"Rating:",max:5,min:0,nameAttr:ie,step:.5};t[5]!==void 0&&(ve.value=t[5]),b=new Ne({props:ve}),S.push(()=>O(b,"value",Ue));function je(e){t[20](e)}let $e={};t[6]!==void 0&&($e.value=t[6]),h=new ot({props:$e}),S.push(()=>O(h,"value",je));function We(e){t[21](e)}let Te={id:te,label:ae.recipe.recipeThoughts+":",name:te,placeholder:ue.recipeThoughts};t[3]!==void 0&&(Te.value=t[3]),v=new le({props:Te}),S.push(()=>O(v,"value",We));function qe(e){t[22](e)}let Ce={};return t[10]!==void 0&&(Ce.value=t[10]),C=new ft({props:Ce}),S.push(()=>O(C,"value",qe)),{c(){i=I(),E(n.$$.fragment),m=I(),a=Re("form"),E(s.$$.fragment),g=I(),E(l.$$.fragment),$=I(),E(p.$$.fragment),D=I(),E(_.$$.fragment),z=I(),E(b.$$.fragment),K=I(),E(h.$$.fragment),J=I(),E(v.$$.fragment),r=I(),E(C.$$.fragment),X=I(),F=Re("button"),F.textContent=ge,this.h()},l(e){Je("svelte-kogo9l",document.head).forEach(W),i=B(e),R(n.$$.fragment,e),m=B(e),a=we(e,"FORM",{id:!0,class:!0});var o=Qe(a);R(s.$$.fragment,o),g=B(o),R(l.$$.fragment,o),$=B(o),R(p.$$.fragment,o),D=B(o),R(_.$$.fragment,o),z=B(o),R(b.$$.fragment,o),K=B(o),R(h.$$.fragment,o),J=B(o),R(v.$$.fragment,o),r=B(o),R(C.$$.fragment,o),X=B(o),F=we(o,"BUTTON",{class:!0,form:!0,type:!0,"data-svelte-h":!0}),Xe(F)!=="svelte-1pg8oi4"&&(F.textContent=ge),o.forEach(W),this.h()},h(){document.title="Add recipe - PourOverPotato app",Z(F,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded svelte-b37xp1"),Z(F,"form","add-recipe"),Z(F,"type","submit"),Z(a,"id","add-recipe"),Z(a,"class","svelte-b37xp1")},m(e,u){re(e,i,u),w(n,e,u),re(e,m,u),re(e,a,u),w(s,a,null),A(a,g),w(l,a,null),A(a,$),w(p,a,null),A(a,D),w(_,a,null),A(a,z),w(b,a,null),A(a,K),w(h,a,null),A(a,J),w(v,a,null),A(a,r),w(C,a,null),A(a,X),A(a,F),ne=!0,oe||(de=Ye(a,"submit",Ze(t[11])),oe=!0)},p(e,[u]){const o={};u&8388608&&(o.$$scope={dirty:u,ctx:e}),n.$set(o);const Y={};u&512&&(Y.allCoffeeBeans=e[9]),u&256&&(Y.validationFailed=e[8]),!y&&u&128&&(y=!0,Y.selectDOM=e[7],k(()=>y=!1)),!c&&u&1&&(c=!0,Y.selectedCoffeeBeansId=e[0],k(()=>c=!1)),s.$set(Y);const Ie={};!d&&u&2&&(d=!0,Ie.value=e[1],k(()=>d=!1)),l.$set(Ie);const Be={};!T&&u&4&&(T=!0,Be.value=e[2],k(()=>T=!1)),p.$set(Be);const Fe={};!q&&u&16&&(q=!0,Fe.value=e[4],k(()=>q=!1)),_.$set(Fe);const Se={};!V&&u&32&&(V=!0,Se.value=e[5],k(()=>V=!1)),b.$set(Se);const ke={};!L&&u&64&&(L=!0,ke.value=e[6],k(()=>L=!1)),h.$set(ke);const Oe={};!Q&&u&8&&(Q=!0,Oe.value=e[3],k(()=>Q=!1)),v.$set(Oe);const Ee={};!j&&u&1024&&(j=!0,Ee.value=e[10],k(()=>j=!1)),C.$set(Ee)},i(e){ne||(M(n.$$.fragment,e),M(s.$$.fragment,e),M(l.$$.fragment,e),M(p.$$.fragment,e),M(_.$$.fragment,e),M(b.$$.fragment,e),M(h.$$.fragment,e),M(v.$$.fragment,e),M(C.$$.fragment,e),ne=!0)},o(e){N(n.$$.fragment,e),N(s.$$.fragment,e),N(l.$$.fragment,e),N(p.$$.fragment,e),N(_.$$.fragment,e),N(b.$$.fragment,e),N(h.$$.fragment,e),N(v.$$.fragment,e),N(C.$$.fragment,e),ne=!1},d(e){e&&(W(i),W(m),W(a)),P(n,e),P(s),P(l),P(p),P(_),P(b),P(h),P(v),P(C),oe=!1,de()}}}const x="recipe-target",ee="recipe-result",te="recipe-thoughts",se="out-weight",ie="rating",pe="favorite",f="addRecipe",me="coffee-beans";function ct(t,i,n){let m,a=!1,s=!1,y,c,g="",l="",d="",$=0,p=0,T=!1,D=tt(new Date);Ve(()=>{nt().then(r=>{n(9,y=r),n(0,c=H(f,me,"number")??void 0),n(1,g=H(f,x,"string")??""),n(2,l=H(f,ee,"string")??""),n(3,d=H(f,te,"string")??""),n(4,$=H(f,se,"number")??0),n(5,p=H(f,ie,"number")??0),n(6,T=H(f,pe,"number")===1),n(13,s=!0)})});async function _(){if(c===void 0){n(8,a=!0);return}n(1,g=g.trim()),n(2,l=l.trim()),n(3,d=d.trim());const r=st(D);await at({coffeeBeansId:c,recipeTarget:g,recipeResult:l,recipeThoughts:d,outWeight:$,rating:p,favorite:T,timestamp:r}),U(f,me),U(f,x),U(f,ee),U(f,te),U(f,se),U(f,ie),U(f,pe),rt("Recipe created.");const j=y.find(X=>X.id===c);if(j===void 0){Ae(Me.home);return}Ae(Me.coffeeBeansItem(j.name))}function q(r){y.push(r),n(0,c=r.id),n(8,a=!1)}function z(r){m=r,n(7,m)}function b(r){c=r,n(0,c)}function V(r){g=r,n(1,g)}function K(r){l=r,n(2,l)}function h(r){$=r,n(4,$)}function L(r){p=r,n(5,p)}function J(r){T=r,n(6,T)}function v(r){d=r,n(3,d)}function Q(r){D=r,n(10,D)}return t.$$.update=()=>{t.$$.dirty&8193&&c!==void 0&&s&&G(f,me,c),t.$$.dirty&8194&&s&&G(f,x,g),t.$$.dirty&8196&&s&&G(f,ee,l),t.$$.dirty&8200&&s&&G(f,te,d),t.$$.dirty&8208&&s&&G(f,se,$),t.$$.dirty&8224&&s&&G(f,ie,p),t.$$.dirty&8256&&s&&G(f,pe,T?1:0)},[c,g,l,d,$,p,T,m,a,y,D,_,q,s,z,b,V,K,h,L,J,v,Q]}class Bt extends Ke{constructor(i){super(),Le(this,i,ct,mt,ze,{})}}export{Bt as component,It as universal};
