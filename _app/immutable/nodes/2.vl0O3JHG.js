import{s as N,o as J,n as j}from"../chunks/scheduler.iw5UPFgZ.js";import{S as O,i as V,k as g,m as b,n as k,q as d,o as h,r as C,e as R,s as v,t as B,c as S,a as A,d as p,f as w,b as y,x as E,g as $,h as P,j as I,l as K,p as z,u as G,v as D}from"../chunks/index.dhUYh1Im.js";import{P as Q,e as H,u as U,o as W}from"../chunks/PageHeadline.skxRShMf.js";import{b as X,c as Y}from"../chunks/indexedDB.9rTLuNK9.js";import{C as Z,A as x,s as ee,a as te,S as se}from"../chunks/NoItemsYetP.bXduJqLs.js";import{r as T}from"../chunks/routes.vzx06RAX.js";import{F as ne,L as re}from"../chunks/Loading.nMOU7nmE.js";import{A as ae}from"../chunks/AddDemoCoffeeBeans_PageBlock.Gn8viW48.js";function fe(c){let t,s=c[0].name+"",e,f,n,o,i,u=c[1]===1?"recipe":"recipes",a;return{c(){t=R("h5"),e=B(s),f=v(),n=R("p"),o=B(c[1]),i=v(),a=B(u),this.h()},l(r){t=S(r,"H5",{class:!0});var m=A(t);e=y(m,s),m.forEach(p),f=w(r),n=S(r,"P",{class:!0});var l=A(n);o=y(l,c[1]),i=w(l),a=y(l,u),l.forEach(p),this.h()},h(){E(t,"class","svelte-1w6mxay"),E(n,"class","recipes-count svelte-1w6mxay")},m(r,m){$(r,t,m),P(t,e),$(r,f,m),$(r,n,m),P(n,o),P(n,i),P(n,a)},p(r,m){m&1&&s!==(s=r[0].name+"")&&I(e,s),m&2&&I(o,r[1]),m&2&&u!==(u=r[1]===1?"recipe":"recipes")&&I(a,u)},d(r){r&&(p(t),p(f),p(n))}}}function oe(c){let t,s,e,f,n=c[0].description+"",o,i;return s=new ne({props:{$$slots:{default:[fe]},$$scope:{ctx:c}}}),{c(){t=R("div"),g(s.$$.fragment),e=v(),f=R("p"),o=B(n),this.h()},l(u){t=S(u,"DIV",{class:!0});var a=A(t);b(s.$$.fragment,a),a.forEach(p),e=w(u),f=S(u,"P",{class:!0});var r=A(f);o=y(r,n),r.forEach(p),this.h()},h(){E(t,"class","flex-row svelte-1w6mxay"),E(f,"class","svelte-1w6mxay")},m(u,a){$(u,t,a),k(s,t,null),$(u,e,a),$(u,f,a),P(f,o),i=!0},p(u,a){const r={};a&11&&(r.$$scope={dirty:a,ctx:u}),s.$set(r),(!i||a&1)&&n!==(n=u[0].description+"")&&I(o,n)},i(u){i||(d(s.$$.fragment,u),i=!0)},o(u){h(s.$$.fragment,u),i=!1},d(u){u&&(p(t),p(e),p(f)),C(s)}}}function le(c){let t,s;return t=new Z({props:{href:c[2],$$slots:{default:[oe]},$$scope:{ctx:c}}}),{c(){g(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,f){k(t,e,f),s=!0},p(e,[f]){const n={};f&4&&(n.href=e[2]),f&11&&(n.$$scope={dirty:f,ctx:e}),t.$set(n)},i(e){s||(d(t.$$.fragment,e),s=!0)},o(e){h(t.$$.fragment,e),s=!1},d(e){C(t,e)}}}function ie(c,t,s){let{item:e}=t,{recipeCount:f=0}=t,{href:n}=t;return c.$$set=o=>{"item"in o&&s(0,e=o.item),"recipeCount"in o&&s(1,f=o.recipeCount),"href"in o&&s(2,n=o.href)},[e,f,n]}class ce extends O{constructor(t){super(),V(this,t,ie,le,N,{item:0,recipeCount:1,href:2})}}function L(c,t,s){const e=c.slice();return e[1]=t[s],e}function ue(c){let t;return{c(){t=B("Coffee beans")},l(s){t=y(s,"Coffee beans")},m(s,e){$(s,t,e)},d(s){s&&p(t)}}}function me(c){let t,s,e=[],f=new Map,n,o;t=new se({props:{$$slots:{default:[_e]},$$scope:{ctx:c}}});let i=H(c[0]);const u=a=>a[1].id;for(let a=0;a<i.length;a+=1){let r=L(c,i,a),m=u(r);f.set(m,e[a]=M(m,r))}return{c(){g(t.$$.fragment),s=v();for(let a=0;a<e.length;a+=1)e[a].c();n=D()},l(a){b(t.$$.fragment,a),s=w(a);for(let r=0;r<e.length;r+=1)e[r].l(a);n=D()},m(a,r){k(t,a,r),$(a,s,r);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(a,r);$(a,n,r),o=!0},p(a,r){const m={};r&16&&(m.$$scope={dirty:r,ctx:a}),t.$set(m),r&1&&(i=H(a[0]),G(),e=U(e,r,u,1,a,i,f,n.parentNode,W,M,n,L),z())},i(a){if(!o){d(t.$$.fragment,a);for(let r=0;r<i.length;r+=1)d(e[r]);o=!0}},o(a){h(t.$$.fragment,a);for(let r=0;r<e.length;r+=1)h(e[r]);o=!1},d(a){a&&(p(s),p(n)),C(t,a);for(let r=0;r<e.length;r+=1)e[r].d(a)}}}function pe(c){let t,s;return t=new ae({}),{c(){g(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,f){k(t,e,f),s=!0},p:j,i(e){s||(d(t.$$.fragment,e),s=!0)},o(e){h(t.$$.fragment,e),s=!1},d(e){C(t,e)}}}function $e(c){let t,s;return t=new re({}),{c(){g(t.$$.fragment)},l(e){b(t.$$.fragment,e)},m(e,f){k(t,e,f),s=!0},p:j,i(e){s||(d(t.$$.fragment,e),s=!0)},o(e){h(t.$$.fragment,e),s=!1},d(e){C(t,e)}}}function _e(c){let t;return{c(){t=B("Sorted by latest recipe date")},l(s){t=y(s,"Sorted by latest recipe date")},m(s,e){$(s,t,e)},d(s){s&&p(t)}}}function M(c,t){let s,e,f;return e=new ce({props:{href:T.coffeeBeansItem(t[1].name),item:t[1],recipeCount:t[1].recipeCount}}),{key:c,first:null,c(){s=D(),g(e.$$.fragment),this.h()},l(n){s=D(),b(e.$$.fragment,n),this.h()},h(){this.first=s},m(n,o){$(n,s,o),k(e,n,o),f=!0},p(n,o){t=n;const i={};o&1&&(i.href=T.coffeeBeansItem(t[1].name)),o&1&&(i.item=t[1]),o&1&&(i.recipeCount=t[1].recipeCount),e.$set(i)},i(n){f||(d(e.$$.fragment,n),f=!0)},o(n){h(e.$$.fragment,n),f=!1},d(n){n&&p(s),C(e,n)}}}function de(c){let t,s,e,f,n,o,i,u;s=new Q({props:{$$slots:{default:[ue]},$$scope:{ctx:c}}});const a=[$e,pe,me],r=[];function m(l,_){return l[0]===void 0?0:l[0].length===0?1:2}return f=m(c),n=r[f]=a[f](c),i=new x({props:{href:T.addRecipe()}}),{c(){t=v(),g(s.$$.fragment),e=v(),n.c(),o=v(),g(i.$$.fragment),this.h()},l(l){K("svelte-n9a09p",document.head).forEach(p),t=w(l),b(s.$$.fragment,l),e=w(l),n.l(l),o=w(l),b(i.$$.fragment,l),this.h()},h(){document.title="PourOverPotato app"},m(l,_){$(l,t,_),k(s,l,_),$(l,e,_),r[f].m(l,_),$(l,o,_),k(i,l,_),u=!0},p(l,[_]){const q={};_&16&&(q.$$scope={dirty:_,ctx:l}),s.$set(q);let F=f;f=m(l),f===F?r[f].p(l,_):(G(),h(r[F],1,1,()=>{r[F]=null}),z(),n=r[f],n?n.p(l,_):(n=r[f]=a[f](l),n.c()),d(n,1),n.m(o.parentNode,o))},i(l){u||(d(s.$$.fragment,l),d(n),d(i.$$.fragment,l),u=!0)},o(l){h(s.$$.fragment,l),h(n),h(i.$$.fragment,l),u=!1},d(l){l&&(p(t),p(e),p(o)),C(s,l),r[f].d(l),C(i,l)}}}function he(c,t,s){let e;return J(()=>{X().then(async f=>{const n=await Promise.all(f.map(async o=>{const i=await Y(o.id);return{...o,recipeCount:i.length,latestRecipeTimestamp:i.length>0?i.sort(ee)[0].timestamp:void 0}}));s(0,e=n.sort(te))})}),[e]}class Pe extends O{constructor(t){super(),V(this,t,he,de,N,{})}}export{Pe as component};
