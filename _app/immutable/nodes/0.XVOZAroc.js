import{n as j,l as Vt,k as Tt,B as mt,s as z,d as ut,u as ct,g as ft,e as dt,h as It,o as at,j as Ft,C as Lt,c as ot,b as J,a as nt,r as Dt,t as Mt}from"../chunks/scheduler.Cw1-ZcKD.js";import{K as Nt,L as Rt,M as At,N as Pt,S as K,i as Y,e as k,s as B,t as jt,c as w,a as V,y as G,f as E,b as xt,d as b,z as v,g as U,h as C,A as Z,j as Gt,q as I,o as M,k as L,m as N,n as R,r as A,u as rt,p as lt,O as Ht,P as zt,B as F,v as st,w as pt,D as ht}from"../chunks/index.D7LFJCWc.js";import{e as gt,u as Kt,l as Yt,a as Wt}from"../chunks/coffeeBeansAPI.BVL1Bkc3.js";import{b as Zt}from"../chunks/paths.Cp6tg5e5.js";import{p as X}from"../chunks/stores.zLy8Vw-2.js";import{r as D}from"../chunks/routes.uZ2bepKa.js";import{g as tt}from"../chunks/entry.LuwjJCXG.js";import{M as Ut,a as _t}from"../chunks/Modal.B2z2R1xt.js";import{c as Bt}from"../chunks/core.C_szslgD.js";import{e as Jt}from"../chunks/exportDataAPI.28VJm8hU.js";import{b as Qt}from"../chunks/manageDataAPI.BaXyZVTZ.js";function Xt(a,t,n,e){if(!t)return j;const s=a.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return j;const{delay:o=0,duration:i=300,easing:l=Vt,start:r=Nt()+o,end:u=r+i,tick:f=j,css:m}=n(a,{from:t,to:s},e);let c=!0,_=!1,h;function $(){m&&(h=At(a,0,1,i,o,l,m)),o||(_=!0)}function g(){m&&Pt(a,h),c=!1}return Rt(y=>{if(!_&&y>=r&&(_=!0),_&&y>=u&&(f(1,0),g()),!c)return!1;if(_){const p=y-r,O=0+1*l(p/i);f(O,1-O)}return!0}),$(),f(0,1),g}function te(a){const t=getComputedStyle(a);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:e}=t,s=a.getBoundingClientRect();a.style.position="absolute",a.style.width=n,a.style.height=e,Et(a,s)}}function Et(a,t){const n=a.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const e=getComputedStyle(a),s=e.transform==="none"?"":e.transform;a.style.transform=`${s} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function Ot(a){const t=a-1;return t*t*t+1}function ee(a,{from:t,to:n},e={}){const s=getComputedStyle(a),o=s.transform==="none"?"":s.transform,[i,l]=s.transformOrigin.split(" ").map(parseFloat),r=t.left+t.width*i/n.width-(n.left+i),u=t.top+t.height*l/n.height-(n.top+l),{delay:f=0,duration:m=_=>Math.sqrt(_)*120,easing:c=Ot}=e;return{delay:f,duration:Tt(m)?m(Math.sqrt(r*r+u*u)):m,easing:c,css:(_,h)=>{const $=h*r,g=h*u,y=_+h*t.width/n.width,p=_+h*t.height/n.height;return`transform: ${o} translate(${$}px, ${g}px) scale(${y}, ${p});`}}}function $t(a,{delay:t=0,duration:n=400,easing:e=Ot,x:s=0,y:o=0,opacity:i=0}={}){const l=getComputedStyle(a),r=+l.opacity,u=l.transform==="none"?"":l.transform,f=r*(1-i),[m,c]=mt(s),[_,h]=mt(o);return{delay:t,duration:n,easing:e,css:($,g)=>`
			transform: ${u} translate(${(1-$)*m}${c}, ${(1-$)*_}${h});
			opacity: ${r-f*g}`}}const ne=a=>({}),vt=a=>({});function se(a){let t,n,e='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg> <span class="sr-only">Check icon</span>',s,o,i,l,r,u,f='<span class="sr-only">Close</span> <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',m,c,_;const h=a[2].button,$=ut(h,a,a[1],vt);return{c(){t=k("div"),n=k("div"),n.innerHTML=e,s=B(),o=k("div"),i=jt(a[0]),l=B(),$&&$.c(),r=B(),u=k("button"),u.innerHTML=f,this.h()},l(g){t=w(g,"DIV",{class:!0,role:!0});var y=V(t);n=w(y,"DIV",{class:!0,"data-svelte-h":!0}),G(n)!=="svelte-174t6ab"&&(n.innerHTML=e),s=E(y),o=w(y,"DIV",{id:!0,class:!0});var p=V(o);i=xt(p,a[0]),p.forEach(b),l=E(y),$&&$.l(y),r=E(y),u=w(y,"BUTTON",{class:!0,"data-dismiss-target":!0,type:!0,"aria-label":!0,"data-svelte-h":!0}),G(u)!=="svelte-1sgij25"&&(u.innerHTML=f),y.forEach(b),this.h()},h(){v(n,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg"),v(o,"id","toast-content"),v(o,"class","text-base font-normal svelte-1lholb5"),v(u,"class","my-close-button ms-auto -mx-1.5 -my-1.5 bg-gray-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-300 inline-flex items-center justify-center h-8 w-8 svelte-1lholb5"),v(u,"data-dismiss-target","#toast-success"),v(u,"type","button"),v(u,"aria-label","Close"),v(t,"class","my-toast flex items-center max-w-xl p-4 bg-gray-100 rounded-lg shadow svelte-1lholb5"),v(t,"role","alert")},m(g,y){U(g,t,y),C(t,n),C(t,s),C(t,o),C(o,i),C(t,l),$&&$.m(t,null),C(t,r),C(t,u),m=!0,c||(_=Z(u,"click",a[3]),c=!0)},p(g,[y]){(!m||y&1)&&Gt(i,g[0]),$&&$.p&&(!m||y&2)&&ct($,h,g,g[1],m?dt(h,g[1],y,ne):ft(g[1]),vt)},i(g){m||(I($,g),m=!0)},o(g){M($,g),m=!1},d(g){g&&b(t),$&&$.d(g),c=!1,_()}}}function ae(a,t,n){let{$$slots:e={},$$scope:s}=t,{message:o}=t;function i(l){It.call(this,a,l)}return a.$$set=l=>{"message"in l&&n(0,o=l.message),"$$scope"in l&&n(1,s=l.$$scope)},[o,s,e,i]}class qt extends K{constructor(t){super(),Y(this,t,ae,se,z,{message:0})}}function oe(a){let t,n="Undo",e,s;return{c(){t=k("button"),t.textContent=n,this.h()},l(o){t=w(o,"BUTTON",{slot:!0,type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),G(t)!=="svelte-j5y622"&&(t.textContent=n),this.h()},h(){v(t,"slot","button"),v(t,"type","button"),v(t,"aria-label","Close"),v(t,"class","svelte-1j0z2np")},m(o,i){U(o,t,i),e||(s=Z(t,"click",function(){Tt(a[0])&&a[0].apply(this,arguments)}),e=!0)},p(o,i){a=o},d(o){o&&b(t),e=!1,s()}}}function re(a){let t,n;return t=new qt({props:{message:a[1],$$slots:{button:[oe]},$$scope:{ctx:a}}}),t.$on("click",a[2]),{c(){L(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,s){R(t,e,s),n=!0},p(e,[s]){const o={};s&2&&(o.message=e[1]),s&9&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function le(a,t,n){let{onClickUndo:e}=t,{message:s}=t;function o(i){It.call(this,a,i)}return a.$$set=i=>{"onClickUndo"in i&&n(0,e=i.onClickUndo),"message"in i&&n(1,s=i.message)},[e,s,o]}class ie extends K{constructor(t){super(),Y(this,t,le,re,z,{onClickUndo:0,message:1})}}function bt(a,t,n){const e=a.slice();return e[6]=t[n],e}function ue(a){let t,n;function e(){return a[4](a[6])}function s(){return a[5](a[6])}return t=new ie({props:{message:a[6].message,onClickUndo:e}}),t.$on("click",s),{c(){L(t.$$.fragment)},l(o){N(t.$$.fragment,o)},m(o,i){R(t,o,i),n=!0},p(o,i){a=o;const l={};i&1&&(l.message=a[6].message),i&1&&(l.onClickUndo=e),t.$set(l)},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){M(t.$$.fragment,o),n=!1},d(o){A(t,o)}}}function ce(a){let t,n;function e(){return a[3](a[6])}return t=new qt({props:{message:a[6].message}}),t.$on("click",e),{c(){L(t.$$.fragment)},l(s){N(t.$$.fragment,s)},m(s,o){R(t,s,o),n=!0},p(s,o){a=s;const i={};o&1&&(i.message=a[6].message),t.$set(i)},i(s){n||(I(t.$$.fragment,s),n=!0)},o(s){M(t.$$.fragment,s),n=!1},d(s){A(t,s)}}}function yt(a,t){let n,e,s,o,i,l,r,u=j,f;const m=[ce,ue],c=[];function _(h,$){return h[6].onClickUndo===void 0?0:1}return e=_(t),s=c[e]=m[e](t),{key:a,first:null,c(){n=k("div"),s.c(),o=B(),this.h()},l(h){n=w(h,"DIV",{class:!0});var $=V(n);s.l($),o=E($),$.forEach(b),this.h()},h(){v(n,"class","toast-wrapper"),this.first=n},m(h,$){U(h,n,$),c[e].m(n,null),C(n,o),f=!0},p(h,$){t=h;let g=e;e=_(t),e===g?c[e].p(t,$):(rt(),M(c[g],1,1,()=>{c[g]=null}),lt(),s=c[e],s?s.p(t,$):(s=c[e]=m[e](t),s.c()),I(s,1),s.m(n,o))},r(){r=n.getBoundingClientRect()},f(){te(n),u(),Et(n,r)},a(){u(),u=Xt(n,r,ee,{})},i(h){f||(I(s),h&&Ft(()=>{f&&(l&&l.end(1),i=Ht(n,$t,{y:100}),i.start())}),f=!0)},o(h){M(s),i&&i.invalidate(),h&&(l=zt(n,$t,{x:100})),f=!1},d(h){h&&b(n),c[e].d(),h&&l&&l.end()}}}function fe(a){let t,n=[],e=new Map,s,o=gt(a[0]);const i=l=>l[6].timestamp;for(let l=0;l<o.length;l+=1){let r=bt(a,o,l),u=i(r);e.set(u,n[l]=yt(u,r))}return{c(){t=k("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){t=w(l,"DIV",{id:!0,class:!0});var r=V(t);for(let u=0;u<n.length;u+=1)n[u].l(r);r.forEach(b),this.h()},h(){v(t,"id","toast-provider"),v(t,"class","svelte-18vg0cs")},m(l,r){U(l,t,r);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(t,null);s=!0},p(l,[r]){if(r&7){o=gt(l[0]),rt();for(let u=0;u<n.length;u+=1)n[u].r();n=Kt(n,r,i,1,l,o,e,t,Yt,yt,null,bt);for(let u=0;u<n.length;u+=1)n[u].a();lt()}},i(l){if(!s){for(let r=0;r<o.length;r+=1)I(n[r]);s=!0}},o(l){for(let r=0;r<n.length;r+=1)M(n[r]);s=!1},d(l){l&&b(t);for(let r=0;r<n.length;r+=1)n[r].d()}}}function de(a,t,n){let e=[];at(()=>{document.addEventListener("addToast",u=>{const f=Date.now(),m={message:u.detail.message,timeout:u.detail.timeout,timestamp:f,onClickUndo:u.detail.onClickUndo,onUndoIgnored:u.detail.onUndoIgnored};e.push(m),n(0,e),setTimeout(()=>{o(m)},m.timeout)})});function s(u){u.onUndoIgnored&&(u.onUndoIgnored=void 0),o(u),u.onClickUndo&&u.onClickUndo()}function o(u){u.onUndoIgnored&&u.onUndoIgnored();const f=e.findIndex(m=>m.timestamp===u.timestamp);f!==-1&&(e.splice(f,1),n(0,e))}return[e,s,o,u=>o(u),u=>s(u),u=>o(u)]}class me extends K{constructor(t){super(),Y(this,t,de,fe,z,{})}}const pe=""+new URL("../assets/coffee-beans-icon.B8jMyzaG.png",import.meta.url).href;function he(a){let t,n="dashboard";return{c(){t=k("span"),t.textContent=n,this.h()},l(e){t=w(e,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-uhkmif"&&(t.textContent=n),this.h()},h(){v(t,"class","material-icons")},m(e,s){U(e,t,s)},p:j,i:j,o:j,d(e){e&&b(t)}}}class ge extends K{constructor(t){super(),Y(this,t,null,he,z,{})}}function _e(a){let t,n,e,s,o='<span class="material-icons recipes-icon svelte-suyw3n" style="padding: 2px 0;">content_copy</span> <span class="svelte-suyw3n">Recipes</span>',i,l,r,u,f,m,c,_="Coffee beans",h,$,g,y,p,O,H="Other",P;return y=new ge({}),{c(){t=k("div"),n=k("div"),e=k("a"),s=k("button"),s.innerHTML=o,i=B(),l=k("a"),r=k("button"),u=k("img"),m=B(),c=k("span"),c.textContent=_,h=B(),$=k("a"),g=k("button"),L(y.$$.fragment),p=B(),O=k("span"),O.textContent=H,this.h()},l(S){t=w(S,"DIV",{class:!0});var q=V(t);n=w(q,"DIV",{class:!0});var W=V(n);e=w(W,"A",{href:!0});var x=V(e);s=w(x,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),G(s)!=="svelte-1olslb5"&&(s.innerHTML=o),x.forEach(b),i=E(W),l=w(W,"A",{href:!0});var d=V(l);r=w(d,"BUTTON",{type:!0,class:!0});var T=V(r);u=w(T,"IMG",{src:!0,alt:!0,class:!0}),m=E(T),c=w(T,"SPAN",{class:!0,"data-svelte-h":!0}),G(c)!=="svelte-yc6fjb"&&(c.textContent=_),T.forEach(b),d.forEach(b),h=E(W),$=w(W,"A",{href:!0});var Q=V($);g=w(Q,"BUTTON",{type:!0,class:!0});var et=V(g);N(y.$$.fragment,et),p=E(et),O=w(et,"SPAN",{class:!0,"data-svelte-h":!0}),G(O)!=="svelte-700qdn"&&(O.textContent=H),et.forEach(b),Q.forEach(b),W.forEach(b),q.forEach(b),this.h()},h(){v(s,"type","button"),v(s,"class","svelte-suyw3n"),F(s,"active",a[2]===D.recipes),v(e,"href",D.recipes),Lt(u.src,f=pe)||v(u,"src",f),v(u,"alt","A coffee beans icon"),v(u,"class","svelte-suyw3n"),F(u,"active-img",a[2]===D.home),v(c,"class","svelte-suyw3n"),F(c,"active",a[2]===D.home),v(r,"type","button"),v(r,"class","svelte-suyw3n"),F(r,"active",a[2]===D.home),v(l,"href",D.home),v(O,"class","svelte-suyw3n"),F(O,"active",a[2]===D.other),v(g,"type","button"),v(g,"class","svelte-suyw3n"),F(g,"active",a[2]===D.other),v($,"href",D.other),v(n,"class","grid h-full max-w-lg grid-cols-3 mx-auto font-medium"),v(t,"class","bottom-nav svelte-suyw3n"),F(t,"as-gap",a[0]),F(t,"bottom-nav-static",a[1].url.pathname===D.addRecipe()||a[1].url.pathname.substring(0,a[1].url.pathname.lastIndexOf("/")+1)+1===D.recipeItem(1))},m(S,q){U(S,t,q),C(t,n),C(n,e),C(e,s),C(n,i),C(n,l),C(l,r),C(r,u),C(r,m),C(r,c),C(n,h),C(n,$),C($,g),R(y,g,null),C(g,p),C(g,O),P=!0},p(S,[q]){(!P||q&4)&&F(s,"active",S[2]===D.recipes),(!P||q&4)&&F(u,"active-img",S[2]===D.home),(!P||q&4)&&F(c,"active",S[2]===D.home),(!P||q&4)&&F(r,"active",S[2]===D.home),(!P||q&4)&&F(O,"active",S[2]===D.other),(!P||q&4)&&F(g,"active",S[2]===D.other),(!P||q&1)&&F(t,"as-gap",S[0]),(!P||q&2)&&F(t,"bottom-nav-static",S[1].url.pathname===D.addRecipe()||S[1].url.pathname.substring(0,S[1].url.pathname.lastIndexOf("/")+1)+1===D.recipeItem(1))},i(S){P||(I(y.$$.fragment,S),P=!0)},o(S){M(y.$$.fragment,S),P=!1},d(S){S&&b(t),A(y)}}}function $e(a,t,n){let e,s;ot(a,X,i=>n(1,s=i));let{asGap:o=!1}=t;return a.$$set=i=>{"asGap"in i&&n(0,o=i.asGap)},a.$$.update=()=>{a.$$.dirty&2&&n(2,e=Zt+s.route.id)},[o,s,e]}class kt extends K{constructor(t){super(),Y(this,t,$e,_e,z,{asGap:0})}}function ve(a){let t,n="arrow_back";return{c(){t=k("span"),t.textContent=n,this.h()},l(e){t=w(e,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-12vjxfs"&&(t.textContent=n),this.h()},h(){v(t,"class","material-icons md-24")},m(e,s){U(e,t,s)},p:j,i:j,o:j,d(e){e&&b(t)}}}class be extends K{constructor(t){super(),Y(this,t,null,ve,z,{})}}function ye(a){let t,n="favorite_border";return{c(){t=k("span"),t.textContent=n,this.h()},l(e){t=w(e,"SPAN",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-teydos"&&(t.textContent=n),this.h()},h(){v(t,"class","material-icons md-24 svelte-1c6h8fp")},m(e,s){U(e,t,s)},p:j,i:j,o:j,d(e){e&&b(t)}}}class ke extends K{constructor(t){super(),Y(this,t,null,ye,z,{})}}function we(a){let t,n;return t=new ke({}),{c(){L(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,s){R(t,e,s),n=!0},p:j,i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function Ce(a){let t,n,e,s,o;return n=new be({}),{c(){t=k("button"),L(n.$$.fragment),this.h()},l(i){t=w(i,"BUTTON",{class:!0});var l=V(t);N(n.$$.fragment,l),l.forEach(b),this.h()},h(){v(t,"class","vertical-center-children svelte-47vdz7")},m(i,l){U(i,t,l),R(n,t,null),e=!0,s||(o=Z(t,"click",a[3]),s=!0)},p:j,i(i){e||(I(n.$$.fragment,i),e=!0)},o(i){M(n.$$.fragment,i),e=!1},d(i){i&&b(t),A(n),s=!1,o()}}}function Se(a){let t,n,e,s,o,i,l,r,u='<div class="logo-container svelte-47vdz7"><span class="text-2xl font-semibold whitespace-nowrap svelte-47vdz7">PourOverPotato</span> <p class="sublogo svelte-47vdz7">Save your best recipes</p></div>',f;const m=[Ce,we],c=[];function _(h,$){return h[1]!==D.home?0:1}return o=_(a),i=c[o]=m[o](a),{c(){t=k("nav"),n=k("div"),e=k("div"),s=k("div"),i.c(),l=B(),r=k("a"),r.innerHTML=u,this.h()},l(h){t=w(h,"NAV",{class:!0});var $=V(t);n=w($,"DIV",{class:!0});var g=V(n);e=w(g,"DIV",{class:!0});var y=V(e);s=w(y,"DIV",{class:!0});var p=V(s);i.l(p),p.forEach(b),l=E(y),r=w(y,"A",{href:!0,"data-svelte-h":!0}),G(r)!=="svelte-kp0f6p"&&(r.innerHTML=u),y.forEach(b),g.forEach(b),$.forEach(b),this.h()},h(){v(s,"class","icon-button vertical-center-children svelte-47vdz7"),v(r,"href",D.home),v(e,"class","left-nav-side vertical-center-children svelte-47vdz7"),v(n,"class","flex flex-wrap items-center justify-between mx-auto p-4"),v(t,"class","svelte-47vdz7"),F(t,"as-gap",a[0]),F(t,"nav-static",a[2].url.pathname===D.addRecipe()||a[2].url.pathname.substring(0,a[2].url.pathname.lastIndexOf("/")+1)+1===D.recipeItem(1))},m(h,$){U(h,t,$),C(t,n),C(n,e),C(e,s),c[o].m(s,null),C(e,l),C(e,r),f=!0},p(h,[$]){let g=o;o=_(h),o===g?c[o].p(h,$):(rt(),M(c[g],1,1,()=>{c[g]=null}),lt(),i=c[o],i?i.p(h,$):(i=c[o]=m[o](h),i.c()),I(i,1),i.m(s,null)),(!f||$&1)&&F(t,"as-gap",h[0]),(!f||$&4)&&F(t,"nav-static",h[2].url.pathname===D.addRecipe()||h[2].url.pathname.substring(0,h[2].url.pathname.lastIndexOf("/")+1)+1===D.recipeItem(1))},i(h){f||(I(i),f=!0)},o(h){M(i),f=!1},d(h){h&&b(t),c[o].d()}}}function Te(a,t,n){let e;ot(a,X,l=>n(2,e=l));let{asGap:s=!1}=t,o=D.home;X.subscribe(l=>{n(1,o=l.url.pathname)});function i(){history.length===0?tt(D.home,{replaceState:!0}):history.back()}return a.$$set=l=>{"asGap"in l&&n(0,s=l.asGap)},[s,o,e,i]}class wt extends K{constructor(t){super(),Y(this,t,Te,Se,z,{asGap:0})}}function Ie(a){let t,n='<p class="svelte-1qp1gq4">Please backup your data in case web browser decides to free up space and wipe your data.</p>',e,s,o,i="Export my data",l,r,u="Cancel",f,m;return{c(){t=k("div"),t.innerHTML=n,e=B(),s=k("div"),o=k("button"),o.textContent=i,l=B(),r=k("button"),r.textContent=u,this.h()},l(c){t=w(c,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-ydgwx9"&&(t.innerHTML=n),e=E(c),s=w(c,"DIV",{class:!0});var _=V(s);o=w(_,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(o)!=="svelte-1j1tdja"&&(o.textContent=i),l=E(_),r=w(_,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(r)!=="svelte-8x4blm"&&(r.textContent=u),_.forEach(b),this.h()},h(){v(t,"class","text-container svelte-1qp1gq4"),v(o,"class","enable svelte-1qp1gq4"),v(o,"type","button"),v(r,"class","cancel svelte-1qp1gq4"),v(r,"type","button"),v(s,"class","buttons-container svelte-1qp1gq4")},m(c,_){U(c,t,_),U(c,e,_),U(c,s,_),C(s,o),a[7](o),C(s,l),C(s,r),a[8](r),f||(m=[Z(o,"click",a[4]),Z(r,"click",a[9]),Z(r,"keydown",a[6])],f=!0)},p:j,d(c){c&&(b(t),b(e),b(s)),a[7](null),a[8](null),f=!1,Dt(m)}}}function De(a){let t,n,e,s;function o(r){a[11](r)}function i(r){a[12](r)}let l={onFocusReverse:a[10],onStateChange:a[5],title:"Backup your data",$$slots:{default:[Ie]},$$scope:{ctx:a}};return a[1]!==void 0&&(l.setFocus=a[1]),a[0]!==void 0&&(l.setState=a[0]),t=new Ut({props:l}),J.push(()=>st(t,"setFocus",o)),J.push(()=>st(t,"setState",i)),{c(){L(t.$$.fragment)},l(r){N(t.$$.fragment,r)},m(r,u){R(t,r,u),s=!0},p(r,[u]){const f={};u&4&&(f.onFocusReverse=r[10]),u&32781&&(f.$$scope={dirty:u,ctx:r}),!n&&u&2&&(n=!0,f.setFocus=r[1],nt(()=>n=!1)),!e&&u&1&&(e=!0,f.setState=r[0],nt(()=>e=!1)),t.$set(f)},i(r){s||(I(t.$$.fragment,r),s=!0)},o(r){M(t.$$.fragment,r),s=!1},d(r){A(t,r)}}}function Me(a,t,n){let e;ot(a,X,p=>n(13,e=p));let s,o,i,l;at(()=>s("open"));async function r(){await m(),s("closed"),Bt("Backup saved.");const p=e.url.pathname;tt(D.home).then(()=>tt(p))}function u(p){p==="open"&&Mt().then(()=>{l.focus()})}function f(p){p.key==="Tab"&&p.shiftKey===!1&&(p.preventDefault(),o())}async function m(){const p=document.createElement("a"),O=await Jt();p.href=URL.createObjectURL(O);const H=new Date,S=(H.getMonth()+1).toString().padStart(2,"0"),W=H.getDate().toString().padStart(2,"0");p.setAttribute("download",`PourOverPotato-${H.getFullYear()}_${S}_${W}.json`),document.body.appendChild(p),p.click(),document.body.removeChild(p)}function c(p){J[p?"unshift":"push"](()=>{l=p,n(3,l)})}function _(p){J[p?"unshift":"push"](()=>{i=p,n(2,i)})}const h=()=>s("closed"),$=()=>i.focus();function g(p){o=p,n(1,o)}function y(p){s=p,n(0,s)}return[s,o,i,l,r,u,f,c,_,h,$,g,y]}class Ue extends K{constructor(t){super(),Y(this,t,Me,De,z,{})}}function Be(a){let t,n=`<p class="svelte-1qp1gq4">Please try turning persistent storage ON in your browser, it will make your data relatively safe from a browser
      eviction.</p>`,e,s,o,i="Enable persistent storage",l,r,u="Cancel",f,m;return{c(){t=k("div"),t.innerHTML=n,e=B(),s=k("div"),o=k("button"),o.textContent=i,l=B(),r=k("button"),r.textContent=u,this.h()},l(c){t=w(c,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1ekvqww"&&(t.innerHTML=n),e=E(c),s=w(c,"DIV",{class:!0});var _=V(s);o=w(_,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(o)!=="svelte-19r4dnf"&&(o.textContent=i),l=E(_),r=w(_,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(r)!=="svelte-8x4blm"&&(r.textContent=u),_.forEach(b),this.h()},h(){v(t,"class","text-container svelte-1qp1gq4"),v(o,"class","enable svelte-1qp1gq4"),v(o,"type","button"),v(r,"class","cancel svelte-1qp1gq4"),v(r,"type","button"),v(s,"class","buttons-container svelte-1qp1gq4")},m(c,_){U(c,t,_),U(c,e,_),U(c,s,_),C(s,o),a[8](o),C(s,l),C(s,r),a[9](r),f||(m=[Z(o,"click",a[5]),Z(r,"click",a[10]),Z(r,"keydown",a[7])],f=!0)},p:j,d(c){c&&(b(t),b(e),b(s)),a[8](null),a[9](null),f=!1,Dt(m)}}}function Ct(a){let t,n;return t=new Ue({}),{c(){L(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,s){R(t,e,s),n=!0},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function Ee(a){let t,n,e,s,o,i;function l(m){a[12](m)}function r(m){a[13](m)}let u={onFocusReverse:a[11],onStateChange:a[6],title:"Persistent storage not enabled",$$slots:{default:[Be]},$$scope:{ctx:a}};a[2]!==void 0&&(u.setFocus=a[2]),a[1]!==void 0&&(u.setState=a[1]),t=new Ut({props:u}),J.push(()=>st(t,"setFocus",l)),J.push(()=>st(t,"setState",r));let f=a[0]&&Ct();return{c(){L(t.$$.fragment),s=B(),f&&f.c(),o=pt()},l(m){N(t.$$.fragment,m),s=E(m),f&&f.l(m),o=pt()},m(m,c){R(t,m,c),U(m,s,c),f&&f.m(m,c),U(m,o,c),i=!0},p(m,[c]){const _={};c&8&&(_.onFocusReverse=m[11]),c&32794&&(_.$$scope={dirty:c,ctx:m}),!n&&c&4&&(n=!0,_.setFocus=m[2],nt(()=>n=!1)),!e&&c&2&&(e=!0,_.setState=m[1],nt(()=>e=!1)),t.$set(_),m[0]?f?c&1&&I(f,1):(f=Ct(),f.c(),I(f,1),f.m(o.parentNode,o)):f&&(rt(),M(f,1,1,()=>{f=null}),lt())},i(m){i||(I(t.$$.fragment,m),I(f),i=!0)},o(m){M(t.$$.fragment,m),M(f),i=!1},d(m){m&&(b(s),b(o)),A(t,m),f&&f.d(m)}}}const it="persistentStorageCheckDate";function Oe(a,t,n){let e;ot(a,X,p=>n(14,e=p));let s=!1,o,i,l,r;at(async()=>{await navigator.storage.persisted()===!1&&(localStorage.getItem(it)===null||localStorage.getItem(it)!==new Date().toDateString())&&await Wt()&&(localStorage.setItem(it,new Date().toDateString()),o("open"))});async function u(){if(await navigator.storage.persist()==!1)alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems to be the only browser to allow enabling persistent storage always."),n(0,s=!0),o("closed");else{o("closed"),Bt("Persistent storage enabled.");const O=e.url.pathname;tt(D.home).then(()=>tt(O))}}function f(p){p==="open"&&Mt().then(()=>{r.focus()})}function m(p){p.key==="Tab"&&p.shiftKey===!1&&(p.preventDefault(),i())}function c(p){J[p?"unshift":"push"](()=>{r=p,n(4,r)})}function _(p){J[p?"unshift":"push"](()=>{l=p,n(3,l)})}const h=()=>o("closed"),$=()=>l.focus();function g(p){i=p,n(2,i)}function y(p){o=p,n(1,o)}return[s,o,i,l,r,u,f,m,c,_,h,$,g,y]}class qe extends K{constructor(t){super(),Y(this,t,Oe,Ee,z,{})}}function Ve(){for(let a=0;a<localStorage.length;a++){const t=localStorage.key(a);t!=null&&t.startsWith("sortOrder_")&&t!=="sortOrder_recipes"&&t!=="sortOrder_coffeeBeans"&&localStorage.removeItem(t),t!=null&&t.startsWith("form_addRecipe_")&&localStorage.removeItem(t)}}const St="vacuum_last_date";function Fe(a){at(()=>{t()});async function t(){const n=localStorage.getItem(St);if(n!==null){const e=new Date(n),o=new Date().getTime()-e.getTime();if(Math.floor(o/(1e3*3600*24))<1)return}console.log("Vacuum started."),Ve(),await Qt(),localStorage.setItem(St,new Date().toDateString()),console.log("Vacuum finished.")}return[]}class Le extends K{constructor(t){super(),Y(this,t,Fe,null,z,{})}}function Ne(a){let t,n,e,s,o,i,l,r,u,f,m,c,_,h,$,g,y,p,O,H,P,S,q;t=new wt({}),e=new wt({props:{asGap:!0}}),o=new _t({}),r=new _t({props:{asGap:!0}});const W=a[1].default,x=ut(W,a,a[0],null);return h=new kt({props:{asGap:!0}}),g=new kt({}),p=new me({}),H=new qe({}),S=new Le({}),{c(){L(t.$$.fragment),n=B(),L(e.$$.fragment),s=B(),L(o.$$.fragment),i=B(),l=k("div"),L(r.$$.fragment),u=B(),f=k("div"),x&&x.c(),m=B(),c=k("div"),_=B(),L(h.$$.fragment),$=B(),L(g.$$.fragment),y=B(),L(p.$$.fragment),O=B(),L(H.$$.fragment),P=B(),L(S.$$.fragment),this.h()},l(d){N(t.$$.fragment,d),n=E(d),N(e.$$.fragment,d),s=E(d),N(o.$$.fragment,d),i=E(d),l=w(d,"DIV",{id:!0,style:!0});var T=V(l);N(r.$$.fragment,T),u=E(T),f=w(T,"DIV",{class:!0});var Q=V(f);x&&x.l(Q),m=E(Q),c=w(Q,"DIV",{class:!0}),V(c).forEach(b),Q.forEach(b),T.forEach(b),_=E(d),N(h.$$.fragment,d),$=E(d),N(g.$$.fragment,d),y=E(d),N(p.$$.fragment,d),O=E(d),N(H.$$.fragment,d),P=E(d),N(S.$$.fragment,d),this.h()},h(){v(c,"class","bottom-gap svelte-1ruqigr"),v(f,"class","page-container svelte-1ruqigr"),v(l,"id","content"),ht(l,"display","flex"),ht(l,"flex-direction","row")},m(d,T){R(t,d,T),U(d,n,T),R(e,d,T),U(d,s,T),R(o,d,T),U(d,i,T),U(d,l,T),R(r,l,null),C(l,u),C(l,f),x&&x.m(f,null),C(f,m),C(f,c),U(d,_,T),R(h,d,T),U(d,$,T),R(g,d,T),U(d,y,T),R(p,d,T),U(d,O,T),R(H,d,T),U(d,P,T),R(S,d,T),q=!0},p(d,[T]){x&&x.p&&(!q||T&1)&&ct(x,W,d,d[0],q?dt(W,d[0],T,null):ft(d[0]),null)},i(d){q||(I(t.$$.fragment,d),I(e.$$.fragment,d),I(o.$$.fragment,d),I(r.$$.fragment,d),I(x,d),I(h.$$.fragment,d),I(g.$$.fragment,d),I(p.$$.fragment,d),I(H.$$.fragment,d),I(S.$$.fragment,d),q=!0)},o(d){M(t.$$.fragment,d),M(e.$$.fragment,d),M(o.$$.fragment,d),M(r.$$.fragment,d),M(x,d),M(h.$$.fragment,d),M(g.$$.fragment,d),M(p.$$.fragment,d),M(H.$$.fragment,d),M(S.$$.fragment,d),q=!1},d(d){d&&(b(n),b(s),b(i),b(l),b(_),b($),b(y),b(O),b(P)),A(t,d),A(e,d),A(o,d),A(r),x&&x.d(d),A(h,d),A(g,d),A(p,d),A(H,d),A(S,d)}}}function Re(a,t,n){let{$$slots:e={},$$scope:s}=t;return a.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,e]}class Ae extends K{constructor(t){super(),Y(this,t,Re,Ne,z,{})}}function Pe(a){let t;const n=a[0].default,e=ut(n,a,a[1],null);return{c(){e&&e.c()},l(s){e&&e.l(s)},m(s,o){e&&e.m(s,o),t=!0},p(s,o){e&&e.p&&(!t||o&2)&&ct(e,n,s,s[1],t?dt(n,s[1],o,null):ft(s[1]),null)},i(s){t||(I(e,s),t=!0)},o(s){M(e,s),t=!1},d(s){e&&e.d(s)}}}function je(a){let t,n;return t=new Ae({props:{$$slots:{default:[Pe]},$$scope:{ctx:a}}}),{c(){L(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,s){R(t,e,s),n=!0},p(e,[s]){const o={};s&2&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){n||(I(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){A(t,e)}}}function xe(a,t,n){let{$$slots:e={},$$scope:s}=t;return a.$$set=o=>{"$$scope"in o&&n(1,s=o.$$scope)},[e,s]}class en extends K{constructor(t){super(),Y(this,t,xe,je,z,{})}}export{en as component};
