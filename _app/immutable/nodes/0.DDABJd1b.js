import{n as F,l as Me,k as Ce,B as me,s as H,d as ae,u as re,g as le,e as oe,h as Ie,o as ie,j as Ue,C as Ee,c as ce,b as X,a as de,r as Be,t as Oe}from"../chunks/scheduler.Cw1-ZcKD.js";import{K as Ve,L as xe,M as qe,N as Le,S as K,i as z,e as k,s as E,t as Ne,c as w,a as x,y as j,f as B,b as Ae,d as v,z as _,g as U,h as y,A as J,j as Pe,q as T,o as D,k as N,m as A,n as P,r as G,u as ue,p as fe,O as Ge,P as Re,C as V,v as pe,E as ge}from"../chunks/index.DHsbL8_X.js";import{e as he,u as Fe,k as je,a as He}from"../chunks/manageCoffeeBeans.E__Z0lQp.js";import{b as Ke}from"../chunks/paths.DQ8thWxe.js";import{p as ee}from"../chunks/stores.CdzZWQNn.js";import{r as S}from"../chunks/routes.BpU10NWl.js";import{g as se}from"../chunks/entry.D9J3zD_q.js";import{M as ze,a as _e}from"../chunks/Modal.pZgItJ2F.js";import{a as Ye}from"../chunks/toastProvider.CA3wvqVI.js";import{b as Ze}from"../chunks/manageData.DdInJ4k0.js";function We(a,e,t,n){if(!e)return F;const s=a.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return F;const{delay:r=0,duration:c=300,easing:o=Me,start:l=Ve()+r,end:i=l+c,tick:h=F,css:$}=t(a,{from:e,to:s},n);let d=!0,b=!1,f;function g(){$&&(f=qe(a,0,1,c,r,o,$)),r||(b=!0)}function p(){$&&Le(a,f),d=!1}return xe(m=>{if(!b&&m>=l&&(b=!0),b&&m>=i&&(h(1,0),p()),!d)return!1;if(b){const M=m-l,q=0+1*o(M/c);h(q,1-q)}return!0}),g(),h(0,1),p}function Je(a){const e=getComputedStyle(a);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=a.getBoundingClientRect();a.style.position="absolute",a.style.width=t,a.style.height=n,Se(a,s)}}function Se(a,e){const t=a.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(a),s=n.transform==="none"?"":n.transform;a.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Te(a){const e=a-1;return e*e*e+1}function Qe(a,{from:e,to:t},n={}){const s=getComputedStyle(a),r=s.transform==="none"?"":s.transform,[c,o]=s.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*c/t.width-(t.left+c),i=e.top+e.height*o/t.height-(t.top+o),{delay:h=0,duration:$=b=>Math.sqrt(b)*120,easing:d=Te}=n;return{delay:h,duration:Ce($)?$(Math.sqrt(l*l+i*i)):$,easing:d,css:(b,f)=>{const g=f*l,p=f*i,m=b+f*e.width/t.width,M=b+f*e.height/t.height;return`transform: ${r} translate(${g}px, ${p}px) scale(${m}, ${M});`}}}function $e(a,{delay:e=0,duration:t=400,easing:n=Te,x:s=0,y:r=0,opacity:c=0}={}){const o=getComputedStyle(a),l=+o.opacity,i=o.transform==="none"?"":o.transform,h=l*(1-c),[$,d]=me(s),[b,f]=me(r);return{delay:e,duration:t,easing:n,css:(g,p)=>`
			transform: ${i} translate(${(1-g)*$}${d}, ${(1-g)*b}${f});
			opacity: ${l-h*p}`}}const Xe=a=>({}),ve=a=>({});function et(a){let e,t,n='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg> <span class="sr-only">Check icon</span>',s,r,c,o,l,i,h='<span class="sr-only">Close</span> <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',$,d,b;const f=a[2].button,g=ae(f,a,a[1],ve);return{c(){e=k("div"),t=k("div"),t.innerHTML=n,s=E(),r=k("div"),c=Ne(a[0]),o=E(),g&&g.c(),l=E(),i=k("button"),i.innerHTML=h,this.h()},l(p){e=w(p,"DIV",{class:!0,role:!0});var m=x(e);t=w(m,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1f6f1j5"&&(t.innerHTML=n),s=B(m),r=w(m,"DIV",{id:!0,class:!0});var M=x(r);c=Ae(M,a[0]),M.forEach(v),o=B(m),g&&g.l(m),l=B(m),i=w(m,"BUTTON",{class:!0,"data-dismiss-target":!0,type:!0,"aria-label":!0,"data-svelte-h":!0}),j(i)!=="svelte-hr0026"&&(i.innerHTML=h),m.forEach(v),this.h()},h(){_(t,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"),_(r,"id","toast-content"),_(r,"class","text-base font-normal svelte-1lholb5"),_(i,"class","my-close-button ms-auto -mx-1.5 -my-1.5 bg-gray-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-300 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700 svelte-1lholb5"),_(i,"data-dismiss-target","#toast-success"),_(i,"type","button"),_(i,"aria-label","Close"),_(e,"class","my-toast flex items-center max-w-xl p-4 bg-gray-100 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 svelte-1lholb5"),_(e,"role","alert")},m(p,m){U(p,e,m),y(e,t),y(e,s),y(e,r),y(r,c),y(e,o),g&&g.m(e,null),y(e,l),y(e,i),$=!0,d||(b=J(i,"click",a[3]),d=!0)},p(p,[m]){(!$||m&1)&&Pe(c,p[0]),g&&g.p&&(!$||m&2)&&re(g,f,p,p[1],$?oe(f,p[1],m,Xe):le(p[1]),ve)},i(p){$||(T(g,p),$=!0)},o(p){D(g,p),$=!1},d(p){p&&v(e),g&&g.d(p),d=!1,b()}}}function tt(a,e,t){let{$$slots:n={},$$scope:s}=e,{message:r}=e;function c(o){Ie.call(this,a,o)}return a.$$set=o=>{"message"in o&&t(0,r=o.message),"$$scope"in o&&t(1,s=o.$$scope)},[r,s,n,c]}class De extends K{constructor(e){super(),z(this,e,tt,et,H,{message:0})}}function nt(a){let e,t="Undo",n,s;return{c(){e=k("button"),e.textContent=t,this.h()},l(r){e=w(r,"BUTTON",{slot:!0,type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-j5y622"&&(e.textContent=t),this.h()},h(){_(e,"slot","button"),_(e,"type","button"),_(e,"aria-label","Close"),_(e,"class","svelte-76oeap")},m(r,c){U(r,e,c),n||(s=J(e,"click",function(){Ce(a[0])&&a[0].apply(this,arguments)}),n=!0)},p(r,c){a=r},d(r){r&&v(e),n=!1,s()}}}function st(a){let e,t;return e=new De({props:{message:a[1],$$slots:{button:[nt]},$$scope:{ctx:a}}}),e.$on("click",a[2]),{c(){N(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,s){P(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.message=n[1]),s&9&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function at(a,e,t){let{onClickUndo:n}=e,{message:s}=e;function r(c){Ie.call(this,a,c)}return a.$$set=c=>{"onClickUndo"in c&&t(0,n=c.onClickUndo),"message"in c&&t(1,s=c.message)},[n,s,r]}class rt extends K{constructor(e){super(),z(this,e,at,st,H,{onClickUndo:0,message:1})}}function be(a,e,t){const n=a.slice();return n[6]=e[t],n}function lt(a){let e,t;function n(){return a[4](a[6])}function s(){return a[5](a[6])}return e=new rt({props:{message:a[6].message,onClickUndo:n}}),e.$on("click",s),{c(){N(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,c){P(e,r,c),t=!0},p(r,c){a=r;const o={};c&1&&(o.message=a[6].message),c&1&&(o.onClickUndo=n),e.$set(o)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function ot(a){let e,t;function n(){return a[3](a[6])}return e=new De({props:{message:a[6].message}}),e.$on("click",n),{c(){N(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,r){P(e,s,r),t=!0},p(s,r){a=s;const c={};r&1&&(c.message=a[6].message),e.$set(c)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function ye(a,e){let t,n,s,r,c,o,l,i=F,h;const $=[ot,lt],d=[];function b(f,g){return f[6].onClickUndo===void 0?0:1}return n=b(e),s=d[n]=$[n](e),{key:a,first:null,c(){t=k("div"),s.c(),r=E(),this.h()},l(f){t=w(f,"DIV",{class:!0});var g=x(t);s.l(g),r=B(g),g.forEach(v),this.h()},h(){_(t,"class","toast-wrapper"),this.first=t},m(f,g){U(f,t,g),d[n].m(t,null),y(t,r),h=!0},p(f,g){e=f;let p=n;n=b(e),n===p?d[n].p(e,g):(ue(),D(d[p],1,1,()=>{d[p]=null}),fe(),s=d[n],s?s.p(e,g):(s=d[n]=$[n](e),s.c()),T(s,1),s.m(t,r))},r(){l=t.getBoundingClientRect()},f(){Je(t),i(),Se(t,l)},a(){i(),i=We(t,l,Qe,{})},i(f){h||(T(s),f&&Ue(()=>{h&&(o&&o.end(1),c=Ge(t,$e,{y:100}),c.start())}),h=!0)},o(f){D(s),c&&c.invalidate(),f&&(o=Re(t,$e,{x:100})),h=!1},d(f){f&&v(t),d[n].d(),f&&o&&o.end()}}}function it(a){let e,t=[],n=new Map,s,r=he(a[0]);const c=o=>o[6].timestamp;for(let o=0;o<r.length;o+=1){let l=be(a,r,o),i=c(l);n.set(i,t[o]=ye(i,l))}return{c(){e=k("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=w(o,"DIV",{id:!0,class:!0});var l=x(e);for(let i=0;i<t.length;i+=1)t[i].l(l);l.forEach(v),this.h()},h(){_(e,"id","toast-provider"),_(e,"class","svelte-18vg0cs")},m(o,l){U(o,e,l);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);s=!0},p(o,[l]){if(l&7){r=he(o[0]),ue();for(let i=0;i<t.length;i+=1)t[i].r();t=Fe(t,l,c,1,o,r,n,e,je,ye,null,be);for(let i=0;i<t.length;i+=1)t[i].a();fe()}},i(o){if(!s){for(let l=0;l<r.length;l+=1)T(t[l]);s=!0}},o(o){for(let l=0;l<t.length;l+=1)D(t[l]);s=!1},d(o){o&&v(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function ct(a,e,t){let n=[];ie(()=>{document.addEventListener("addToast",i=>{const h=Date.now(),$={message:i.detail.message,timeout:i.detail.timeout,timestamp:h,onClickUndo:i.detail.onClickUndo,onUndoIgnored:i.detail.onUndoIgnored};n.push($),t(0,n),setTimeout(()=>{r($)},$.timeout)})});function s(i){i.onUndoIgnored&&(i.onUndoIgnored=void 0),r(i),i.onClickUndo&&i.onClickUndo()}function r(i){i.onUndoIgnored&&i.onUndoIgnored();const h=n.findIndex($=>$.timestamp===i.timestamp);h!==-1&&(n.splice(h,1),t(0,n))}return[n,s,r,i=>r(i),i=>s(i),i=>r(i)]}class ut extends K{constructor(e){super(),z(this,e,ct,it,H,{})}}const ft=""+new URL("../assets/coffee-beans-icon.B8jMyzaG.png",import.meta.url).href;function mt(a){let e,t="dashboard";return{c(){e=k("span"),e.textContent=t,this.h()},l(n){e=w(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-uhkmif"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons")},m(n,s){U(n,e,s)},p:F,i:F,o:F,d(n){n&&v(e)}}}class dt extends K{constructor(e){super(),z(this,e,null,mt,H,{})}}function pt(a){let e,t,n,s,r='<span class="material-icons recipes-icon svelte-d12lmw" style="padding: 2px 0;">content_copy</span> <span class="svelte-d12lmw">Recipes</span>',c,o,l,i,h,$,d,b="Coffee beans",f,g,p,m,M,q,Y="Other",L;return m=new dt({}),{c(){e=k("div"),t=k("div"),n=k("a"),s=k("button"),s.innerHTML=r,c=E(),o=k("a"),l=k("button"),i=k("img"),$=E(),d=k("span"),d.textContent=b,f=E(),g=k("a"),p=k("button"),N(m.$$.fragment),M=E(),q=k("span"),q.textContent=Y,this.h()},l(I){e=w(I,"DIV",{class:!0});var O=x(e);t=w(O,"DIV",{class:!0});var Z=x(t);n=w(Z,"A",{href:!0});var R=x(n);s=w(R,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1olslb5"&&(s.innerHTML=r),R.forEach(v),c=B(Z),o=w(Z,"A",{href:!0});var u=x(o);l=w(u,"BUTTON",{type:!0,class:!0});var C=x(l);i=w(C,"IMG",{src:!0,alt:!0,class:!0}),$=B(C),d=w(C,"SPAN",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-yc6fjb"&&(d.textContent=b),C.forEach(v),u.forEach(v),f=B(Z),g=w(Z,"A",{href:!0});var W=x(g);p=w(W,"BUTTON",{type:!0,class:!0});var Q=x(p);A(m.$$.fragment,Q),M=B(Q),q=w(Q,"SPAN",{class:!0,"data-svelte-h":!0}),j(q)!=="svelte-700qdn"&&(q.textContent=Y),Q.forEach(v),W.forEach(v),Z.forEach(v),O.forEach(v),this.h()},h(){_(s,"type","button"),_(s,"class","svelte-d12lmw"),V(s,"active",a[2]===S.recipes),_(n,"href",S.recipes),Ee(i.src,h=ft)||_(i,"src",h),_(i,"alt","A coffee beans icon"),_(i,"class","svelte-d12lmw"),V(i,"active-img",a[2]===S.home),_(d,"class","svelte-d12lmw"),V(d,"active",a[2]===S.home),_(l,"type","button"),_(l,"class","svelte-d12lmw"),V(l,"active",a[2]===S.home),_(o,"href",S.home),_(q,"class","svelte-d12lmw"),V(q,"active",a[2]===S.other),_(p,"type","button"),_(p,"class","svelte-d12lmw"),V(p,"active",a[2]===S.other),_(g,"href",S.other),_(t,"class","grid h-full max-w-lg grid-cols-3 mx-auto font-medium"),_(e,"class","bottom-nav svelte-d12lmw"),V(e,"as-gap",a[0]),V(e,"bottom-nav-static",a[1].url.pathname===S.addRecipe()||a[1].url.pathname.substring(0,a[1].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},m(I,O){U(I,e,O),y(e,t),y(t,n),y(n,s),y(t,c),y(t,o),y(o,l),y(l,i),y(l,$),y(l,d),y(t,f),y(t,g),y(g,p),P(m,p,null),y(p,M),y(p,q),L=!0},p(I,[O]){(!L||O&4)&&V(s,"active",I[2]===S.recipes),(!L||O&4)&&V(i,"active-img",I[2]===S.home),(!L||O&4)&&V(d,"active",I[2]===S.home),(!L||O&4)&&V(l,"active",I[2]===S.home),(!L||O&4)&&V(q,"active",I[2]===S.other),(!L||O&4)&&V(p,"active",I[2]===S.other),(!L||O&1)&&V(e,"as-gap",I[0]),(!L||O&2)&&V(e,"bottom-nav-static",I[1].url.pathname===S.addRecipe()||I[1].url.pathname.substring(0,I[1].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},i(I){L||(T(m.$$.fragment,I),L=!0)},o(I){D(m.$$.fragment,I),L=!1},d(I){I&&v(e),G(m)}}}function gt(a,e,t){let n,s;ce(a,ee,c=>t(1,s=c));let{asGap:r=!1}=e;return a.$$set=c=>{"asGap"in c&&t(0,r=c.asGap)},a.$$.update=()=>{a.$$.dirty&2&&t(2,n=Ke+s.route.id)},[r,s,n]}class ke extends K{constructor(e){super(),z(this,e,gt,pt,H,{asGap:0})}}function ht(a){let e,t="arrow_back";return{c(){e=k("span"),e.textContent=t,this.h()},l(n){e=w(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-12vjxfs"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons md-24")},m(n,s){U(n,e,s)},p:F,i:F,o:F,d(n){n&&v(e)}}}class _t extends K{constructor(e){super(),z(this,e,null,ht,H,{})}}function $t(a){let e,t="favorite_border";return{c(){e=k("span"),e.textContent=t,this.h()},l(n){e=w(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-teydos"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons md-24 svelte-1c6h8fp")},m(n,s){U(n,e,s)},p:F,i:F,o:F,d(n){n&&v(e)}}}class vt extends K{constructor(e){super(),z(this,e,null,$t,H,{})}}function bt(a){let e,t;return e=new vt({}),{c(){N(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,s){P(e,n,s),t=!0},p:F,i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function yt(a){let e,t,n,s,r;return t=new _t({}),{c(){e=k("button"),N(t.$$.fragment),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var o=x(e);A(t.$$.fragment,o),o.forEach(v),this.h()},h(){_(e,"class","vertical-center-children svelte-f8vatc")},m(c,o){U(c,e,o),P(t,e,null),n=!0,s||(r=J(e,"click",a[3]),s=!0)},p:F,i(c){n||(T(t.$$.fragment,c),n=!0)},o(c){D(t.$$.fragment,c),n=!1},d(c){c&&v(e),G(t),s=!1,r()}}}function kt(a){let e,t,n,s,r,c,o,l,i='<div class="logo-container svelte-f8vatc"><span class="text-2xl font-semibold whitespace-nowrap dark:text-white svelte-f8vatc">PourOverPotato</span> <p class="sublogo svelte-f8vatc">Save your best recipes for later use</p></div>',h;const $=[yt,bt],d=[];function b(f,g){return f[1]!==S.home?0:1}return r=b(a),c=d[r]=$[r](a),{c(){e=k("nav"),t=k("div"),n=k("div"),s=k("div"),c.c(),o=E(),l=k("a"),l.innerHTML=i,this.h()},l(f){e=w(f,"NAV",{class:!0});var g=x(e);t=w(g,"DIV",{class:!0});var p=x(t);n=w(p,"DIV",{class:!0});var m=x(n);s=w(m,"DIV",{class:!0});var M=x(s);c.l(M),M.forEach(v),o=B(m),l=w(m,"A",{href:!0,"data-svelte-h":!0}),j(l)!=="svelte-1wmgnn8"&&(l.innerHTML=i),m.forEach(v),p.forEach(v),g.forEach(v),this.h()},h(){_(s,"class","icon-button vertical-center-children svelte-f8vatc"),_(l,"href",S.home),_(n,"class","left-nav-side vertical-center-children svelte-f8vatc"),_(t,"class","flex flex-wrap items-center justify-between mx-auto p-4"),_(e,"class","svelte-f8vatc"),V(e,"as-gap",a[0]),V(e,"nav-static",a[2].url.pathname===S.addRecipe()||a[2].url.pathname.substring(0,a[2].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},m(f,g){U(f,e,g),y(e,t),y(t,n),y(n,s),d[r].m(s,null),y(n,o),y(n,l),h=!0},p(f,[g]){let p=r;r=b(f),r===p?d[r].p(f,g):(ue(),D(d[p],1,1,()=>{d[p]=null}),fe(),c=d[r],c?c.p(f,g):(c=d[r]=$[r](f),c.c()),T(c,1),c.m(s,null)),(!h||g&1)&&V(e,"as-gap",f[0]),(!h||g&4)&&V(e,"nav-static",f[2].url.pathname===S.addRecipe()||f[2].url.pathname.substring(0,f[2].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},i(f){h||(T(c),h=!0)},o(f){D(c),h=!1},d(f){f&&v(e),d[r].d()}}}function wt(a,e,t){let n;ce(a,ee,o=>t(2,n=o));let{asGap:s=!1}=e,r=S.home;ee.subscribe(o=>{t(1,r=o.url.pathname)});function c(){history.length===0?se(S.home,{replaceState:!0}):history.back()}return a.$$set=o=>{"asGap"in o&&t(0,s=o.asGap)},[s,r,n,c]}class we extends K{constructor(e){super(),z(this,e,wt,kt,H,{asGap:0})}}function Ct(a){let e,t=`<p class="svelte-1qp1gq4">Please try turning persistent storage ON in your browser, it will make your data relatively safe from a browser
      eviction.</p>`,n,s,r,c="Enable persistent storage",o,l,i="Cancel",h,$;return{c(){e=k("div"),e.innerHTML=t,n=E(),s=k("div"),r=k("button"),r.textContent=c,o=E(),l=k("button"),l.textContent=i,this.h()},l(d){e=w(d,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ekvqww"&&(e.innerHTML=t),n=B(d),s=w(d,"DIV",{class:!0});var b=x(s);r=w(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(r)!=="svelte-19r4dnf"&&(r.textContent=c),o=B(b),l=w(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(l)!=="svelte-8x4blm"&&(l.textContent=i),b.forEach(v),this.h()},h(){_(e,"class","text-container svelte-1qp1gq4"),_(r,"class","enable svelte-1qp1gq4"),_(r,"type","button"),_(l,"class","cancel svelte-1qp1gq4"),_(l,"type","button"),_(s,"class","buttons-container svelte-1qp1gq4")},m(d,b){U(d,e,b),U(d,n,b),U(d,s,b),y(s,r),a[7](r),y(s,o),y(s,l),a[8](l),h||($=[J(r,"click",a[4]),J(l,"click",a[9]),J(l,"keydown",a[6])],h=!0)},p:F,d(d){d&&(v(e),v(n),v(s)),a[7](null),a[8](null),h=!1,Be($)}}}function It(a){let e,t,n,s;function r(l){a[11](l)}function c(l){a[12](l)}let o={onFocusReverse:a[10],onStateChange:a[5],title:"Persistent storage not enabled",$$slots:{default:[Ct]},$$scope:{ctx:a}};return a[1]!==void 0&&(o.setFocus=a[1]),a[0]!==void 0&&(o.setState=a[0]),e=new ze({props:o}),X.push(()=>pe(e,"setFocus",r)),X.push(()=>pe(e,"setState",c)),{c(){N(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,i){P(e,l,i),s=!0},p(l,[i]){const h={};i&4&&(h.onFocusReverse=l[10]),i&16397&&(h.$$scope={dirty:i,ctx:l}),!t&&i&2&&(t=!0,h.setFocus=l[1],de(()=>t=!1)),!n&&i&1&&(n=!0,h.setState=l[0],de(()=>n=!1)),e.$set(h)},i(l){s||(T(e.$$.fragment,l),s=!0)},o(l){D(e.$$.fragment,l),s=!1},d(l){G(e,l)}}}const te="persistentStorageCheckDate";function St(a,e,t){let n;ce(a,ee,m=>t(13,n=m));let s,r,c,o;ie(async()=>{await navigator.storage.persisted()===!1&&(localStorage.getItem(te)===null||localStorage.getItem(te)!==new Date().toDateString())&&await He()&&(localStorage.setItem(te,new Date().toDateString()),s("open"))});async function l(){if(await navigator.storage.persist()==!1)alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems to be the only browser to allow enabling persistent storage always.");else{s("closed"),Ye("Persistent storage enabled.");const M=n.url.pathname;se(S.home).then(()=>se(M))}}function i(m){m==="open"&&Oe().then(()=>{o.focus()})}function h(m){m.key==="Tab"&&m.shiftKey===!1&&(m.preventDefault(),r())}function $(m){X[m?"unshift":"push"](()=>{o=m,t(3,o)})}function d(m){X[m?"unshift":"push"](()=>{c=m,t(2,c)})}const b=()=>s("closed"),f=()=>c.focus();function g(m){r=m,t(1,r)}function p(m){s=m,t(0,s)}return[s,r,c,o,l,i,h,$,d,b,f,g,p]}class Tt extends K{constructor(e){super(),z(this,e,St,It,H,{})}}function Dt(){for(let a=0;a<localStorage.length;a++){const e=localStorage.key(a);e!=null&&e.startsWith("sortOrder_")&&e!=="sortOrder_recipes"&&e!=="sortOrder_coffeeBeans"&&localStorage.removeItem(e)}}const ne="vacuum_last_date";function Mt(a){ie(()=>{e()});async function e(){const t=localStorage.getItem(ne);if(t===null){localStorage.setItem(ne,new Date().toDateString());return}const n=new Date(t),r=new Date().getTime()-n.getTime();Math.floor(r/(1e3*3600*24))<1||(console.log("Vacuum started."),Dt(),await Ze(),localStorage.setItem(ne,new Date().toDateString()),console.log("Vacuum finished."))}return[]}class Ut extends K{constructor(e){super(),z(this,e,Mt,null,H,{})}}function Et(a){let e,t,n,s,r,c,o,l,i,h,$,d,b,f,g,p,m,M,q,Y,L,I,O;e=new we({}),n=new we({props:{asGap:!0}}),r=new _e({}),l=new _e({props:{asGap:!0}});const Z=a[1].default,R=ae(Z,a,a[0],null);return f=new ke({props:{asGap:!0}}),p=new ke({}),M=new ut({}),Y=new Tt({}),I=new Ut({}),{c(){N(e.$$.fragment),t=E(),N(n.$$.fragment),s=E(),N(r.$$.fragment),c=E(),o=k("div"),N(l.$$.fragment),i=E(),h=k("div"),R&&R.c(),$=E(),d=k("div"),b=E(),N(f.$$.fragment),g=E(),N(p.$$.fragment),m=E(),N(M.$$.fragment),q=E(),N(Y.$$.fragment),L=E(),N(I.$$.fragment),this.h()},l(u){A(e.$$.fragment,u),t=B(u),A(n.$$.fragment,u),s=B(u),A(r.$$.fragment,u),c=B(u),o=w(u,"DIV",{id:!0,style:!0});var C=x(o);A(l.$$.fragment,C),i=B(C),h=w(C,"DIV",{class:!0});var W=x(h);R&&R.l(W),$=B(W),d=w(W,"DIV",{class:!0}),x(d).forEach(v),W.forEach(v),C.forEach(v),b=B(u),A(f.$$.fragment,u),g=B(u),A(p.$$.fragment,u),m=B(u),A(M.$$.fragment,u),q=B(u),A(Y.$$.fragment,u),L=B(u),A(I.$$.fragment,u),this.h()},h(){_(d,"class","bottom-gap svelte-1ruqigr"),_(h,"class","page-container svelte-1ruqigr"),_(o,"id","content"),ge(o,"display","flex"),ge(o,"flex-direction","row")},m(u,C){P(e,u,C),U(u,t,C),P(n,u,C),U(u,s,C),P(r,u,C),U(u,c,C),U(u,o,C),P(l,o,null),y(o,i),y(o,h),R&&R.m(h,null),y(h,$),y(h,d),U(u,b,C),P(f,u,C),U(u,g,C),P(p,u,C),U(u,m,C),P(M,u,C),U(u,q,C),P(Y,u,C),U(u,L,C),P(I,u,C),O=!0},p(u,[C]){R&&R.p&&(!O||C&1)&&re(R,Z,u,u[0],O?oe(Z,u[0],C,null):le(u[0]),null)},i(u){O||(T(e.$$.fragment,u),T(n.$$.fragment,u),T(r.$$.fragment,u),T(l.$$.fragment,u),T(R,u),T(f.$$.fragment,u),T(p.$$.fragment,u),T(M.$$.fragment,u),T(Y.$$.fragment,u),T(I.$$.fragment,u),O=!0)},o(u){D(e.$$.fragment,u),D(n.$$.fragment,u),D(r.$$.fragment,u),D(l.$$.fragment,u),D(R,u),D(f.$$.fragment,u),D(p.$$.fragment,u),D(M.$$.fragment,u),D(Y.$$.fragment,u),D(I.$$.fragment,u),O=!1},d(u){u&&(v(t),v(s),v(c),v(o),v(b),v(g),v(m),v(q),v(L)),G(e,u),G(n,u),G(r,u),G(l),R&&R.d(u),G(f,u),G(p,u),G(M,u),G(Y,u),G(I,u)}}}function Bt(a,e,t){let{$$slots:n={},$$scope:s}=e;return a.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,n]}class Ot extends K{constructor(e){super(),z(this,e,Bt,Et,H,{})}}function Vt(a){let e;const t=a[0].default,n=ae(t,a,a[1],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,r){n&&n.m(s,r),e=!0},p(s,r){n&&n.p&&(!e||r&2)&&re(n,t,s,s[1],e?oe(t,s[1],r,null):le(s[1]),null)},i(s){e||(T(n,s),e=!0)},o(s){D(n,s),e=!1},d(s){n&&n.d(s)}}}function xt(a){let e,t;return e=new Ot({props:{$$slots:{default:[Vt]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,s){P(e,n,s),t=!0},p(n,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function qt(a,e,t){let{$$slots:n={},$$scope:s}=e;return a.$$set=r=>{"$$scope"in r&&t(1,s=r.$$scope)},[n,s]}class zt extends K{constructor(e){super(),z(this,e,qt,xt,H,{})}}export{zt as component};
