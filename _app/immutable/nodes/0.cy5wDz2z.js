import{n as F,l as Me,k as Ce,B as me,s as H,d as ae,u as re,g as le,e as oe,h as Ie,o as ie,j as Ue,C as Ee,c as ue,b as X,a as de,r as Be,t as Oe}from"../chunks/scheduler.Cw1-ZcKD.js";import{K as Ve,L as qe,M as Le,N as xe,S as z,i as K,e as w,s as E,t as Ne,c as k,a as q,y as j,f as B,b as Ae,d as v,z as _,g as U,h as y,A as J,j as Pe,q as T,o as D,k as N,m as A,n as P,r as G,u as ce,p as fe,O as Ge,P as Re,C as V,v as pe,E as he}from"../chunks/index.DHsbL8_X.js";import{e as ge,u as Fe,l as je,a as He}from"../chunks/manageCoffeeBeans.C7RhAe7S.js";import{b as ze}from"../chunks/paths.DEBXOIDL.js";import{p as ee}from"../chunks/stores.Bv37EBow.js";import{r as S}from"../chunks/routes.DSKwA-rI.js";import{g as ne}from"../chunks/entry.CkYdZ-DM.js";import{M as Ke,a as _e}from"../chunks/Modal.CK9wnrsL.js";import{a as Ye}from"../chunks/core.mqgva03L.js";import{b as Ze}from"../chunks/manageData.vzHZe9cS.js";function We(a,e,t,s){if(!e)return F;const n=a.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return F;const{delay:r=0,duration:u=300,easing:o=Me,start:l=Ve()+r,end:i=l+u,tick:g=F,css:$}=t(a,{from:e,to:n},s);let d=!0,b=!1,f;function h(){$&&(f=Le(a,0,1,u,r,o,$)),r||(b=!0)}function p(){$&&xe(a,f),d=!1}return qe(m=>{if(!b&&m>=l&&(b=!0),b&&m>=i&&(g(1,0),p()),!d)return!1;if(b){const M=m-l,L=0+1*o(M/u);g(L,1-L)}return!0}),h(),g(0,1),p}function Je(a){const e=getComputedStyle(a);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,n=a.getBoundingClientRect();a.style.position="absolute",a.style.width=t,a.style.height=s,Se(a,n)}}function Se(a,e){const t=a.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(a),n=s.transform==="none"?"":s.transform;a.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Te(a){const e=a-1;return e*e*e+1}function Qe(a,{from:e,to:t},s={}){const n=getComputedStyle(a),r=n.transform==="none"?"":n.transform,[u,o]=n.transformOrigin.split(" ").map(parseFloat),l=e.left+e.width*u/t.width-(t.left+u),i=e.top+e.height*o/t.height-(t.top+o),{delay:g=0,duration:$=b=>Math.sqrt(b)*120,easing:d=Te}=s;return{delay:g,duration:Ce($)?$(Math.sqrt(l*l+i*i)):$,easing:d,css:(b,f)=>{const h=f*l,p=f*i,m=b+f*e.width/t.width,M=b+f*e.height/t.height;return`transform: ${r} translate(${h}px, ${p}px) scale(${m}, ${M});`}}}function $e(a,{delay:e=0,duration:t=400,easing:s=Te,x:n=0,y:r=0,opacity:u=0}={}){const o=getComputedStyle(a),l=+o.opacity,i=o.transform==="none"?"":o.transform,g=l*(1-u),[$,d]=me(n),[b,f]=me(r);return{delay:e,duration:t,easing:s,css:(h,p)=>`
			transform: ${i} translate(${(1-h)*$}${d}, ${(1-h)*b}${f});
			opacity: ${l-g*p}`}}const Xe=a=>({}),ve=a=>({});function et(a){let e,t,s='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg> <span class="sr-only">Check icon</span>',n,r,u,o,l,i,g='<span class="sr-only">Close</span> <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',$,d,b;const f=a[2].button,h=ae(f,a,a[1],ve);return{c(){e=w("div"),t=w("div"),t.innerHTML=s,n=E(),r=w("div"),u=Ne(a[0]),o=E(),h&&h.c(),l=E(),i=w("button"),i.innerHTML=g,this.h()},l(p){e=k(p,"DIV",{class:!0,role:!0});var m=q(e);t=k(m,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-174t6ab"&&(t.innerHTML=s),n=B(m),r=k(m,"DIV",{id:!0,class:!0});var M=q(r);u=Ae(M,a[0]),M.forEach(v),o=B(m),h&&h.l(m),l=B(m),i=k(m,"BUTTON",{class:!0,"data-dismiss-target":!0,type:!0,"aria-label":!0,"data-svelte-h":!0}),j(i)!=="svelte-1sgij25"&&(i.innerHTML=g),m.forEach(v),this.h()},h(){_(t,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg"),_(r,"id","toast-content"),_(r,"class","text-base font-normal svelte-1lholb5"),_(i,"class","my-close-button ms-auto -mx-1.5 -my-1.5 bg-gray-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-300 inline-flex items-center justify-center h-8 w-8 svelte-1lholb5"),_(i,"data-dismiss-target","#toast-success"),_(i,"type","button"),_(i,"aria-label","Close"),_(e,"class","my-toast flex items-center max-w-xl p-4 bg-gray-100 rounded-lg shadow svelte-1lholb5"),_(e,"role","alert")},m(p,m){U(p,e,m),y(e,t),y(e,n),y(e,r),y(r,u),y(e,o),h&&h.m(e,null),y(e,l),y(e,i),$=!0,d||(b=J(i,"click",a[3]),d=!0)},p(p,[m]){(!$||m&1)&&Pe(u,p[0]),h&&h.p&&(!$||m&2)&&re(h,f,p,p[1],$?oe(f,p[1],m,Xe):le(p[1]),ve)},i(p){$||(T(h,p),$=!0)},o(p){D(h,p),$=!1},d(p){p&&v(e),h&&h.d(p),d=!1,b()}}}function tt(a,e,t){let{$$slots:s={},$$scope:n}=e,{message:r}=e;function u(o){Ie.call(this,a,o)}return a.$$set=o=>{"message"in o&&t(0,r=o.message),"$$scope"in o&&t(1,n=o.$$scope)},[r,n,s,u]}class De extends z{constructor(e){super(),K(this,e,tt,et,H,{message:0})}}function st(a){let e,t="Undo",s,n;return{c(){e=w("button"),e.textContent=t,this.h()},l(r){e=k(r,"BUTTON",{slot:!0,type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-j5y622"&&(e.textContent=t),this.h()},h(){_(e,"slot","button"),_(e,"type","button"),_(e,"aria-label","Close"),_(e,"class","svelte-1j0z2np")},m(r,u){U(r,e,u),s||(n=J(e,"click",function(){Ce(a[0])&&a[0].apply(this,arguments)}),s=!0)},p(r,u){a=r},d(r){r&&v(e),s=!1,n()}}}function nt(a){let e,t;return e=new De({props:{message:a[1],$$slots:{button:[st]},$$scope:{ctx:a}}}),e.$on("click",a[2]),{c(){N(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,n){P(e,s,n),t=!0},p(s,[n]){const r={};n&2&&(r.message=s[1]),n&9&&(r.$$scope={dirty:n,ctx:s}),e.$set(r)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function at(a,e,t){let{onClickUndo:s}=e,{message:n}=e;function r(u){Ie.call(this,a,u)}return a.$$set=u=>{"onClickUndo"in u&&t(0,s=u.onClickUndo),"message"in u&&t(1,n=u.message)},[s,n,r]}class rt extends z{constructor(e){super(),K(this,e,at,nt,H,{onClickUndo:0,message:1})}}function be(a,e,t){const s=a.slice();return s[6]=e[t],s}function lt(a){let e,t;function s(){return a[4](a[6])}function n(){return a[5](a[6])}return e=new rt({props:{message:a[6].message,onClickUndo:s}}),e.$on("click",n),{c(){N(e.$$.fragment)},l(r){A(e.$$.fragment,r)},m(r,u){P(e,r,u),t=!0},p(r,u){a=r;const o={};u&1&&(o.message=a[6].message),u&1&&(o.onClickUndo=s),e.$set(o)},i(r){t||(T(e.$$.fragment,r),t=!0)},o(r){D(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function ot(a){let e,t;function s(){return a[3](a[6])}return e=new De({props:{message:a[6].message}}),e.$on("click",s),{c(){N(e.$$.fragment)},l(n){A(e.$$.fragment,n)},m(n,r){P(e,n,r),t=!0},p(n,r){a=n;const u={};r&1&&(u.message=a[6].message),e.$set(u)},i(n){t||(T(e.$$.fragment,n),t=!0)},o(n){D(e.$$.fragment,n),t=!1},d(n){G(e,n)}}}function ye(a,e){let t,s,n,r,u,o,l,i=F,g;const $=[ot,lt],d=[];function b(f,h){return f[6].onClickUndo===void 0?0:1}return s=b(e),n=d[s]=$[s](e),{key:a,first:null,c(){t=w("div"),n.c(),r=E(),this.h()},l(f){t=k(f,"DIV",{class:!0});var h=q(t);n.l(h),r=B(h),h.forEach(v),this.h()},h(){_(t,"class","toast-wrapper"),this.first=t},m(f,h){U(f,t,h),d[s].m(t,null),y(t,r),g=!0},p(f,h){e=f;let p=s;s=b(e),s===p?d[s].p(e,h):(ce(),D(d[p],1,1,()=>{d[p]=null}),fe(),n=d[s],n?n.p(e,h):(n=d[s]=$[s](e),n.c()),T(n,1),n.m(t,r))},r(){l=t.getBoundingClientRect()},f(){Je(t),i(),Se(t,l)},a(){i(),i=We(t,l,Qe,{})},i(f){g||(T(n),f&&Ue(()=>{g&&(o&&o.end(1),u=Ge(t,$e,{y:100}),u.start())}),g=!0)},o(f){D(n),u&&u.invalidate(),f&&(o=Re(t,$e,{x:100})),g=!1},d(f){f&&v(t),d[s].d(),f&&o&&o.end()}}}function it(a){let e,t=[],s=new Map,n,r=ge(a[0]);const u=o=>o[6].timestamp;for(let o=0;o<r.length;o+=1){let l=be(a,r,o),i=u(l);s.set(i,t[o]=ye(i,l))}return{c(){e=w("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=k(o,"DIV",{id:!0,class:!0});var l=q(e);for(let i=0;i<t.length;i+=1)t[i].l(l);l.forEach(v),this.h()},h(){_(e,"id","toast-provider"),_(e,"class","svelte-18vg0cs")},m(o,l){U(o,e,l);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null);n=!0},p(o,[l]){if(l&7){r=ge(o[0]),ce();for(let i=0;i<t.length;i+=1)t[i].r();t=Fe(t,l,u,1,o,r,s,e,je,ye,null,be);for(let i=0;i<t.length;i+=1)t[i].a();fe()}},i(o){if(!n){for(let l=0;l<r.length;l+=1)T(t[l]);n=!0}},o(o){for(let l=0;l<t.length;l+=1)D(t[l]);n=!1},d(o){o&&v(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function ut(a,e,t){let s=[];ie(()=>{document.addEventListener("addToast",i=>{const g=Date.now(),$={message:i.detail.message,timeout:i.detail.timeout,timestamp:g,onClickUndo:i.detail.onClickUndo,onUndoIgnored:i.detail.onUndoIgnored};s.push($),t(0,s),setTimeout(()=>{r($)},$.timeout)})});function n(i){i.onUndoIgnored&&(i.onUndoIgnored=void 0),r(i),i.onClickUndo&&i.onClickUndo()}function r(i){i.onUndoIgnored&&i.onUndoIgnored();const g=s.findIndex($=>$.timestamp===i.timestamp);g!==-1&&(s.splice(g,1),t(0,s))}return[s,n,r,i=>r(i),i=>n(i),i=>r(i)]}class ct extends z{constructor(e){super(),K(this,e,ut,it,H,{})}}const ft=""+new URL("../assets/coffee-beans-icon.B8jMyzaG.png",import.meta.url).href;function mt(a){let e,t="dashboard";return{c(){e=w("span"),e.textContent=t,this.h()},l(s){e=k(s,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-uhkmif"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons")},m(s,n){U(s,e,n)},p:F,i:F,o:F,d(s){s&&v(e)}}}class dt extends z{constructor(e){super(),K(this,e,null,mt,H,{})}}function pt(a){let e,t,s,n,r='<span class="material-icons recipes-icon svelte-suyw3n" style="padding: 2px 0;">content_copy</span> <span class="svelte-suyw3n">Recipes</span>',u,o,l,i,g,$,d,b="Coffee beans",f,h,p,m,M,L,Y="Other",x;return m=new dt({}),{c(){e=w("div"),t=w("div"),s=w("a"),n=w("button"),n.innerHTML=r,u=E(),o=w("a"),l=w("button"),i=w("img"),$=E(),d=w("span"),d.textContent=b,f=E(),h=w("a"),p=w("button"),N(m.$$.fragment),M=E(),L=w("span"),L.textContent=Y,this.h()},l(I){e=k(I,"DIV",{class:!0});var O=q(e);t=k(O,"DIV",{class:!0});var Z=q(t);s=k(Z,"A",{href:!0});var R=q(s);n=k(R,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1olslb5"&&(n.innerHTML=r),R.forEach(v),u=B(Z),o=k(Z,"A",{href:!0});var c=q(o);l=k(c,"BUTTON",{type:!0,class:!0});var C=q(l);i=k(C,"IMG",{src:!0,alt:!0,class:!0}),$=B(C),d=k(C,"SPAN",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-yc6fjb"&&(d.textContent=b),C.forEach(v),c.forEach(v),f=B(Z),h=k(Z,"A",{href:!0});var W=q(h);p=k(W,"BUTTON",{type:!0,class:!0});var Q=q(p);A(m.$$.fragment,Q),M=B(Q),L=k(Q,"SPAN",{class:!0,"data-svelte-h":!0}),j(L)!=="svelte-700qdn"&&(L.textContent=Y),Q.forEach(v),W.forEach(v),Z.forEach(v),O.forEach(v),this.h()},h(){_(n,"type","button"),_(n,"class","svelte-suyw3n"),V(n,"active",a[2]===S.recipes),_(s,"href",S.recipes),Ee(i.src,g=ft)||_(i,"src",g),_(i,"alt","A coffee beans icon"),_(i,"class","svelte-suyw3n"),V(i,"active-img",a[2]===S.home),_(d,"class","svelte-suyw3n"),V(d,"active",a[2]===S.home),_(l,"type","button"),_(l,"class","svelte-suyw3n"),V(l,"active",a[2]===S.home),_(o,"href",S.home),_(L,"class","svelte-suyw3n"),V(L,"active",a[2]===S.other),_(p,"type","button"),_(p,"class","svelte-suyw3n"),V(p,"active",a[2]===S.other),_(h,"href",S.other),_(t,"class","grid h-full max-w-lg grid-cols-3 mx-auto font-medium"),_(e,"class","bottom-nav svelte-suyw3n"),V(e,"as-gap",a[0]),V(e,"bottom-nav-static",a[1].url.pathname===S.addRecipe()||a[1].url.pathname.substring(0,a[1].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},m(I,O){U(I,e,O),y(e,t),y(t,s),y(s,n),y(t,u),y(t,o),y(o,l),y(l,i),y(l,$),y(l,d),y(t,f),y(t,h),y(h,p),P(m,p,null),y(p,M),y(p,L),x=!0},p(I,[O]){(!x||O&4)&&V(n,"active",I[2]===S.recipes),(!x||O&4)&&V(i,"active-img",I[2]===S.home),(!x||O&4)&&V(d,"active",I[2]===S.home),(!x||O&4)&&V(l,"active",I[2]===S.home),(!x||O&4)&&V(L,"active",I[2]===S.other),(!x||O&4)&&V(p,"active",I[2]===S.other),(!x||O&1)&&V(e,"as-gap",I[0]),(!x||O&2)&&V(e,"bottom-nav-static",I[1].url.pathname===S.addRecipe()||I[1].url.pathname.substring(0,I[1].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},i(I){x||(T(m.$$.fragment,I),x=!0)},o(I){D(m.$$.fragment,I),x=!1},d(I){I&&v(e),G(m)}}}function ht(a,e,t){let s,n;ue(a,ee,u=>t(1,n=u));let{asGap:r=!1}=e;return a.$$set=u=>{"asGap"in u&&t(0,r=u.asGap)},a.$$.update=()=>{a.$$.dirty&2&&t(2,s=ze+n.route.id)},[r,n,s]}class we extends z{constructor(e){super(),K(this,e,ht,pt,H,{asGap:0})}}function gt(a){let e,t="arrow_back";return{c(){e=w("span"),e.textContent=t,this.h()},l(s){e=k(s,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-12vjxfs"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons md-24")},m(s,n){U(s,e,n)},p:F,i:F,o:F,d(s){s&&v(e)}}}class _t extends z{constructor(e){super(),K(this,e,null,gt,H,{})}}function $t(a){let e,t="favorite_border";return{c(){e=w("span"),e.textContent=t,this.h()},l(s){e=k(s,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-teydos"&&(e.textContent=t),this.h()},h(){_(e,"class","material-icons md-24 svelte-1c6h8fp")},m(s,n){U(s,e,n)},p:F,i:F,o:F,d(s){s&&v(e)}}}class vt extends z{constructor(e){super(),K(this,e,null,$t,H,{})}}function bt(a){let e,t;return e=new vt({}),{c(){N(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,n){P(e,s,n),t=!0},p:F,i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function yt(a){let e,t,s,n,r;return t=new _t({}),{c(){e=w("button"),N(t.$$.fragment),this.h()},l(u){e=k(u,"BUTTON",{class:!0});var o=q(e);A(t.$$.fragment,o),o.forEach(v),this.h()},h(){_(e,"class","vertical-center-children svelte-47vdz7")},m(u,o){U(u,e,o),P(t,e,null),s=!0,n||(r=J(e,"click",a[3]),n=!0)},p:F,i(u){s||(T(t.$$.fragment,u),s=!0)},o(u){D(t.$$.fragment,u),s=!1},d(u){u&&v(e),G(t),n=!1,r()}}}function wt(a){let e,t,s,n,r,u,o,l,i='<div class="logo-container svelte-47vdz7"><span class="text-2xl font-semibold whitespace-nowrap svelte-47vdz7">PourOverPotato</span> <p class="sublogo svelte-47vdz7">Save your best recipes for later use</p></div>',g;const $=[yt,bt],d=[];function b(f,h){return f[1]!==S.home?0:1}return r=b(a),u=d[r]=$[r](a),{c(){e=w("nav"),t=w("div"),s=w("div"),n=w("div"),u.c(),o=E(),l=w("a"),l.innerHTML=i,this.h()},l(f){e=k(f,"NAV",{class:!0});var h=q(e);t=k(h,"DIV",{class:!0});var p=q(t);s=k(p,"DIV",{class:!0});var m=q(s);n=k(m,"DIV",{class:!0});var M=q(n);u.l(M),M.forEach(v),o=B(m),l=k(m,"A",{href:!0,"data-svelte-h":!0}),j(l)!=="svelte-4srcpb"&&(l.innerHTML=i),m.forEach(v),p.forEach(v),h.forEach(v),this.h()},h(){_(n,"class","icon-button vertical-center-children svelte-47vdz7"),_(l,"href",S.home),_(s,"class","left-nav-side vertical-center-children svelte-47vdz7"),_(t,"class","flex flex-wrap items-center justify-between mx-auto p-4"),_(e,"class","svelte-47vdz7"),V(e,"as-gap",a[0]),V(e,"nav-static",a[2].url.pathname===S.addRecipe()||a[2].url.pathname.substring(0,a[2].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},m(f,h){U(f,e,h),y(e,t),y(t,s),y(s,n),d[r].m(n,null),y(s,o),y(s,l),g=!0},p(f,[h]){let p=r;r=b(f),r===p?d[r].p(f,h):(ce(),D(d[p],1,1,()=>{d[p]=null}),fe(),u=d[r],u?u.p(f,h):(u=d[r]=$[r](f),u.c()),T(u,1),u.m(n,null)),(!g||h&1)&&V(e,"as-gap",f[0]),(!g||h&4)&&V(e,"nav-static",f[2].url.pathname===S.addRecipe()||f[2].url.pathname.substring(0,f[2].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},i(f){g||(T(u),g=!0)},o(f){D(u),g=!1},d(f){f&&v(e),d[r].d()}}}function kt(a,e,t){let s;ue(a,ee,o=>t(2,s=o));let{asGap:n=!1}=e,r=S.home;ee.subscribe(o=>{t(1,r=o.url.pathname)});function u(){history.length===0?ne(S.home,{replaceState:!0}):history.back()}return a.$$set=o=>{"asGap"in o&&t(0,n=o.asGap)},[n,r,s,u]}class ke extends z{constructor(e){super(),K(this,e,kt,wt,H,{asGap:0})}}function Ct(a){let e,t=`<p class="svelte-1qp1gq4">Please try turning persistent storage ON in your browser, it will make your data relatively safe from a browser
      eviction.</p>`,s,n,r,u="Enable persistent storage",o,l,i="Cancel",g,$;return{c(){e=w("div"),e.innerHTML=t,s=E(),n=w("div"),r=w("button"),r.textContent=u,o=E(),l=w("button"),l.textContent=i,this.h()},l(d){e=k(d,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ekvqww"&&(e.innerHTML=t),s=B(d),n=k(d,"DIV",{class:!0});var b=q(n);r=k(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(r)!=="svelte-19r4dnf"&&(r.textContent=u),o=B(b),l=k(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(l)!=="svelte-8x4blm"&&(l.textContent=i),b.forEach(v),this.h()},h(){_(e,"class","text-container svelte-1qp1gq4"),_(r,"class","enable svelte-1qp1gq4"),_(r,"type","button"),_(l,"class","cancel svelte-1qp1gq4"),_(l,"type","button"),_(n,"class","buttons-container svelte-1qp1gq4")},m(d,b){U(d,e,b),U(d,s,b),U(d,n,b),y(n,r),a[7](r),y(n,o),y(n,l),a[8](l),g||($=[J(r,"click",a[4]),J(l,"click",a[9]),J(l,"keydown",a[6])],g=!0)},p:F,d(d){d&&(v(e),v(s),v(n)),a[7](null),a[8](null),g=!1,Be($)}}}function It(a){let e,t,s,n;function r(l){a[11](l)}function u(l){a[12](l)}let o={onFocusReverse:a[10],onStateChange:a[5],title:"Persistent storage not enabled",$$slots:{default:[Ct]},$$scope:{ctx:a}};return a[1]!==void 0&&(o.setFocus=a[1]),a[0]!==void 0&&(o.setState=a[0]),e=new Ke({props:o}),X.push(()=>pe(e,"setFocus",r)),X.push(()=>pe(e,"setState",u)),{c(){N(e.$$.fragment)},l(l){A(e.$$.fragment,l)},m(l,i){P(e,l,i),n=!0},p(l,[i]){const g={};i&4&&(g.onFocusReverse=l[10]),i&16397&&(g.$$scope={dirty:i,ctx:l}),!t&&i&2&&(t=!0,g.setFocus=l[1],de(()=>t=!1)),!s&&i&1&&(s=!0,g.setState=l[0],de(()=>s=!1)),e.$set(g)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){G(e,l)}}}const te="persistentStorageCheckDate";function St(a,e,t){let s;ue(a,ee,m=>t(13,s=m));let n,r,u,o;ie(async()=>{await navigator.storage.persisted()===!1&&(localStorage.getItem(te)===null||localStorage.getItem(te)!==new Date().toDateString())&&await He()&&(localStorage.setItem(te,new Date().toDateString()),n("open"))});async function l(){if(await navigator.storage.persist()==!1)alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems to be the only browser to allow enabling persistent storage always.");else{n("closed"),Ye("Persistent storage enabled.");const M=s.url.pathname;ne(S.home).then(()=>ne(M))}}function i(m){m==="open"&&Oe().then(()=>{o.focus()})}function g(m){m.key==="Tab"&&m.shiftKey===!1&&(m.preventDefault(),r())}function $(m){X[m?"unshift":"push"](()=>{o=m,t(3,o)})}function d(m){X[m?"unshift":"push"](()=>{u=m,t(2,u)})}const b=()=>n("closed"),f=()=>u.focus();function h(m){r=m,t(1,r)}function p(m){n=m,t(0,n)}return[n,r,u,o,l,i,g,$,d,b,f,h,p]}class Tt extends z{constructor(e){super(),K(this,e,St,It,H,{})}}function Dt(){for(let a=0;a<localStorage.length;a++){const e=localStorage.key(a);e!=null&&e.startsWith("sortOrder_")&&e!=="sortOrder_recipes"&&e!=="sortOrder_coffeeBeans"&&localStorage.removeItem(e)}}const se="vacuum_last_date";function Mt(a){ie(()=>{e()});async function e(){const t=localStorage.getItem(se);if(t===null){localStorage.setItem(se,new Date().toDateString());return}const s=new Date(t),r=new Date().getTime()-s.getTime();Math.floor(r/(1e3*3600*24))<1||(console.log("Vacuum started."),Dt(),await Ze(),localStorage.setItem(se,new Date().toDateString()),console.log("Vacuum finished."))}return[]}class Ut extends z{constructor(e){super(),K(this,e,Mt,null,H,{})}}function Et(a){let e,t,s,n,r,u,o,l,i,g,$,d,b,f,h,p,m,M,L,Y,x,I,O;e=new ke({}),s=new ke({props:{asGap:!0}}),r=new _e({}),l=new _e({props:{asGap:!0}});const Z=a[1].default,R=ae(Z,a,a[0],null);return f=new we({props:{asGap:!0}}),p=new we({}),M=new ct({}),Y=new Tt({}),I=new Ut({}),{c(){N(e.$$.fragment),t=E(),N(s.$$.fragment),n=E(),N(r.$$.fragment),u=E(),o=w("div"),N(l.$$.fragment),i=E(),g=w("div"),R&&R.c(),$=E(),d=w("div"),b=E(),N(f.$$.fragment),h=E(),N(p.$$.fragment),m=E(),N(M.$$.fragment),L=E(),N(Y.$$.fragment),x=E(),N(I.$$.fragment),this.h()},l(c){A(e.$$.fragment,c),t=B(c),A(s.$$.fragment,c),n=B(c),A(r.$$.fragment,c),u=B(c),o=k(c,"DIV",{id:!0,style:!0});var C=q(o);A(l.$$.fragment,C),i=B(C),g=k(C,"DIV",{class:!0});var W=q(g);R&&R.l(W),$=B(W),d=k(W,"DIV",{class:!0}),q(d).forEach(v),W.forEach(v),C.forEach(v),b=B(c),A(f.$$.fragment,c),h=B(c),A(p.$$.fragment,c),m=B(c),A(M.$$.fragment,c),L=B(c),A(Y.$$.fragment,c),x=B(c),A(I.$$.fragment,c),this.h()},h(){_(d,"class","bottom-gap svelte-1ruqigr"),_(g,"class","page-container svelte-1ruqigr"),_(o,"id","content"),he(o,"display","flex"),he(o,"flex-direction","row")},m(c,C){P(e,c,C),U(c,t,C),P(s,c,C),U(c,n,C),P(r,c,C),U(c,u,C),U(c,o,C),P(l,o,null),y(o,i),y(o,g),R&&R.m(g,null),y(g,$),y(g,d),U(c,b,C),P(f,c,C),U(c,h,C),P(p,c,C),U(c,m,C),P(M,c,C),U(c,L,C),P(Y,c,C),U(c,x,C),P(I,c,C),O=!0},p(c,[C]){R&&R.p&&(!O||C&1)&&re(R,Z,c,c[0],O?oe(Z,c[0],C,null):le(c[0]),null)},i(c){O||(T(e.$$.fragment,c),T(s.$$.fragment,c),T(r.$$.fragment,c),T(l.$$.fragment,c),T(R,c),T(f.$$.fragment,c),T(p.$$.fragment,c),T(M.$$.fragment,c),T(Y.$$.fragment,c),T(I.$$.fragment,c),O=!0)},o(c){D(e.$$.fragment,c),D(s.$$.fragment,c),D(r.$$.fragment,c),D(l.$$.fragment,c),D(R,c),D(f.$$.fragment,c),D(p.$$.fragment,c),D(M.$$.fragment,c),D(Y.$$.fragment,c),D(I.$$.fragment,c),O=!1},d(c){c&&(v(t),v(n),v(u),v(o),v(b),v(h),v(m),v(L),v(x)),G(e,c),G(s,c),G(r,c),G(l),R&&R.d(c),G(f,c),G(p,c),G(M,c),G(Y,c),G(I,c)}}}function Bt(a,e,t){let{$$slots:s={},$$scope:n}=e;return a.$$set=r=>{"$$scope"in r&&t(0,n=r.$$scope)},[n,s]}class Ot extends z{constructor(e){super(),K(this,e,Bt,Et,H,{})}}function Vt(a){let e;const t=a[0].default,s=ae(t,a,a[1],null);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,r){s&&s.m(n,r),e=!0},p(n,r){s&&s.p&&(!e||r&2)&&re(s,t,n,n[1],e?oe(t,n[1],r,null):le(n[1]),null)},i(n){e||(T(s,n),e=!0)},o(n){D(s,n),e=!1},d(n){s&&s.d(n)}}}function qt(a){let e,t;return e=new Ot({props:{$$slots:{default:[Vt]},$$scope:{ctx:a}}}),{c(){N(e.$$.fragment)},l(s){A(e.$$.fragment,s)},m(s,n){P(e,s,n),t=!0},p(s,[n]){const r={};n&2&&(r.$$scope={dirty:n,ctx:s}),e.$set(r)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){D(e.$$.fragment,s),t=!1},d(s){G(e,s)}}}function Lt(a,e,t){let{$$slots:s={},$$scope:n}=e;return a.$$set=r=>{"$$scope"in r&&t(1,n=r.$$scope)},[s,n]}class Kt extends z{constructor(e){super(),K(this,e,Lt,qt,H,{})}}export{Kt as component};
