import{s as I,o as q,b as F,a as L,n as C}from"../chunks/scheduler.vcOl-ZmV.js";import{S as M,i as j,s as N,k,l as H,d as g,f as A,m as B,g as b,n as w,o as d,p as E,q as _,r as R,t as T,b as z,u as D,v as G,w as P,x as J}from"../chunks/index.RQKtCNd3.js";import{e as v}from"../chunks/each.bu9aILCH.js";import{g as K,a as Q}from"../chunks/indexedDB.DSM7SfQo.js";import{A as U,s as y}from"../chunks/NoItemsYetP.VQBBPxGQ.js";import{r as O}from"../chunks/routes.NzlGtMX8.js";import{S as W,R as X}from"../chunks/SortRecipesSelect.DWyTRy_k.js";import{L as Y}from"../chunks/Loading.3xbXJbHv.js";import{A as Z}from"../chunks/AddDemoCoffeeBeans_PageBlock.-t7cPiTM.js";import{P as x}from"../chunks/PageHeadline.YBCxUrY5.js";function S(l,r,n){const e=l.slice();return e[5]=r[n],e}function ee(l){let r;return{c(){r=T("Recipes")},l(n){r=z(n,"Recipes")},m(n,e){b(n,r,e)},d(n){n&&g(r)}}}function te(l){let r,n,e,o,f;function $(s){l[4](s)}let u={pageName:"all_recipes"};l[1]!==void 0&&(u.sortOrderValue=l[1]),r=new W({props:u}),F.push(()=>G(r,"sortOrderValue",$));let p=v(l[0]),a=[];for(let s=0;s<p.length;s+=1)a[s]=V(S(l,p,s));const m=s=>d(a[s],1,1,()=>{a[s]=null});return{c(){k(r.$$.fragment),e=N();for(let s=0;s<a.length;s+=1)a[s].c();o=P()},l(s){B(r.$$.fragment,s),e=A(s);for(let t=0;t<a.length;t+=1)a[t].l(s);o=P()},m(s,t){w(r,s,t),b(s,e,t);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(s,t);b(s,o,t),f=!0},p(s,t){const c={};if(!n&&t&2&&(n=!0,c.sortOrderValue=s[1],L(()=>n=!1)),r.$set(c),t&1){p=v(s[0]);let i;for(i=0;i<p.length;i+=1){const h=S(s,p,i);a[i]?(a[i].p(h,t),_(a[i],1)):(a[i]=V(h),a[i].c(),_(a[i],1),a[i].m(o.parentNode,o))}for(D(),i=p.length;i<a.length;i+=1)m(i);E()}},i(s){if(!f){_(r.$$.fragment,s);for(let t=0;t<p.length;t+=1)_(a[t]);f=!0}},o(s){d(r.$$.fragment,s),a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)d(a[t]);f=!1},d(s){s&&(g(e),g(o)),R(r,s),J(a,s)}}}function re(l){let r,n;return r=new Z({props:{onAddDemoEntities:l[3]}}),{c(){k(r.$$.fragment)},l(e){B(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p:C,i(e){n||(_(r.$$.fragment,e),n=!0)},o(e){d(r.$$.fragment,e),n=!1},d(e){R(r,e)}}}function ne(l){let r,n;return r=new Y({}),{c(){k(r.$$.fragment)},l(e){B(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p:C,i(e){n||(_(r.$$.fragment,e),n=!0)},o(e){d(r.$$.fragment,e),n=!1},d(e){R(r,e)}}}function V(l){let r,n;return r=new X({props:{coffeeBeansName:l[5].coffeeBeansName,href:O.recipeItem(l[5].id),recipe:l[5]}}),{c(){k(r.$$.fragment)},l(e){B(r.$$.fragment,e)},m(e,o){w(r,e,o),n=!0},p(e,o){const f={};o&1&&(f.coffeeBeansName=e[5].coffeeBeansName),o&1&&(f.href=O.recipeItem(e[5].id)),o&1&&(f.recipe=e[5]),r.$set(f)},i(e){n||(_(r.$$.fragment,e),n=!0)},o(e){d(r.$$.fragment,e),n=!1},d(e){R(r,e)}}}function se(l){let r,n,e,o,f,$,u,p;n=new x({props:{$$slots:{default:[ee]},$$scope:{ctx:l}}});const a=[ne,re,te],m=[];function s(t,c){return t[0]===void 0?0:t[0].length===0?1:2}return o=s(l),f=m[o]=a[o](l),u=new U({props:{href:O.addRecipe()}}),{c(){r=N(),k(n.$$.fragment),e=N(),f.c(),$=N(),k(u.$$.fragment),this.h()},l(t){H("svelte-t7jrhh",document.head).forEach(g),r=A(t),B(n.$$.fragment,t),e=A(t),f.l(t),$=A(t),B(u.$$.fragment,t),this.h()},h(){document.title="Pour over recipes - PourOverPotato app"},m(t,c){b(t,r,c),w(n,t,c),b(t,e,c),m[o].m(t,c),b(t,$,c),w(u,t,c),p=!0},p(t,[c]){const i={};c&256&&(i.$$scope={dirty:c,ctx:t}),n.$set(i);let h=o;o=s(t),o===h?m[o].p(t,c):(D(),d(m[h],1,1,()=>{m[h]=null}),E(),f=m[o],f?f.p(t,c):(f=m[o]=a[o](t),f.c()),_(f,1),f.m($.parentNode,$))},i(t){p||(_(n.$$.fragment,t),_(f),_(u.$$.fragment,t),p=!0)},o(t){d(n.$$.fragment,t),d(f),d(u.$$.fragment,t),p=!1},d(t){t&&(g(r),g(e),g($)),R(n,t),m[o].d(t),R(u,t)}}}function oe(l,r,n){let e,o;q(()=>{f()});async function f(){const p=await K(),a=new Map;p.forEach(m=>a.set(m.id,m.name)),n(0,e=(await Q()).sort(y).map(m=>({...m,coffeeBeansName:a.get(m.coffeeBeansId)??""})))}const $=()=>f();function u(p){o=p,n(1,o)}return l.$$.update=()=>{l.$$.dirty&3&&e&&n(0,e=e.sort((o==null?void 0:o.sortOrderFunc)??y))},[e,o,f,$,u]}class de extends M{constructor(r){super(),j(this,r,oe,se,I,{})}}export{de as component};
