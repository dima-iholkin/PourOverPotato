import{s as ze,b as S,a as k,c as Ke,o as Je}from"../chunks/scheduler.Cw1-ZcKD.js";import{S as Qe,i as Xe,v as O,s as R,k as A,e as Ae,l as Ye,d as W,f as E,m as M,c as Me,a as Ze,y as xe,z as x,g as oe,n as P,h as y,A as et,B as tt,q as D,o as V,r as G,t as nt,b as at}from"../chunks/index.DHsbL8_X.js";import{g as pe}from"../chunks/entry.Bs1kKzkN.js";import{p as st}from"../chunks/stores.BRxvSw0C.js";import{g as rt}from"../chunks/manageCoffeeBeans.CzXUSSc2.js";import{P as it,c as ot}from"../chunks/PageHeadline.DK2gBKFE.js";import{n as ie}from"../chunks/naming.DmthAWfq.js";import{r as me}from"../chunks/routes.9lc0K48O.js";import{C as ft,N as Pe,F as ut,T as lt,p as ce}from"../chunks/NumberInput.ceY88DtB.js";import{h as pt,a as mt,p as ct}from"../chunks/dateHelpers.DtGJLfnR.js";import{T as de}from"../chunks/Textarea.DSVAmZwN.js";async function dt({url:t}){return{coffeeBeansName:t.searchParams.get("coffee_beans_name")}}const Rt=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"}));function H(t,i){const n=be(t,i);localStorage.removeItem(n)}function U(t,i,n){const g=be(t,i),s=localStorage.getItem(g);if(s===null)return null;if(n==="number"){const r=Number.parseFloat(s);return Number.isNaN(r)?null:r}return s}function L(t,i,n){const g=be(t,i);localStorage.setItem(g,n)}function be(t,i){return`form_${t}_${i}`}function gt(t){let i;return{c(){i=nt("Add recipe")},l(n){i=at(n,"Add recipe")},m(n,g){oe(n,i,g)},d(n){n&&W(i)}}}function _t(t){let i,n,g,s,r,w,_,F,p,l,b,h,m,B,I,d,j,q,v,z,K,$,J,Q,T,X,Y,C,a,N,c,ae="Save",se,le,he;n=new it({props:{$$slots:{default:[gt]},$$scope:{ctx:t}}});function ye(e){t[14](e)}function De(e){t[15](e)}function Ve(e){t[16](e)}let re={allCoffeeBeans:t[0],onSavedCoffeeBeans:t[12]};t[9]!==void 0&&(re.selectDOM=t[9]),t[1]!==void 0&&(re.selectedCoffeeBeansId=t[1]),t[8]!==void 0&&(re.setValidationFailed=t[8]),r=new ft({props:re}),S.push(()=>O(r,"selectDOM",ye)),S.push(()=>O(r,"selectedCoffeeBeansId",De)),S.push(()=>O(r,"setValidationFailed",Ve));function Ge(e){t[17](e)}let ve={id:ee,label:ie.recipe.recipeTarget+":",name:ee,placeholder:ce.recipeTarget};t[2]!==void 0&&(ve.value=t[2]),l=new de({props:ve}),S.push(()=>O(l,"value",Ge));function He(e){t[18](e)}let $e={id:te,label:ie.recipe.recipeResult+":",name:te,placeholder:ce.recipeResult};t[3]!==void 0&&($e.value=t[3]),m=new de({props:$e}),S.push(()=>O(m,"value",He));function Ue(e){t[19](e)}let Te={labelText:ie.recipe.outWeight+" (g):",min:0,nameAttr:fe,step:5};t[5]!==void 0&&(Te.value=t[5]),d=new Pe({props:Te}),S.push(()=>O(d,"value",Ue));function Le(e){t[20](e)}let Ce={labelText:"Rating:",max:5,min:0,nameAttr:ue,step:.5};t[6]!==void 0&&(Ce.value=t[6]),v=new Pe({props:Ce}),S.push(()=>O(v,"value",Le));function We(e){t[21](e)}let Fe={};t[7]!==void 0&&(Fe.value=t[7]),$=new ut({props:Fe}),S.push(()=>O($,"value",We));function je(e){t[22](e)}let Be={id:ne,label:ie.recipe.recipeThoughts+":",name:ne,placeholder:ce.recipeThoughts};t[4]!==void 0&&(Be.value=t[4]),T=new de({props:Be}),S.push(()=>O(T,"value",je));function qe(e){t[23](e)}let Ie={};return t[10]!==void 0&&(Ie.value=t[10]),C=new lt({props:Ie}),S.push(()=>O(C,"value",qe)),{c(){i=R(),A(n.$$.fragment),g=R(),s=Ae("form"),A(r.$$.fragment),p=R(),A(l.$$.fragment),h=R(),A(m.$$.fragment),I=R(),A(d.$$.fragment),q=R(),A(v.$$.fragment),K=R(),A($.$$.fragment),Q=R(),A(T.$$.fragment),Y=R(),A(C.$$.fragment),N=R(),c=Ae("button"),c.textContent=ae,this.h()},l(e){Ye("svelte-kogo9l",document.head).forEach(W),i=E(e),M(n.$$.fragment,e),g=E(e),s=Me(e,"FORM",{id:!0,class:!0});var o=Ze(s);M(r.$$.fragment,o),p=E(o),M(l.$$.fragment,o),h=E(o),M(m.$$.fragment,o),I=E(o),M(d.$$.fragment,o),q=E(o),M(v.$$.fragment,o),K=E(o),M($.$$.fragment,o),Q=E(o),M(T.$$.fragment,o),Y=E(o),M(C.$$.fragment,o),N=E(o),c=Me(o,"BUTTON",{class:!0,form:!0,type:!0,"data-svelte-h":!0}),xe(c)!=="svelte-1pg8oi4"&&(c.textContent=ae),o.forEach(W),this.h()},h(){document.title="Add recipe - PourOverPotato app",x(c,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded svelte-b37xp1"),x(c,"form","add-recipe"),x(c,"type","submit"),x(s,"id","add-recipe"),x(s,"class","svelte-b37xp1")},m(e,u){oe(e,i,u),P(n,e,u),oe(e,g,u),oe(e,s,u),P(r,s,null),y(s,p),P(l,s,null),y(s,h),P(m,s,null),y(s,I),P(d,s,null),y(s,q),P(v,s,null),y(s,K),P($,s,null),y(s,Q),P(T,s,null),y(s,Y),P(C,s,null),y(s,N),y(s,c),se=!0,le||(he=et(s,"submit",tt(t[11])),le=!0)},p(e,[u]){const o={};u&67108864&&(o.$$scope={dirty:u,ctx:e}),n.$set(o);const Z={};u&1&&(Z.allCoffeeBeans=e[0]),!w&&u&512&&(w=!0,Z.selectDOM=e[9],k(()=>w=!1)),!_&&u&2&&(_=!0,Z.selectedCoffeeBeansId=e[1],k(()=>_=!1)),!F&&u&256&&(F=!0,Z.setValidationFailed=e[8],k(()=>F=!1)),r.$set(Z);const Se={};!b&&u&4&&(b=!0,Se.value=e[2],k(()=>b=!1)),l.$set(Se);const ke={};!B&&u&8&&(B=!0,ke.value=e[3],k(()=>B=!1)),m.$set(ke);const Oe={};!j&&u&32&&(j=!0,Oe.value=e[5],k(()=>j=!1)),d.$set(Oe);const Re={};!z&&u&64&&(z=!0,Re.value=e[6],k(()=>z=!1)),v.$set(Re);const Ee={};!J&&u&128&&(J=!0,Ee.value=e[7],k(()=>J=!1)),$.$set(Ee);const we={};!X&&u&16&&(X=!0,we.value=e[4],k(()=>X=!1)),T.$set(we);const Ne={};!a&&u&1024&&(a=!0,Ne.value=e[10],k(()=>a=!1)),C.$set(Ne)},i(e){se||(D(n.$$.fragment,e),D(r.$$.fragment,e),D(l.$$.fragment,e),D(m.$$.fragment,e),D(d.$$.fragment,e),D(v.$$.fragment,e),D($.$$.fragment,e),D(T.$$.fragment,e),D(C.$$.fragment,e),se=!0)},o(e){V(n.$$.fragment,e),V(r.$$.fragment,e),V(l.$$.fragment,e),V(m.$$.fragment,e),V(d.$$.fragment,e),V(v.$$.fragment,e),V($.$$.fragment,e),V(T.$$.fragment,e),V(C.$$.fragment,e),se=!1},d(e){e&&(W(i),W(g),W(s)),G(n,e),G(r),G(l),G(m),G(d),G(v),G($),G(T),G(C),le=!1,he()}}}const ee="recipe-target",te="recipe-result",ne="recipe-thoughts",fe="out-weight",ue="rating",ge="favorite",f="addRecipe",_e="coffee-beans";function bt(t,i,n){let g;Ke(t,st,a=>n(24,g=a));const s=g.data.coffeeBeansName;let r,w,_=!1,F,p,l="",b="",h="",m=0,B=0,I=!1,d=pt(new Date);Je(()=>{rt().then(a=>{var N;n(0,F=a),s?n(1,p=(N=F.find(c=>c.name.toLowerCase()===s.toLowerCase()))==null?void 0:N.id):n(1,p=U(f,_e,"number")??void 0),n(2,l=U(f,ee,"string")??""),n(3,b=U(f,te,"string")??""),n(4,h=U(f,ne,"string")??""),n(5,m=U(f,fe,"number")??0),n(6,B=U(f,ue,"number")??0),n(7,I=U(f,ge,"number")===1),n(13,_=!0)})});async function j(){if(p===void 0){r&&r(!0),w&&w.focus();return}n(2,l=l.trim()),n(3,b=b.trim()),n(4,h=h.trim());const a=ct(d);await ot({coffeeBeansId:p,recipeTarget:l,recipeResult:b,recipeThoughts:h,outWeight:m,rating:B,favorite:I,timestamp:a}),H(f,_e),H(f,ee),H(f,te),H(f,ne),H(f,fe),H(f,ue),H(f,ge),mt("Recipe created.");const c=F.find(ae=>ae.id===p);if(c===void 0){pe(me.home);return}pe(me.coffeeBeansItem(c.name))}function q(a){F.push(a),n(1,p=a.id),r&&r(!1)}function v(a){w=a,n(9,w)}function z(a){p=a,n(1,p)}function K(a){r=a,n(8,r)}function $(a){l=a,n(2,l)}function J(a){b=a,n(3,b)}function Q(a){m=a,n(5,m)}function T(a){B=a,n(6,B)}function X(a){I=a,n(7,I)}function Y(a){h=a,n(4,h)}function C(a){d=a,n(10,d)}return t.$$.update=()=>{var a;if(t.$$.dirty&8195&&p!==void 0&&_){L(f,_e,p);const N=(a=F.find(c=>c.id===p))==null?void 0:a.name;pe(me.addRecipe(N))}t.$$.dirty&8196&&_&&L(f,ee,l),t.$$.dirty&8200&&_&&L(f,te,b),t.$$.dirty&8208&&_&&L(f,ne,h),t.$$.dirty&8224&&_&&L(f,fe,m),t.$$.dirty&8256&&_&&L(f,ue,B),t.$$.dirty&8320&&_&&L(f,ge,I?1:0)},[F,p,l,b,h,m,B,I,r,w,d,j,q,_,v,z,K,$,J,Q,T,X,Y,C]}class Et extends Qe{constructor(i){super(),Xe(this,i,bt,_t,ze,{})}}export{Et as component,Rt as universal};
