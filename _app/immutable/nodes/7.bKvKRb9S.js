import{s as de,a as ct,y as we,u as dt,g as mt,b as _t,r as Le,n as ge,z as qe,e as J,A as ue,t as Ct,k as kt,c as Tt,o as Bt}from"../chunks/scheduler.oXSsTagU.js";import{S as me,i as _e,e as k,c as T,a as M,d as m,y as c,g as $,q as y,o as R,k as z,s as D,m as U,f as N,x as be,n as K,h as p,D as re,C as X,r as q,t as Q,b as Z,j as Ve,z as Ae,E as oe,F as Ke,G as nt,H as It,v as Oe,w as $t,l as Dt}from"../chunks/index.R4ieXPpT.js";import{g as Nt}from"../chunks/entry.N6Kfq2DC.js";import{p as Mt}from"../chunks/stores._TSg1gwk.js";import{j as Pt,f as Ot,C as St,c as At,i as Lt}from"../chunks/indexedDB.LXsa1hKK.js";import{n as ye}from"../chunks/naming.kUvCv0xb.js";import{e as st}from"../chunks/each.6w4Ej4nR.js";import{M as Vt}from"../chunks/MySidebar.sxLdHdLf.js";async function yt({url:n}){return{coffeeBeansName:n.searchParams.get("coffee_beans_name")}}const On=Object.freeze(Object.defineProperty({__proto__:null,load:yt},Symbol.toStringTag,{value:"Module"}));function Rt(n){let e,t,l;const a=n[3].default,s=ct(a,n,n[2],null);return{c(){e=k("label"),s&&s.c(),this.h()},l(i){e=T(i,"LABEL",{for:!0,class:!0});var f=M(e);s&&s.l(f),f.forEach(m),this.h()},h(){c(e,"for",n[0]),c(e,"class",t=we(n[1]===!0?"valid":"invalid")+" svelte-1h34e55")},m(i,f){$(i,e,f),s&&s.m(e,null),l=!0},p(i,[f]){s&&s.p&&(!l||f&4)&&dt(s,a,i,i[2],l?_t(a,i[2],f,null):mt(i[2]),null),(!l||f&1)&&c(e,"for",i[0]),(!l||f&2&&t!==(t=we(i[1]===!0?"valid":"invalid")+" svelte-1h34e55"))&&c(e,"class",t)},i(i){l||(y(s,i),l=!0)},o(i){R(s,i),l=!1},d(i){i&&m(e),s&&s.d(i)}}}function Ft(n,e,t){let{$$slots:l={},$$scope:a}=e,{_for:s}=e,{valid:i=!0}=e;return n.$$set=f=>{"_for"in f&&t(0,s=f._for),"valid"in f&&t(1,i=f.valid),"$$scope"in f&&t(2,a=f.$$scope)},[s,i,a,l]}class ve extends me{constructor(e){super(),_e(this,e,Ft,Rt,de,{_for:0,valid:1})}}function jt(n){let e;return{c(){e=Q(n[1])},l(t){e=Z(t,n[1])},m(t,l){$(t,e,l)},p(t,l){l&2&&Ve(e,t[1])},d(t){t&&m(e)}}}function Ht(n){let e,t,l,a,s,i='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2" class="svelte-1srudln"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"></path></svg>',f,r,u,d,o='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18" class="svelte-1srudln"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"></path></svg>',v,g,w;return t=new ve({props:{_for:n[2],$$slots:{default:[jt]},$$scope:{ctx:n}}}),{c(){e=k("div"),z(t.$$.fragment),l=D(),a=k("div"),s=k("button"),s.innerHTML=i,f=D(),r=k("input"),u=D(),d=k("button"),d.innerHTML=o,this.h()},l(h){e=T(h,"DIV",{class:!0});var P=M(e);U(t.$$.fragment,P),l=N(P),a=T(P,"DIV",{class:!0});var O=M(a);s=T(O,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),be(s)!=="svelte-190kxkt"&&(s.innerHTML=i),f=N(O),r=T(O,"INPUT",{id:!0,name:!0,type:!0,class:!0}),u=N(O),d=T(O,"BUTTON",{type:!0,id:!0,class:!0,"data-svelte-h":!0}),be(d)!=="svelte-yebheu"&&(d.innerHTML=o),O.forEach(m),P.forEach(m),this.h()},h(){c(s,"type","button"),c(s,"id","decrement-button"),c(s,"class","minus-button svelte-1srudln"),c(r,"id",n[2]),c(r,"name",n[2]),c(r,"type","text"),c(r,"class","svelte-1srudln"),c(d,"type","button"),c(d,"id","increment-button"),c(d,"class","plus-button svelte-1srudln"),c(a,"class","input-container svelte-1srudln"),c(e,"class","container svelte-1srudln")},m(h,P){$(h,e,P),K(t,e,null),p(e,l),p(e,a),p(a,s),p(a,f),p(a,r),re(r,n[0]),p(a,u),p(a,d),v=!0,g||(w=[X(s,"click",n[4]),X(r,"input",n[9]),X(r,"keydown",zt),X(r,"focusout",n[3]),X(d,"click",n[5])],g=!0)},p(h,[P]){const O={};P&4&&(O._for=h[2]),P&2050&&(O.$$scope={dirty:P,ctx:h}),t.$set(O),(!v||P&4)&&c(r,"id",h[2]),(!v||P&4)&&c(r,"name",h[2]),P&1&&r.value!==h[0]&&re(r,h[0])},i(h){v||(y(t.$$.fragment,h),v=!0)},o(h){R(t.$$.fragment,h),v=!1},d(h){h&&m(e),q(t),g=!1,Le(w)}}}function zt(n){const e=n.key;if((e<"0"||e>"9")&&e!=="."&&e!=="Backspace"&&e!=="Delete"&&e!=="ArrowLeft"&&e!=="ArrowRight"){n.preventDefault();return}}function Ut(n,e,t){let{value:l=0}=e,{labelText:a=""}=e,{nameAttr:s=""}=e,{min:i=0}=e,{max:f=Number.MAX_SAFE_INTEGER}=e,{step:r=1}=e;function u(w){v(w.currentTarget.value)}function d(){v(l),l>=i+r&&t(0,l-=r)}function o(){v(l),l<=f-r&&t(0,l+=r)}function v(w){const h=Number(w);if(isNaN(h)){t(0,l=i);return}if(h>f){t(0,l=f);return}if(h<i){t(0,l=i);return}if(h%r!==0){t(0,l=Math.floor(h/r)*r);return}t(0,l=h)}function g(){l=this.value,t(0,l)}return n.$$set=w=>{"value"in w&&t(0,l=w.value),"labelText"in w&&t(1,a=w.labelText),"nameAttr"in w&&t(2,s=w.nameAttr),"min"in w&&t(6,i=w.min),"max"in w&&t(7,f=w.max),"step"in w&&t(8,r=w.step)},[l,a,s,u,d,o,i,f,r,g]}class lt extends me{constructor(e){super(),_e(this,e,Ut,Ht,de,{value:0,labelText:1,nameAttr:2,min:6,max:7,step:8})}}function Kt(n){let e,t,l;return{c(){e=k("textarea"),this.h()},l(a){e=T(a,"TEXTAREA",{id:!0,name:!0,placeholder:!0,class:!0}),M(e).forEach(m),this.h()},h(){c(e,"id",n[2]),c(e,"name",n[3]),c(e,"placeholder",n[4]),c(e,"class","svelte-l228xv")},m(a,s){$(a,e,s),re(e,n[0]),n[7](e),t||(l=[X(e,"input",n[6]),X(e,"keydown",n[5])],t=!0)},p(a,[s]){s&4&&c(e,"id",a[2]),s&8&&c(e,"name",a[3]),s&16&&c(e,"placeholder",a[4]),s&1&&re(e,a[0])},i:ge,o:ge,d(a){a&&m(e),n[7](null),t=!1,Le(l)}}}function qt(n,e,t){let{id:l=""}=e,{name:a=""}=e,{value:s=""}=e,{placeholder:i=""}=e,{_this:f=void 0}=e;function r(o){qe.call(this,n,o)}function u(){s=this.value,t(0,s)}function d(o){J[o?"unshift":"push"](()=>{f=o,t(1,f)})}return n.$$set=o=>{"id"in o&&t(2,l=o.id),"name"in o&&t(3,a=o.name),"value"in o&&t(0,s=o.value),"placeholder"in o&&t(4,i=o.placeholder),"_this"in o&&t(1,f=o._this)},[s,f,l,a,i,r,u,d]}class Se extends me{constructor(e){super(),_e(this,e,qt,Kt,de,{id:2,name:3,value:0,placeholder:4,_this:1})}}function Gt(n){let e,t='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',l,a;return{c(){e=k("button"),e.innerHTML=t,this.h()},l(s){e=T(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),be(e)!=="svelte-dn7wzr"&&(e.innerHTML=t),this.h()},h(){c(e,"type","button"),c(e,"class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 inline-flex items-center svelte-4e6mwz"),Ae(e,"my-hidden",n[0])},m(s,i){$(s,e,i),l||(a=X(e,"click",n[1]),l=!0)},p(s,[i]){i&1&&Ae(e,"my-hidden",s[0])},i:ge,o:ge,d(s){s&&m(e),l=!1,a()}}}function Wt(n,e,t){let{hidden:l=!1}=e;function a(s){qe.call(this,n,s)}return n.$$set=s=>{"hidden"in s&&t(0,l=s.hidden)},[l,a]}class at extends me{constructor(e){super(),_e(this,e,Wt,Gt,de,{hidden:0})}}function Xt(n){let e,t,l,a,s,i,f;t=new at({props:{hidden:!0}});const r=n[1].default,u=ct(r,n,n[0],null);return i=new at({}),i.$on("click",n[2]),{c(){e=k("div"),z(t.$$.fragment),l=D(),a=k("h1"),u&&u.c(),s=D(),z(i.$$.fragment),this.h()},l(d){e=T(d,"DIV",{class:!0});var o=M(e);U(t.$$.fragment,o),l=N(o),a=T(o,"H1",{class:!0});var v=M(a);u&&u.l(v),v.forEach(m),s=N(o),U(i.$$.fragment,o),o.forEach(m),this.h()},h(){c(a,"class","svelte-9jjdxr"),c(e,"class","svelte-9jjdxr")},m(d,o){$(d,e,o),K(t,e,null),p(e,l),p(e,a),u&&u.m(a,null),p(e,s),K(i,e,null),f=!0},p(d,[o]){u&&u.p&&(!f||o&1)&&dt(u,r,d,d[0],f?_t(r,d[0],o,null):mt(d[0]),null)},i(d){f||(y(t.$$.fragment,d),y(u,d),y(i.$$.fragment,d),f=!0)},o(d){R(t.$$.fragment,d),R(u,d),R(i.$$.fragment,d),f=!1},d(d){d&&m(e),q(t),u&&u.d(d),q(i)}}}function Yt(n,e,t){let{$$slots:l={},$$scope:a}=e;function s(i){qe.call(this,n,i)}return n.$$set=i=>{"$$scope"in i&&t(0,a=i.$$scope)},[a,l,s]}class Jt extends me{constructor(e){super(),_e(this,e,Yt,Xt,de,{})}}function Qt(n){let e;return{c(){e=Q("Add new coffee beans")},l(t){e=Z(t,"Add new coffee beans")},m(t,l){$(t,e,l)},d(t){t&&m(e)}}}function Zt(n){let e;return{c(){e=Q("Coffee beans name:")},l(t){e=Z(t,"Coffee beans name:")},m(t,l){$(t,e,l)},d(t){t&&m(e)}}}function xt(n){let e;return{c(){e=Q("Description:")},l(t){e=Z(t,"Description:")},m(t,l){$(t,e,l)},d(t){t&&m(e)}}}function en(n){let e,t,l='<span class="material-icons md-18">add</span>',a,s,i,f,r,u,d,o,v,g,w,h,P,O,F,V,Y,B,b,I,j,S,ae,ce,ie,G,he="Save",E,ne,x;i=new Vt({props:{asGap:!0}}),u=new Jt({props:{$$slots:{default:[Qt]},$$scope:{ctx:n}}}),u.$on("click",n[21]),g=new ve({props:{_for:"name",valid:!n[0],$$slots:{default:[Zt]},$$scope:{ctx:n}}}),I=new ve({props:{_for:"description",$$slots:{default:[xt]},$$scope:{ctx:n}}});function Ee(C){n[24](C)}function pe(C){n[25](C)}let se={id:"description",name:"description",placeholder:tn};return n[8]!==void 0&&(se.value=n[8]),n[5]!==void 0&&(se._this=n[5]),S=new Se({props:se}),J.push(()=>oe(S,"value",Ee)),J.push(()=>oe(S,"_this",pe)),S.$on("keydown",n[14]),{c(){e=D(),t=k("button"),t.innerHTML=l,a=D(),s=k("div"),z(i.$$.fragment),f=D(),r=k("div"),z(u.$$.fragment),d=D(),o=k("form"),v=k("div"),z(g.$$.fragment),w=D(),h=k("input"),F=D(),V=k("p"),Y=Q(n[9]),B=D(),b=k("div"),z(I.$$.fragment),j=D(),z(S.$$.fragment),ie=D(),G=k("button"),G.textContent=he,this.h()},l(C){e=N(C),t=T(C,"BUTTON",{class:!0,"data-svelte-h":!0}),be(t)!=="svelte-t1it6n"&&(t.innerHTML=l),a=N(C),s=T(C,"DIV",{class:!0});var A=M(s);U(i.$$.fragment,A),f=N(A),r=T(A,"DIV",{class:!0});var ee=M(r);U(u.$$.fragment,ee),d=N(ee),o=T(ee,"FORM",{class:!0});var W=M(o);v=T(W,"DIV",{class:!0});var le=M(v);U(g.$$.fragment,le),w=N(le),h=T(le,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),F=N(le),V=T(le,"P",{class:!0});var fe=M(V);Y=Z(fe,n[9]),fe.forEach(m),le.forEach(m),B=N(W),b=T(W,"DIV",{class:!0});var te=M(b);U(I.$$.fragment,te),j=N(te),U(S.$$.fragment,te),te.forEach(m),ie=N(W),G=T(W,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),be(G)!=="svelte-35eee"&&(G.textContent=he),W.forEach(m),ee.forEach(m),A.forEach(m),this.h()},h(){c(t,"class","button-add svelte-96cbj4"),c(h,"type","text"),c(h,"id","name"),c(h,"name","name"),c(h,"class",P=we(n[0]?"input-name-validation-failed":"input-name")+" svelte-96cbj4"),c(h,"placeholder",O=n[0]?"":"Example: Rwanda Mabanza"),c(V,"class","mt-2 text-sm text-red-600 dark:text-red-500"),c(v,"class","mb-5"),c(b,"class","my-div mb-5 svelte-96cbj4"),c(G,"type","submit"),c(G,"class","button-submit svelte-96cbj4"),c(o,"class","max-w-sm mx-auto"),c(r,"class","inner-container svelte-96cbj4"),c(s,"class","modal-container svelte-96cbj4"),Ae(s,"show-modal",n[1])},m(C,A){$(C,e,A),$(C,t,A),n[20](t),$(C,a,A),$(C,s,A),K(i,s,null),p(s,f),p(s,r),K(u,r,null),p(r,d),p(r,o),p(o,v),K(g,v,null),p(v,w),p(v,h),re(h,n[7]),n[23](h),p(v,F),p(v,V),p(V,Y),p(o,B),p(o,b),K(I,b,null),p(b,j),K(S,b,null),p(o,ie),p(o,G),n[26](o),n[27](r),E=!0,ne||(x=[X(window,"keydown",n[12]),X(document,"click",n[17]),X(t,"click",Ke(n[19])),X(h,"input",n[22]),X(h,"input",n[16]),X(h,"keydown",n[13]),X(o,"submit",Ke(n[15]))],ne=!0)},p(C,[A]){const ee={};A&268435456&&(ee.$$scope={dirty:A,ctx:C}),u.$set(ee);const W={};A&1&&(W.valid=!C[0]),A&268435456&&(W.$$scope={dirty:A,ctx:C}),g.$set(W),(!E||A&1&&P!==(P=we(C[0]?"input-name-validation-failed":"input-name")+" svelte-96cbj4"))&&c(h,"class",P),(!E||A&1&&O!==(O=C[0]?"":"Example: Rwanda Mabanza"))&&c(h,"placeholder",O),A&128&&h.value!==C[7]&&re(h,C[7]),(!E||A&512)&&Ve(Y,C[9]);const le={};A&268435456&&(le.$$scope={dirty:A,ctx:C}),I.$set(le);const fe={};!ae&&A&256&&(ae=!0,fe.value=C[8],ue(()=>ae=!1)),!ce&&A&32&&(ce=!0,fe._this=C[5],ue(()=>ce=!1)),S.$set(fe),(!E||A&2)&&Ae(s,"show-modal",C[1])},i(C){E||(y(i.$$.fragment,C),y(u.$$.fragment,C),y(g.$$.fragment,C),y(I.$$.fragment,C),y(S.$$.fragment,C),E=!0)},o(C){R(i.$$.fragment,C),R(u.$$.fragment,C),R(g.$$.fragment,C),R(I.$$.fragment,C),R(S.$$.fragment,C),E=!1},d(C){C&&(m(e),m(t),m(a),m(s)),n[20](null),q(i),q(u),q(g),n[23](null),q(I),q(S),n[26](null),n[27](null),ne=!1,Le(x)}}}const tn="Example: Washed process. Notes: plum, cherry.";function it(n,e){const t=n.getBoundingClientRect();let l=e.clientX,a=e.clientY;return l<t.left||l>t.right||a<t.top||a>t.bottom}function nn(n,e,t){let{savedCoffeeBeans:l=void 0}=e,a=!1,s,i,f,r,u,d="",o="",v=!1,g="";function w(){t(1,a=!0),Ct().then(()=>{f.focus()})}function h(){t(1,a=!1),t(0,v=!1)}function P(E){a&&E.key==="Escape"&&t(1,a=!1)}function O(E){E.key==="Enter"&&(E.preventDefault(),r.focus())}function F(E){E.key==="Enter"&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),u.requestSubmit())}async function V(E){const ne=Pt.create({name:d,description:o});if(ne==="ValidationFailed_NameMustBeAtLeast3CharsLong"){t(0,v=!0),t(9,g="Name must be at least 3 characters long.");return}const x=await Ot(ne);if(x==="Failure_NameAlreadyExist"){t(0,v=!0),t(9,g="Coffee beans with this name exist already.");return}alert("New coffee beans saved successfully."),t(18,l=x),h(),t(7,d=""),t(8,o="")}function Y(E){v&&(t(0,v=!1),t(9,g=""))}function B(E){a!==!1&&it(s,E)&&it(i,E)&&h()}const b=()=>w();function I(E){J[E?"unshift":"push"](()=>{i=E,t(3,i)})}const j=()=>h();function S(){d=this.value,t(7,d)}function ae(E){J[E?"unshift":"push"](()=>{f=E,t(4,f)})}function ce(E){o=E,t(8,o)}function ie(E){r=E,t(5,r)}function G(E){J[E?"unshift":"push"](()=>{u=E,t(6,u)})}function he(E){J[E?"unshift":"push"](()=>{s=E,t(2,s)})}return n.$$set=E=>{"savedCoffeeBeans"in E&&t(18,l=E.savedCoffeeBeans)},n.$$.update=()=>{n.$$.dirty&1&&v===!1&&t(9,g="")},[v,a,s,i,f,r,u,d,o,g,w,h,P,O,F,V,Y,B,l,b,I,j,S,ae,ce,ie,G,he]}class sn extends me{constructor(e){super(),_e(this,e,nn,en,de,{savedCoffeeBeans:18})}}function rt(n,e,t){const l=n.slice();return l[10]=e[t],l}function ln(n){let e;return{c(){e=Q("Coffee beans:")},l(t){e=Z(t,"Coffee beans:")},m(t,l){$(t,e,l)},d(t){t&&m(e)}}}function an(n){let e,t="Loading coffee beans...";return{c(){e=k("option"),e.textContent=t,this.h()},l(l){e=T(l,"OPTION",{"data-svelte-h":!0}),be(e)!=="svelte-1sf778f"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",re(e,e.__value)},m(l,a){$(l,e,a)},p:ge,d(l){l&&m(e)}}}function rn(n){let e,t,l=n[5]&&ft(),a=st(n[2]),s=[];for(let i=0;i<a.length;i+=1)s[i]=ut(rt(n,a,i));return{c(){l&&l.c(),e=Oe();for(let i=0;i<s.length;i+=1)s[i].c();t=Oe()},l(i){l&&l.l(i),e=Oe();for(let f=0;f<s.length;f+=1)s[f].l(i);t=Oe()},m(i,f){l&&l.m(i,f),$(i,e,f);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(i,f);$(i,t,f)},p(i,f){if(i[5]?l||(l=ft(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&5){a=st(i[2]);let r;for(r=0;r<a.length;r+=1){const u=rt(i,a,r);s[r]?s[r].p(u,f):(s[r]=ut(u),s[r].c(),s[r].m(t.parentNode,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},d(i){i&&(m(e),m(t)),l&&l.d(i),$t(s,i)}}}function ft(n){let e;return{c(){e=k("option"),this.h()},l(t){e=T(t,"OPTION",{}),M(e).forEach(m),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",re(e,e.__value)},m(t,l){$(t,e,l)},d(t){t&&m(e)}}}function ut(n){let e,t=n[10].name+"",l,a,s;return{c(){e=k("option"),l=Q(t),this.h()},l(i){e=T(i,"OPTION",{});var f=M(e);l=Z(f,t),f.forEach(m),this.h()},h(){var i;e.selected=a=((i=n[0])==null?void 0:i.id)===n[10].id,e.__value=s=n[10].id,re(e,e.__value)},m(i,f){$(i,e,f),p(e,l)},p(i,f){var r;f&4&&t!==(t=i[10].name+"")&&Ve(l,t),f&5&&a!==(a=((r=i[0])==null?void 0:r.id)===i[10].id)&&(e.selected=a),f&4&&s!==(s=i[10].id)&&(e.__value=s,re(e,e.__value))},d(i){i&&m(e)}}}function fn(n){let e,t,l,a,s,i,f,r,u,d,o,v,g,w,h,P;t=new ve({props:{_for:Fe,valid:!n[1],$$slots:{default:[ln]},$$scope:{ctx:n}}});function O(b,I){return b[2]!==void 0?rn:an}let F=O(n),V=F(n);function Y(b){n[9](b)}let B={};return n[4]!==void 0&&(B.savedCoffeeBeans=n[4]),u=new sn({props:B}),J.push(()=>oe(u,"savedCoffeeBeans",Y)),{c(){e=k("div"),z(t.$$.fragment),l=D(),a=k("div"),s=k("select"),V.c(),r=D(),z(u.$$.fragment),o=D(),v=k("p"),g=Q(n[6]),this.h()},l(b){e=T(b,"DIV",{class:!0});var I=M(e);U(t.$$.fragment,I),l=N(I),a=T(I,"DIV",{class:!0});var j=M(a);s=T(j,"SELECT",{name:!0,id:!0,class:!0});var S=M(s);V.l(S),S.forEach(m),r=N(j),U(u.$$.fragment,j),j.forEach(m),I.forEach(m),o=N(b),v=T(b,"P",{class:!0});var ae=M(v);g=Z(ae,n[6]),ae.forEach(m),this.h()},h(){c(s,"name",Fe),c(s,"id",Fe),c(s,"class",i=we(n[1]?"invalid":"valid")+" svelte-cut39x"),s.disabled=f=n[2]===void 0,n[3]===void 0&&kt(()=>n[8].call(s)),c(a,"class","select-container svelte-cut39x"),c(e,"class","container svelte-cut39x"),c(v,"class","mt-2 text-sm text-red-600 dark:text-red-500")},m(b,I){$(b,e,I),K(t,e,null),p(e,l),p(e,a),p(a,s),V.m(s,null),nt(s,n[3],!0),p(a,r),K(u,a,null),$(b,o,I),$(b,v,I),p(v,g),w=!0,h||(P=[X(s,"change",n[7]),X(s,"change",n[8])],h=!0)},p(b,[I]){const j={};I&2&&(j.valid=!b[1]),I&8192&&(j.$$scope={dirty:I,ctx:b}),t.$set(j),F===(F=O(b))&&V?V.p(b,I):(V.d(1),V=F(b),V&&(V.c(),V.m(s,null))),(!w||I&2&&i!==(i=we(b[1]?"invalid":"valid")+" svelte-cut39x"))&&c(s,"class",i),(!w||I&4&&f!==(f=b[2]===void 0))&&(s.disabled=f),I&12&&nt(s,b[3]);const S={};!d&&I&16&&(d=!0,S.savedCoffeeBeans=b[4],ue(()=>d=!1)),u.$set(S),(!w||I&64)&&Ve(g,b[6])},i(b){w||(y(t.$$.fragment,b),y(u.$$.fragment,b),w=!0)},o(b){R(t.$$.fragment,b),R(u.$$.fragment,b),w=!1},d(b){b&&(m(e),m(o),m(v)),q(t),V.d(),q(u),h=!1,Le(P)}}}const Fe="coffee-beans";function un(n,e,t){let{allCoffeeBeans:l}=e,{selectedCoffeeBeans:a}=e,{validationFailed:s=!1}=e,i,f=a==null?void 0:a.id,r,u="";function d(g){s&&t(1,s=!1),t(5,i=!1),t(4,r=void 0)}function o(){f=It(this),t(3,f),t(2,l)}function v(g){r=g,t(4,r)}return n.$$set=g=>{"allCoffeeBeans"in g&&t(2,l=g.allCoffeeBeans),"selectedCoffeeBeans"in g&&t(0,a=g.selectedCoffeeBeans),"validationFailed"in g&&t(1,s=g.validationFailed)},n.$$.update=()=>{n.$$.dirty&12&&t(0,a=l==null?void 0:l.find(g=>g.id===f)),n.$$.dirty&20&&r instanceof St&&((l==null?void 0:l.find(g=>g.id===(r==null?void 0:r.id)))===void 0&&(l==null||l.push(r)),t(0,a=r),t(1,s=!1)),n.$$.dirty&1&&t(5,i=a===void 0),n.$$.dirty&2&&(s?t(6,u="Please select a coffee beans."):t(6,u=""))},[a,s,l,f,r,i,u,d,o,v]}class on extends me{constructor(e){super(),_e(this,e,un,fn,de,{allCoffeeBeans:2,selectedCoffeeBeans:0,validationFailed:1})}}function cn(n){let e;return{c(){e=Q("Timestamp:")},l(t){e=Z(t,"Timestamp:")},m(t,l){$(t,e,l)},d(t){t&&m(e)}}}function dn(n){let e,t,l,a,s,i,f;return t=new ve({props:{_for:je,$$slots:{default:[cn]},$$scope:{ctx:n}}}),{c(){e=k("div"),z(t.$$.fragment),l=D(),a=k("input"),this.h()},l(r){e=T(r,"DIV",{class:!0});var u=M(e);U(t.$$.fragment,u),l=N(u),a=T(u,"INPUT",{name:!0,id:!0,type:!0,class:!0}),u.forEach(m),this.h()},h(){c(a,"name",je),c(a,"id",je),c(a,"type","datetime-local"),c(a,"class","svelte-12fyfgt"),c(e,"class","container svelte-12fyfgt")},m(r,u){$(r,e,u),K(t,e,null),p(e,l),p(e,a),re(a,n[0]),s=!0,i||(f=X(a,"input",n[1]),i=!0)},p(r,[u]){const d={};u&4&&(d.$$scope={dirty:u,ctx:r}),t.$set(d),u&1&&re(a,r[0])},i(r){s||(y(t.$$.fragment,r),s=!0)},o(r){R(t.$$.fragment,r),s=!1},d(r){r&&m(e),q(t),i=!1,f()}}}const je="timestamp";function mn(n,e,t){let{value:l}=e;function a(){l=this.value,t(0,l)}return n.$$set=s=>{"value"in s&&t(0,l=s.value)},[l,a]}class _n extends me{constructor(e){super(),_e(this,e,mn,dn,de,{value:0})}}function ot(n){const e=n.getTimezoneOffset()*6e4;return new Date(n.getTime()-e).toISOString().slice(0,-8)}function hn(n){const e=Date.parse(n);return new Date(e)}function pn(n){let e=ye.recipe.recipeTarget+"",t,l;return{c(){t=Q(e),l=Q(":")},l(a){t=Z(a,e),l=Z(a,":")},m(a,s){$(a,t,s),$(a,l,s)},p:ge,d(a){a&&(m(t),m(l))}}}function vn(n){let e=ye.recipe.recipeResult+"",t,l;return{c(){t=Q(e),l=Q(":")},l(a){t=Z(a,e),l=Z(a,":")},m(a,s){$(a,t,s),$(a,l,s)},p:ge,d(a){a&&(m(t),m(l))}}}function gn(n){let e=ye.recipe.recipeThoughts+"",t,l;return{c(){t=Q(e),l=Q(":")},l(a){t=Z(a,e),l=Z(a,":")},m(a,s){$(a,t,s),$(a,l,s)},p:ge,d(a){a&&(m(t),m(l))}}}function bn(n){let e,t,l="Add recipe",a,s,i,f,r,u,d,o,v,g,w,h,P,O,F,V,Y,B,b,I,j,S,ae,ce,ie,G,he,E,ne,x,Ee,pe,se,C,A,ee,W,le,fe,te,Ge="Save",Pe,Re,We;function ht(_){n[10](_)}let Xe={allCoffeeBeans:n[0],validationFailed:n[2]};n[1]!==void 0&&(Xe.selectedCoffeeBeans=n[1]),f=new on({props:Xe}),J.push(()=>oe(f,"selectedCoffeeBeans",ht)),o=new ve({props:{_for:He,$$slots:{default:[pn]},$$scope:{ctx:n}}});function pt(_){n[11](_)}let Ye={name:He,id:He,placeholder:wn};n[3]!==void 0&&(Ye.value=n[3]),w=new Se({props:Ye}),J.push(()=>oe(w,"value",pt)),F=new ve({props:{_for:ze,$$slots:{default:[vn]},$$scope:{ctx:n}}});function vt(_){n[12](_)}let Je={name:ze,id:ze,placeholder:En};n[4]!==void 0&&(Je.value=n[4]),B=new Se({props:Je}),J.push(()=>oe(B,"value",vt));function gt(_){n[13](_)}let Qe={labelText:ye.recipe.outWeight+" (g):",min:0,step:5,nameAttr:"out-weight"};n[6]!==void 0&&(Qe.value=n[6]),S=new lt({props:Qe}),J.push(()=>oe(S,"value",gt));function bt(_){n[14](_)}let Ze={labelText:"Rating:",min:0,max:5,step:.5,nameAttr:"rating"};n[7]!==void 0&&(Ze.value=n[7]),G=new lt({props:Ze}),J.push(()=>oe(G,"value",bt)),x=new ve({props:{_for:Ue,$$slots:{default:[gn]},$$scope:{ctx:n}}});function wt(_){n[15](_)}let xe={name:Ue,id:Ue,placeholder:Cn};n[5]!==void 0&&(xe.value=n[5]),se=new Se({props:xe}),J.push(()=>oe(se,"value",wt));function Et(_){n[16](_)}let et={};return n[8]!==void 0&&(et.value=n[8]),W=new _n({props:et}),J.push(()=>oe(W,"value",Et)),{c(){e=D(),t=k("h1"),t.textContent=l,a=D(),s=k("form"),i=k("div"),z(f.$$.fragment),u=D(),d=k("div"),z(o.$$.fragment),v=D(),g=k("div"),z(w.$$.fragment),P=D(),O=k("div"),z(F.$$.fragment),V=D(),Y=k("div"),z(B.$$.fragment),I=D(),j=k("div"),z(S.$$.fragment),ce=D(),ie=k("div"),z(G.$$.fragment),E=D(),ne=k("div"),z(x.$$.fragment),Ee=D(),pe=k("div"),z(se.$$.fragment),A=D(),ee=k("div"),z(W.$$.fragment),fe=D(),te=k("button"),te.textContent=Ge,this.h()},l(_){Dt("svelte-1rtnd68",document.head).forEach(m),e=N(_),t=T(_,"H1",{class:!0,"data-svelte-h":!0}),be(t)!=="svelte-jnfgxb"&&(t.textContent=l),a=N(_),s=T(_,"FORM",{id:!0});var L=M(s);i=T(L,"DIV",{class:!0});var Ce=M(i);U(f.$$.fragment,Ce),Ce.forEach(m),u=N(L),d=T(L,"DIV",{class:!0});var ke=M(d);U(o.$$.fragment,ke),ke.forEach(m),v=N(L),g=T(L,"DIV",{class:!0});var Te=M(g);U(w.$$.fragment,Te),Te.forEach(m),P=N(L),O=T(L,"DIV",{class:!0});var Be=M(O);U(F.$$.fragment,Be),Be.forEach(m),V=N(L),Y=T(L,"DIV",{class:!0});var Ie=M(Y);U(B.$$.fragment,Ie),Ie.forEach(m),I=N(L),j=T(L,"DIV",{class:!0});var $e=M(j);U(S.$$.fragment,$e),$e.forEach(m),ce=N(L),ie=T(L,"DIV",{class:!0});var De=M(ie);U(G.$$.fragment,De),De.forEach(m),E=N(L),ne=T(L,"DIV",{class:!0});var Ne=M(ne);U(x.$$.fragment,Ne),Ne.forEach(m),Ee=N(L),pe=T(L,"DIV",{class:!0});var Me=M(pe);U(se.$$.fragment,Me),Me.forEach(m),A=N(L),ee=T(L,"DIV",{class:!0});var tt=M(ee);U(W.$$.fragment,tt),tt.forEach(m),fe=N(L),te=T(L,"BUTTON",{type:!0,form:!0,class:!0,"data-svelte-h":!0}),be(te)!=="svelte-1jtz69h"&&(te.textContent=Ge),L.forEach(m),this.h()},h(){document.title="Add recipe",c(t,"class","svelte-1ncgbfn"),c(i,"class","svelte-1ncgbfn"),c(d,"class","svelte-1ncgbfn"),c(g,"class","svelte-1ncgbfn"),c(O,"class","svelte-1ncgbfn"),c(Y,"class","svelte-1ncgbfn"),c(j,"class","svelte-1ncgbfn"),c(ie,"class","svelte-1ncgbfn"),c(ne,"class","svelte-1ncgbfn"),c(pe,"class","svelte-1ncgbfn"),c(ee,"class","svelte-1ncgbfn"),c(te,"type","submit"),c(te,"form","add-recipe"),c(te,"class","my-button svelte-1ncgbfn"),c(s,"id","add-recipe")},m(_,H){$(_,e,H),$(_,t,H),$(_,a,H),$(_,s,H),p(s,i),K(f,i,null),p(s,u),p(s,d),K(o,d,null),p(s,v),p(s,g),K(w,g,null),p(s,P),p(s,O),K(F,O,null),p(s,V),p(s,Y),K(B,Y,null),p(s,I),p(s,j),K(S,j,null),p(s,ce),p(s,ie),K(G,ie,null),p(s,E),p(s,ne),K(x,ne,null),p(s,Ee),p(s,pe),K(se,pe,null),p(s,A),p(s,ee),K(W,ee,null),p(s,fe),p(s,te),Pe=!0,Re||(We=X(s,"submit",Ke(n[9])),Re=!0)},p(_,[H]){const L={};H&1&&(L.allCoffeeBeans=_[0]),H&4&&(L.validationFailed=_[2]),!r&&H&2&&(r=!0,L.selectedCoffeeBeans=_[1],ue(()=>r=!1)),f.$set(L);const Ce={};H&2097152&&(Ce.$$scope={dirty:H,ctx:_}),o.$set(Ce);const ke={};!h&&H&8&&(h=!0,ke.value=_[3],ue(()=>h=!1)),w.$set(ke);const Te={};H&2097152&&(Te.$$scope={dirty:H,ctx:_}),F.$set(Te);const Be={};!b&&H&16&&(b=!0,Be.value=_[4],ue(()=>b=!1)),B.$set(Be);const Ie={};!ae&&H&64&&(ae=!0,Ie.value=_[6],ue(()=>ae=!1)),S.$set(Ie);const $e={};!he&&H&128&&(he=!0,$e.value=_[7],ue(()=>he=!1)),G.$set($e);const De={};H&2097152&&(De.$$scope={dirty:H,ctx:_}),x.$set(De);const Ne={};!C&&H&32&&(C=!0,Ne.value=_[5],ue(()=>C=!1)),se.$set(Ne);const Me={};!le&&H&256&&(le=!0,Me.value=_[8],ue(()=>le=!1)),W.$set(Me)},i(_){Pe||(y(f.$$.fragment,_),y(o.$$.fragment,_),y(w.$$.fragment,_),y(F.$$.fragment,_),y(B.$$.fragment,_),y(S.$$.fragment,_),y(G.$$.fragment,_),y(x.$$.fragment,_),y(se.$$.fragment,_),y(W.$$.fragment,_),Pe=!0)},o(_){R(f.$$.fragment,_),R(o.$$.fragment,_),R(w.$$.fragment,_),R(F.$$.fragment,_),R(B.$$.fragment,_),R(S.$$.fragment,_),R(G.$$.fragment,_),R(x.$$.fragment,_),R(se.$$.fragment,_),R(W.$$.fragment,_),Pe=!1},d(_){_&&(m(e),m(t),m(a),m(s)),q(f),q(o),q(w),q(F),q(B),q(S),q(G),q(x),q(se),q(W),Re=!1,We()}}}const He="recipe-plan",wn="Example: 17 clicks, 15g + 260g. 5m boil.",ze="recipe-result",En="Example: 2m15s + 15s drip. 250g out.",Ue="recipe-opinion",Cn="Example: Perfect balance. Perfect concentration. Flowery notes.";function kn(n,e,t){let l;Tt(n,Mt,B=>t(17,l=B)),l.data.coffeeBeansName;let a,s,i=!1,f,r,u,d,o,v=ot(new Date);Bt(()=>{At().then(B=>{t(0,a=B)}),t(8,v=ot(new Date))});async function g(B){if(s===void 0){t(2,i=!0);return}f==null&&t(3,f=""),t(3,f=f.trim()),r==null&&t(4,r=""),t(4,r=r.trim()),u==null&&t(5,u=""),t(5,u=u.trim());const b=hn(v);if(s===void 0)throw new Error("Please select the coffee beans.");const I={coffeeBeansId:s.id,recipeTarget:f,recipeResult:r,recipeThoughts:u,outWeight:d,rating:o,timestamp:b};await Lt(I),Nt("/")}function w(B){s=B,t(1,s)}function h(B){f=B,t(3,f)}function P(B){r=B,t(4,r)}function O(B){d=B,t(6,d)}function F(B){o=B,t(7,o)}function V(B){u=B,t(5,u)}function Y(B){v=B,t(8,v)}return[a,s,i,f,r,u,d,o,v,g,w,h,P,O,F,V,Y]}class Sn extends me{constructor(e){super(),_e(this,e,kn,bn,de,{})}}export{Sn as component,On as universal};
