import{s as q,o as L,n as E}from"../chunks/scheduler.FewvdMMF.js";import{S as M,i as O,s as w,k as d,l as j,d as _,f as R,m as h,g,n as b,o as $,p as D,q as u,r as k,t as F,b as H,u as I,v as P,w as T}from"../chunks/index.Czz-Se56.js";import{e as C}from"../chunks/each.WAMKkCCB.js";import{g as z,a as G}from"../chunks/indexedDB.DSM7SfQo.js";import{A as J,s as K}from"../chunks/NoItemsYetP.I_dZVXBA.js";import{r as v}from"../chunks/routes.oDD19Cll.js";import{S as Q,R as U}from"../chunks/SortRecipesSelect.3w3ZFPG5.js";import{L as V}from"../chunks/Loading.SseRikTI.js";import{A as W}from"../chunks/AddDemoCoffeeBeans_PageBlock.lzqPJFib.js";import{P as X}from"../chunks/PageHeadline.eGc9cHDC.js";function S(i,t,n){const e=i.slice();return e[4]=t[n],e}function Y(i){let t;return{c(){t=F("Recipes")},l(n){t=H(n,"Recipes")},m(n,e){g(n,t,e)},d(n){n&&_(t)}}}function Z(i){let t,n,e,s;t=new Q({props:{onChange:i[1],pageName:"all_recipes"}});let f=C(i[0]),a=[];for(let r=0;r<f.length;r+=1)a[r]=y(S(i,f,r));const p=r=>$(a[r],1,1,()=>{a[r]=null});return{c(){d(t.$$.fragment),n=w();for(let r=0;r<a.length;r+=1)a[r].c();e=P()},l(r){h(t.$$.fragment,r),n=R(r);for(let c=0;c<a.length;c+=1)a[c].l(r);e=P()},m(r,c){b(t,r,c),g(r,n,c);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,c);g(r,e,c),s=!0},p(r,c){if(c&1){f=C(r[0]);let l;for(l=0;l<f.length;l+=1){const B=S(r,f,l);a[l]?(a[l].p(B,c),u(a[l],1)):(a[l]=y(B),a[l].c(),u(a[l],1),a[l].m(e.parentNode,e))}for(I(),l=f.length;l<a.length;l+=1)p(l);D()}},i(r){if(!s){u(t.$$.fragment,r);for(let c=0;c<f.length;c+=1)u(a[c]);s=!0}},o(r){$(t.$$.fragment,r),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)$(a[c]);s=!1},d(r){r&&(_(n),_(e)),k(t,r),T(a,r)}}}function x(i){let t,n;return t=new W({props:{onAddDemoEntities:i[3]}}),{c(){d(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,s){b(t,e,s),n=!0},p:E,i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function ee(i){let t,n;return t=new V({}),{c(){d(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,s){b(t,e,s),n=!0},p:E,i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function y(i){let t,n;return t=new U({props:{coffeeBeansName:i[4].coffeeBeansName,href:v.recipeItem(i[4].id),recipe:i[4]}}),{c(){d(t.$$.fragment)},l(e){h(t.$$.fragment,e)},m(e,s){b(t,e,s),n=!0},p(e,s){const f={};s&1&&(f.coffeeBeansName=e[4].coffeeBeansName),s&1&&(f.href=v.recipeItem(e[4].id)),s&1&&(f.recipe=e[4]),t.$set(f)},i(e){n||(u(t.$$.fragment,e),n=!0)},o(e){$(t.$$.fragment,e),n=!1},d(e){k(t,e)}}}function te(i){let t,n,e,s,f,a,p,r;n=new X({props:{$$slots:{default:[Y]},$$scope:{ctx:i}}});const c=[ee,x,Z],l=[];function B(o,m){return o[0]===void 0?0:o[0].length===0?1:2}return s=B(i),f=l[s]=c[s](i),p=new J({props:{href:v.addRecipe()}}),{c(){t=w(),d(n.$$.fragment),e=w(),f.c(),a=w(),d(p.$$.fragment),this.h()},l(o){j("svelte-t7jrhh",document.head).forEach(_),t=R(o),h(n.$$.fragment,o),e=R(o),f.l(o),a=R(o),h(p.$$.fragment,o),this.h()},h(){document.title="Pour over recipes - PourOverPotato app"},m(o,m){g(o,t,m),b(n,o,m),g(o,e,m),l[s].m(o,m),g(o,a,m),b(p,o,m),r=!0},p(o,[m]){const A={};m&128&&(A.$$scope={dirty:m,ctx:o}),n.$set(A);let N=s;s=B(o),s===N?l[s].p(o,m):(I(),$(l[N],1,1,()=>{l[N]=null}),D(),f=l[s],f?f.p(o,m):(f=l[s]=c[s](o),f.c()),u(f,1),f.m(a.parentNode,a))},i(o){r||(u(n.$$.fragment,o),u(f),u(p.$$.fragment,o),r=!0)},o(o){$(n.$$.fragment,o),$(f),$(p.$$.fragment,o),r=!1},d(o){o&&(_(t),_(e),_(a)),k(n,o),l[s].d(o),k(p,o)}}}function re(i,t,n){let e;L(()=>{f()});function s(p,r){n(0,e=e.sort(r))}async function f(){const p=await z(),r=new Map;p.forEach(c=>r.set(c.id,c.name)),n(0,e=(await G()).sort(K).map(c=>({...c,coffeeBeansName:r.get(c.coffeeBeansId)??""})))}return[e,s,f,()=>f()]}class ue extends M{constructor(t){super(),O(this,t,re,te,q,{})}}export{ue as component};
