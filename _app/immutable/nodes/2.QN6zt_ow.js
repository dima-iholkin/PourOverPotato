import{s as q,a as J,u as K,g as Q,b as U,o as W,n as V}from"../chunks/scheduler.FewvdMMF.js";import{S as H,i as L,k as g,m as b,n as k,q as d,o as h,r as C,e as A,s as v,t as B,c as E,a as I,d as p,f as w,b as y,x as R,g as _,h as P,j as D,l as X,p as z,u as G,v as S}from"../chunks/index.Czz-Se56.js";import{e as N,u as Y,o as Z}from"../chunks/each.WAMKkCCB.js";import{g as x,k as ee}from"../chunks/indexedDB.DSM7SfQo.js";import{C as te,A as se,s as ne,a as re}from"../chunks/NoItemsYetP.I_dZVXBA.js";import{r as T}from"../chunks/routes.oDD19Cll.js";import{F as ae}from"../chunks/FlexRow.dGmwZcxd.js";import{L as oe}from"../chunks/Loading.SseRikTI.js";import{A as le}from"../chunks/AddDemoCoffeeBeans_PageBlock.lzqPJFib.js";import{P as fe}from"../chunks/PageHeadline.eGc9cHDC.js";function ie(f){let e,s=f[0].name+"",t,r,n,l,u,c=f[1]===1?"recipe":"recipes",o;return{c(){e=A("h5"),t=B(s),r=v(),n=A("p"),l=B(f[1]),u=v(),o=B(c),this.h()},l(a){e=E(a,"H5",{class:!0});var m=I(e);t=y(m,s),m.forEach(p),r=w(a),n=E(a,"P",{class:!0});var i=I(n);l=y(i,f[1]),u=w(i),o=y(i,c),i.forEach(p),this.h()},h(){R(e,"class","svelte-hw40yk"),R(n,"class","recipes-count svelte-hw40yk")},m(a,m){_(a,e,m),P(e,t),_(a,r,m),_(a,n,m),P(n,l),P(n,u),P(n,o)},p(a,m){m&1&&s!==(s=a[0].name+"")&&D(t,s),m&2&&D(l,a[1]),m&2&&c!==(c=a[1]===1?"recipe":"recipes")&&D(o,c)},d(a){a&&(p(e),p(r),p(n))}}}function ce(f){let e,s,t,r,n=f[0].description+"",l,u;return s=new ae({props:{$$slots:{default:[ie]},$$scope:{ctx:f}}}),{c(){e=A("div"),g(s.$$.fragment),t=v(),r=A("p"),l=B(n),this.h()},l(c){e=E(c,"DIV",{class:!0});var o=I(e);b(s.$$.fragment,o),o.forEach(p),t=w(c),r=E(c,"P",{class:!0});var a=I(r);l=y(a,n),a.forEach(p),this.h()},h(){R(e,"class","flex-row svelte-hw40yk"),R(r,"class","content svelte-hw40yk")},m(c,o){_(c,e,o),k(s,e,null),_(c,t,o),_(c,r,o),P(r,l),u=!0},p(c,o){const a={};o&11&&(a.$$scope={dirty:o,ctx:c}),s.$set(a),(!u||o&1)&&n!==(n=c[0].description+"")&&D(l,n)},i(c){u||(d(s.$$.fragment,c),u=!0)},o(c){h(s.$$.fragment,c),u=!1},d(c){c&&(p(e),p(t),p(r)),C(s)}}}function ue(f){let e,s;return e=new te({props:{href:f[2],$$slots:{default:[ce]},$$scope:{ctx:f}}}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){k(e,t,r),s=!0},p(t,[r]){const n={};r&4&&(n.href=t[2]),r&11&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function me(f,e,s){let{item:t}=e,{recipeCount:r=0}=e,{href:n}=e;return f.$$set=l=>{"item"in l&&s(0,t=l.item),"recipeCount"in l&&s(1,r=l.recipeCount),"href"in l&&s(2,n=l.href)},[t,r,n]}class pe extends H{constructor(e){super(),L(this,e,me,ue,q,{item:0,recipeCount:1,href:2})}}function _e(f){let e,s;const t=f[1].default,r=J(t,f,f[0],null);return{c(){e=A("p"),r&&r.c(),this.h()},l(n){e=E(n,"P",{class:!0});var l=I(e);r&&r.l(l),l.forEach(p),this.h()},h(){R(e,"class","svelte-72hp0w")},m(n,l){_(n,e,l),r&&r.m(e,null),s=!0},p(n,[l]){r&&r.p&&(!s||l&1)&&K(r,t,n,n[0],s?U(t,n[0],l,null):Q(n[0]),null)},i(n){s||(d(r,n),s=!0)},o(n){h(r,n),s=!1},d(n){n&&p(e),r&&r.d(n)}}}function $e(f,e,s){let{$$slots:t={},$$scope:r}=e;return f.$$set=n=>{"$$scope"in n&&s(0,r=n.$$scope)},[r,t]}class de extends H{constructor(e){super(),L(this,e,$e,_e,q,{})}}function j(f,e,s){const t=f.slice();return t[3]=e[s],t}function he(f){let e;return{c(){e=B("Coffee beans")},l(s){e=y(s,"Coffee beans")},m(s,t){_(s,e,t)},d(s){s&&p(e)}}}function ge(f){let e,s,t=[],r=new Map,n,l;e=new de({props:{$$slots:{default:[Ce]},$$scope:{ctx:f}}});let u=N(f[0]);const c=o=>o[3].id;for(let o=0;o<u.length;o+=1){let a=j(f,u,o),m=c(a);r.set(m,t[o]=O(m,a))}return{c(){g(e.$$.fragment),s=v();for(let o=0;o<t.length;o+=1)t[o].c();n=S()},l(o){b(e.$$.fragment,o),s=w(o);for(let a=0;a<t.length;a+=1)t[a].l(o);n=S()},m(o,a){k(e,o,a),_(o,s,a);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(o,a);_(o,n,a),l=!0},p(o,a){const m={};a&64&&(m.$$scope={dirty:a,ctx:o}),e.$set(m),a&1&&(u=N(o[0]),G(),t=Y(t,a,c,1,o,u,r,n.parentNode,Z,O,n,j),z())},i(o){if(!l){d(e.$$.fragment,o);for(let a=0;a<u.length;a+=1)d(t[a]);l=!0}},o(o){h(e.$$.fragment,o);for(let a=0;a<t.length;a+=1)h(t[a]);l=!1},d(o){o&&(p(s),p(n)),C(e,o);for(let a=0;a<t.length;a+=1)t[a].d(o)}}}function be(f){let e,s;return e=new le({props:{onAddDemoEntities:f[2]}}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){k(e,t,r),s=!0},p:V,i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function ke(f){let e,s;return e=new oe({}),{c(){g(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,r){k(e,t,r),s=!0},p:V,i(t){s||(d(e.$$.fragment,t),s=!0)},o(t){h(e.$$.fragment,t),s=!1},d(t){C(e,t)}}}function Ce(f){let e;return{c(){e=B("Sorted by latest recipe date")},l(s){e=y(s,"Sorted by latest recipe date")},m(s,t){_(s,e,t)},d(s){s&&p(e)}}}function O(f,e){let s,t,r;return t=new pe({props:{href:T.coffeeBeansItem(e[3].name),item:e[3],recipeCount:e[3].recipeCount}}),{key:f,first:null,c(){s=S(),g(t.$$.fragment),this.h()},l(n){s=S(),b(t.$$.fragment,n),this.h()},h(){this.first=s},m(n,l){_(n,s,l),k(t,n,l),r=!0},p(n,l){e=n;const u={};l&1&&(u.href=T.coffeeBeansItem(e[3].name)),l&1&&(u.item=e[3]),l&1&&(u.recipeCount=e[3].recipeCount),t.$set(u)},i(n){r||(d(t.$$.fragment,n),r=!0)},o(n){h(t.$$.fragment,n),r=!1},d(n){n&&p(s),C(t,n)}}}function ve(f){let e,s,t,r,n,l,u,c;s=new fe({props:{$$slots:{default:[he]},$$scope:{ctx:f}}});const o=[ke,be,ge],a=[];function m(i,$){return i[0]===void 0?0:i[0].length===0?1:2}return r=m(f),n=a[r]=o[r](f),u=new se({props:{href:T.addRecipe()}}),{c(){e=v(),g(s.$$.fragment),t=v(),n.c(),l=v(),g(u.$$.fragment),this.h()},l(i){X("svelte-n9a09p",document.head).forEach(p),e=w(i),b(s.$$.fragment,i),t=w(i),n.l(i),l=w(i),b(u.$$.fragment,i),this.h()},h(){document.title="PourOverPotato app"},m(i,$){_(i,e,$),k(s,i,$),_(i,t,$),a[r].m(i,$),_(i,l,$),k(u,i,$),c=!0},p(i,[$]){const M={};$&64&&(M.$$scope={dirty:$,ctx:i}),s.$set(M);let F=r;r=m(i),r===F?a[r].p(i,$):(G(),h(a[F],1,1,()=>{a[F]=null}),z(),n=a[r],n?n.p(i,$):(n=a[r]=o[r](i),n.c()),d(n,1),n.m(l.parentNode,l))},i(i){c||(d(s.$$.fragment,i),d(n),d(u.$$.fragment,i),c=!0)},o(i){h(s.$$.fragment,i),h(n),h(u.$$.fragment,i),c=!1},d(i){i&&(p(e),p(t),p(l)),C(s,i),a[r].d(i),C(u,i)}}}function we(f,e,s){let t;W(()=>{r()});async function r(){const l=await x(),u=await Promise.all(l.map(async c=>{const o=await ee(c.id);return{...c,recipeCount:o.length,latestRecipeTimestamp:o.length>0?o.sort(ne)[0].timestamp:void 0}}));s(0,t=u.sort(re))}return[t,r,()=>r()]}class Te extends H{constructor(e){super(),L(this,e,we,ve,q,{})}}export{Te as component};
