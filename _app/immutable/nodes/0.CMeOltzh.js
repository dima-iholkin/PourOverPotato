import{n as F,l as Mt,k as Ct,B as mt,s as H,d as at,u as rt,g as lt,e as ot,h as It,o as it,j as Ut,C as Et,c as ut,b as X,a as dt,r as Bt,t as Ot}from"../chunks/scheduler.Cw1-ZcKD.js";import{K as Vt,L as xt,M as qt,N as Lt,S as K,i as z,e as k,s as E,t as Nt,c as w,a as x,y as j,f as B,b as At,d as v,z as _,g as U,h as y,A as J,j as Pt,q as T,o as D,k as N,m as A,n as P,r as G,u as ct,p as ft,O as Gt,P as Rt,C as V,v as pt,E as gt}from"../chunks/index.DHsbL8_X.js";import{e as ht,u as Ft,k as jt,a as Ht}from"../chunks/manageCoffeeBeans.CzXUSSc2.js";import{b as Kt}from"../chunks/paths.CxR98vOY.js";import{p as tt}from"../chunks/stores.BRxvSw0C.js";import{r as S}from"../chunks/routes.9lc0K48O.js";import{g as st}from"../chunks/entry.Bs1kKzkN.js";import{M as zt,a as _t}from"../chunks/Modal.BB0JMoLD.js";import{a as Yt}from"../chunks/dateHelpers.DtGJLfnR.js";import{v as Zt}from"../chunks/manageData.CJixKmjg.js";function Wt(a,t,e,n){if(!t)return F;const s=a.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return F;const{delay:r=0,duration:u=300,easing:o=Mt,start:l=Vt()+r,end:i=l+u,tick:h=F,css:$}=e(a,{from:t,to:s},n);let d=!0,b=!1,f;function g(){$&&(f=qt(a,0,1,u,r,o,$)),r||(b=!0)}function p(){$&&Lt(a,f),d=!1}return xt(m=>{if(!b&&m>=l&&(b=!0),b&&m>=i&&(h(1,0),p()),!d)return!1;if(b){const M=m-l,q=0+1*o(M/u);h(q,1-q)}return!0}),g(),h(0,1),p}function Jt(a){const t=getComputedStyle(a);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:n}=t,s=a.getBoundingClientRect();a.style.position="absolute",a.style.width=e,a.style.height=n,St(a,s)}}function St(a,t){const e=a.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const n=getComputedStyle(a),s=n.transform==="none"?"":n.transform;a.style.transform=`${s} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function Tt(a){const t=a-1;return t*t*t+1}function Qt(a,{from:t,to:e},n={}){const s=getComputedStyle(a),r=s.transform==="none"?"":s.transform,[u,o]=s.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*u/e.width-(e.left+u),i=t.top+t.height*o/e.height-(e.top+o),{delay:h=0,duration:$=b=>Math.sqrt(b)*120,easing:d=Tt}=n;return{delay:h,duration:Ct($)?$(Math.sqrt(l*l+i*i)):$,easing:d,css:(b,f)=>{const g=f*l,p=f*i,m=b+f*t.width/e.width,M=b+f*t.height/e.height;return`transform: ${r} translate(${g}px, ${p}px) scale(${m}, ${M});`}}}function $t(a,{delay:t=0,duration:e=400,easing:n=Tt,x:s=0,y:r=0,opacity:u=0}={}){const o=getComputedStyle(a),l=+o.opacity,i=o.transform==="none"?"":o.transform,h=l*(1-u),[$,d]=mt(s),[b,f]=mt(r);return{delay:t,duration:e,easing:n,css:(g,p)=>`
			transform: ${i} translate(${(1-g)*$}${d}, ${(1-g)*b}${f});
			opacity: ${l-h*p}`}}const Xt=a=>({}),vt=a=>({});function te(a){let t,e,n='<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"></path></svg> <span class="sr-only">Check icon</span>',s,r,u,o,l,i,h='<span class="sr-only">Close</span> <svg class="w-3 h-3" fill="none" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',$,d,b;const f=a[2].button,g=at(f,a,a[1],vt);return{c(){t=k("div"),e=k("div"),e.innerHTML=n,s=E(),r=k("div"),u=Nt(a[0]),o=E(),g&&g.c(),l=E(),i=k("button"),i.innerHTML=h,this.h()},l(p){t=w(p,"DIV",{class:!0,role:!0});var m=x(t);e=w(m,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1f6f1j5"&&(e.innerHTML=n),s=B(m),r=w(m,"DIV",{id:!0,class:!0});var M=x(r);u=At(M,a[0]),M.forEach(v),o=B(m),g&&g.l(m),l=B(m),i=w(m,"BUTTON",{class:!0,"data-dismiss-target":!0,type:!0,"aria-label":!0,"data-svelte-h":!0}),j(i)!=="svelte-hr0026"&&(i.innerHTML=h),m.forEach(v),this.h()},h(){_(e,"class","inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200"),_(r,"id","toast-content"),_(r,"class","text-base font-normal svelte-1lholb5"),_(i,"class","my-close-button ms-auto -mx-1.5 -my-1.5 bg-gray-200 text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-300 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700 svelte-1lholb5"),_(i,"data-dismiss-target","#toast-success"),_(i,"type","button"),_(i,"aria-label","Close"),_(t,"class","my-toast flex items-center max-w-xl p-4 bg-gray-100 rounded-lg shadow dark:text-gray-400 dark:bg-gray-800 svelte-1lholb5"),_(t,"role","alert")},m(p,m){U(p,t,m),y(t,e),y(t,s),y(t,r),y(r,u),y(t,o),g&&g.m(t,null),y(t,l),y(t,i),$=!0,d||(b=J(i,"click",a[3]),d=!0)},p(p,[m]){(!$||m&1)&&Pt(u,p[0]),g&&g.p&&(!$||m&2)&&rt(g,f,p,p[1],$?ot(f,p[1],m,Xt):lt(p[1]),vt)},i(p){$||(T(g,p),$=!0)},o(p){D(g,p),$=!1},d(p){p&&v(t),g&&g.d(p),d=!1,b()}}}function ee(a,t,e){let{$$slots:n={},$$scope:s}=t,{message:r}=t;function u(o){It.call(this,a,o)}return a.$$set=o=>{"message"in o&&e(0,r=o.message),"$$scope"in o&&e(1,s=o.$$scope)},[r,s,n,u]}class Dt extends K{constructor(t){super(),z(this,t,ee,te,H,{message:0})}}function ne(a){let t,e="Undo",n,s;return{c(){t=k("button"),t.textContent=e,this.h()},l(r){t=w(r,"BUTTON",{slot:!0,type:!0,"aria-label":!0,class:!0,"data-svelte-h":!0}),j(t)!=="svelte-j5y622"&&(t.textContent=e),this.h()},h(){_(t,"slot","button"),_(t,"type","button"),_(t,"aria-label","Close"),_(t,"class","svelte-piy52p")},m(r,u){U(r,t,u),n||(s=J(t,"click",function(){Ct(a[0])&&a[0].apply(this,arguments)}),n=!0)},p(r,u){a=r},d(r){r&&v(t),n=!1,s()}}}function se(a){let t,e;return t=new Dt({props:{message:a[1],$$slots:{button:[ne]},$$scope:{ctx:a}}}),t.$on("click",a[2]),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,s){P(t,n,s),e=!0},p(n,[s]){const r={};s&2&&(r.message=n[1]),s&9&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){D(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function ae(a,t,e){let{onClickUndo:n}=t,{message:s}=t;function r(u){It.call(this,a,u)}return a.$$set=u=>{"onClickUndo"in u&&e(0,n=u.onClickUndo),"message"in u&&e(1,s=u.message)},[n,s,r]}class re extends K{constructor(t){super(),z(this,t,ae,se,H,{onClickUndo:0,message:1})}}function bt(a,t,e){const n=a.slice();return n[6]=t[e],n}function le(a){let t,e;function n(){return a[4](a[6])}function s(){return a[5](a[6])}return t=new re({props:{message:a[6].message,onClickUndo:n}}),t.$on("click",s),{c(){N(t.$$.fragment)},l(r){A(t.$$.fragment,r)},m(r,u){P(t,r,u),e=!0},p(r,u){a=r;const o={};u&1&&(o.message=a[6].message),u&1&&(o.onClickUndo=n),t.$set(o)},i(r){e||(T(t.$$.fragment,r),e=!0)},o(r){D(t.$$.fragment,r),e=!1},d(r){G(t,r)}}}function oe(a){let t,e;function n(){return a[3](a[6])}return t=new Dt({props:{message:a[6].message}}),t.$on("click",n),{c(){N(t.$$.fragment)},l(s){A(t.$$.fragment,s)},m(s,r){P(t,s,r),e=!0},p(s,r){a=s;const u={};r&1&&(u.message=a[6].message),t.$set(u)},i(s){e||(T(t.$$.fragment,s),e=!0)},o(s){D(t.$$.fragment,s),e=!1},d(s){G(t,s)}}}function yt(a,t){let e,n,s,r,u,o,l,i=F,h;const $=[oe,le],d=[];function b(f,g){return f[6].onClickUndo===void 0?0:1}return n=b(t),s=d[n]=$[n](t),{key:a,first:null,c(){e=k("div"),s.c(),r=E(),this.h()},l(f){e=w(f,"DIV",{class:!0});var g=x(e);s.l(g),r=B(g),g.forEach(v),this.h()},h(){_(e,"class","toast-wrapper"),this.first=e},m(f,g){U(f,e,g),d[n].m(e,null),y(e,r),h=!0},p(f,g){t=f;let p=n;n=b(t),n===p?d[n].p(t,g):(ct(),D(d[p],1,1,()=>{d[p]=null}),ft(),s=d[n],s?s.p(t,g):(s=d[n]=$[n](t),s.c()),T(s,1),s.m(e,r))},r(){l=e.getBoundingClientRect()},f(){Jt(e),i(),St(e,l)},a(){i(),i=Wt(e,l,Qt,{})},i(f){h||(T(s),f&&Ut(()=>{h&&(o&&o.end(1),u=Gt(e,$t,{y:100}),u.start())}),h=!0)},o(f){D(s),u&&u.invalidate(),f&&(o=Rt(e,$t,{x:100})),h=!1},d(f){f&&v(e),d[n].d(),f&&o&&o.end()}}}function ie(a){let t,e=[],n=new Map,s,r=ht(a[0]);const u=o=>o[6].timestamp;for(let o=0;o<r.length;o+=1){let l=bt(a,r,o),i=u(l);n.set(i,e[o]=yt(i,l))}return{c(){t=k("div");for(let o=0;o<e.length;o+=1)e[o].c();this.h()},l(o){t=w(o,"DIV",{id:!0,class:!0});var l=x(t);for(let i=0;i<e.length;i+=1)e[i].l(l);l.forEach(v),this.h()},h(){_(t,"id","toast-provider"),_(t,"class","svelte-14kneb2")},m(o,l){U(o,t,l);for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(t,null);s=!0},p(o,[l]){if(l&7){r=ht(o[0]),ct();for(let i=0;i<e.length;i+=1)e[i].r();e=Ft(e,l,u,1,o,r,n,t,jt,yt,null,bt);for(let i=0;i<e.length;i+=1)e[i].a();ft()}},i(o){if(!s){for(let l=0;l<r.length;l+=1)T(e[l]);s=!0}},o(o){for(let l=0;l<e.length;l+=1)D(e[l]);s=!1},d(o){o&&v(t);for(let l=0;l<e.length;l+=1)e[l].d()}}}function ue(a,t,e){let n=[];it(()=>{document.addEventListener("addToast",i=>{const h=Date.now(),$={message:i.detail.message,timeout:i.detail.timeout,timestamp:h,onClickUndo:i.detail.onClickUndo,onUndoIgnored:i.detail.onUndoIgnored};n.push($),e(0,n),setTimeout(()=>{r($)},$.timeout)})});function s(i){i.onUndoIgnored&&(i.onUndoIgnored=void 0),r(i),i.onClickUndo&&i.onClickUndo()}function r(i){i.onUndoIgnored&&i.onUndoIgnored();const h=n.findIndex($=>$.timestamp===i.timestamp);h!==-1&&(n.splice(h,1),e(0,n))}return[n,s,r,i=>r(i),i=>s(i),i=>r(i)]}class ce extends K{constructor(t){super(),z(this,t,ue,ie,H,{})}}const fe=""+new URL("../assets/coffee-beans-icon.B8jMyzaG.png",import.meta.url).href;function me(a){let t,e="dashboard";return{c(){t=k("span"),t.textContent=e,this.h()},l(n){t=w(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-uhkmif"&&(t.textContent=e),this.h()},h(){_(t,"class","material-icons")},m(n,s){U(n,t,s)},p:F,i:F,o:F,d(n){n&&v(t)}}}class de extends K{constructor(t){super(),z(this,t,null,me,H,{})}}function pe(a){let t,e,n,s,r='<span class="material-icons recipes-icon svelte-d12lmw" style="padding: 2px 0;">content_copy</span> <span class="svelte-d12lmw">Recipes</span>',u,o,l,i,h,$,d,b="Coffee beans",f,g,p,m,M,q,Y="Other",L;return m=new de({}),{c(){t=k("div"),e=k("div"),n=k("a"),s=k("button"),s.innerHTML=r,u=E(),o=k("a"),l=k("button"),i=k("img"),$=E(),d=k("span"),d.textContent=b,f=E(),g=k("a"),p=k("button"),N(m.$$.fragment),M=E(),q=k("span"),q.textContent=Y,this.h()},l(I){t=w(I,"DIV",{class:!0});var O=x(t);e=w(O,"DIV",{class:!0});var Z=x(e);n=w(Z,"A",{href:!0});var R=x(n);s=w(R,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1olslb5"&&(s.innerHTML=r),R.forEach(v),u=B(Z),o=w(Z,"A",{href:!0});var c=x(o);l=w(c,"BUTTON",{type:!0,class:!0});var C=x(l);i=w(C,"IMG",{src:!0,alt:!0,class:!0}),$=B(C),d=w(C,"SPAN",{class:!0,"data-svelte-h":!0}),j(d)!=="svelte-yc6fjb"&&(d.textContent=b),C.forEach(v),c.forEach(v),f=B(Z),g=w(Z,"A",{href:!0});var W=x(g);p=w(W,"BUTTON",{type:!0,class:!0});var Q=x(p);A(m.$$.fragment,Q),M=B(Q),q=w(Q,"SPAN",{class:!0,"data-svelte-h":!0}),j(q)!=="svelte-700qdn"&&(q.textContent=Y),Q.forEach(v),W.forEach(v),Z.forEach(v),O.forEach(v),this.h()},h(){_(s,"type","button"),_(s,"class","svelte-d12lmw"),V(s,"active",a[2]===S.recipes),_(n,"href",S.recipes),Et(i.src,h=fe)||_(i,"src",h),_(i,"alt","A coffee beans icon"),_(i,"class","svelte-d12lmw"),V(i,"active-img",a[2]===S.home),_(d,"class","svelte-d12lmw"),V(d,"active",a[2]===S.home),_(l,"type","button"),_(l,"class","svelte-d12lmw"),V(l,"active",a[2]===S.home),_(o,"href",S.home),_(q,"class","svelte-d12lmw"),V(q,"active",a[2]===S.other),_(p,"type","button"),_(p,"class","svelte-d12lmw"),V(p,"active",a[2]===S.other),_(g,"href",S.other),_(e,"class","grid h-full max-w-lg grid-cols-3 mx-auto font-medium"),_(t,"class","bottom-nav svelte-d12lmw"),V(t,"as-gap",a[0]),V(t,"bottom-nav-static",a[1].url.pathname===S.addRecipe()||a[1].url.pathname.substring(0,a[1].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},m(I,O){U(I,t,O),y(t,e),y(e,n),y(n,s),y(e,u),y(e,o),y(o,l),y(l,i),y(l,$),y(l,d),y(e,f),y(e,g),y(g,p),P(m,p,null),y(p,M),y(p,q),L=!0},p(I,[O]){(!L||O&4)&&V(s,"active",I[2]===S.recipes),(!L||O&4)&&V(i,"active-img",I[2]===S.home),(!L||O&4)&&V(d,"active",I[2]===S.home),(!L||O&4)&&V(l,"active",I[2]===S.home),(!L||O&4)&&V(q,"active",I[2]===S.other),(!L||O&4)&&V(p,"active",I[2]===S.other),(!L||O&1)&&V(t,"as-gap",I[0]),(!L||O&2)&&V(t,"bottom-nav-static",I[1].url.pathname===S.addRecipe()||I[1].url.pathname.substring(0,I[1].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},i(I){L||(T(m.$$.fragment,I),L=!0)},o(I){D(m.$$.fragment,I),L=!1},d(I){I&&v(t),G(m)}}}function ge(a,t,e){let n,s;ut(a,tt,u=>e(1,s=u));let{asGap:r=!1}=t;return a.$$set=u=>{"asGap"in u&&e(0,r=u.asGap)},a.$$.update=()=>{a.$$.dirty&2&&e(2,n=Kt+s.route.id)},[r,s,n]}class kt extends K{constructor(t){super(),z(this,t,ge,pe,H,{asGap:0})}}function he(a){let t,e="arrow_back";return{c(){t=k("span"),t.textContent=e,this.h()},l(n){t=w(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-12vjxfs"&&(t.textContent=e),this.h()},h(){_(t,"class","material-icons md-24")},m(n,s){U(n,t,s)},p:F,i:F,o:F,d(n){n&&v(t)}}}class _e extends K{constructor(t){super(),z(this,t,null,he,H,{})}}function $e(a){let t,e="favorite_border";return{c(){t=k("span"),t.textContent=e,this.h()},l(n){t=w(n,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-teydos"&&(t.textContent=e),this.h()},h(){_(t,"class","material-icons md-24 svelte-1c6h8fp")},m(n,s){U(n,t,s)},p:F,i:F,o:F,d(n){n&&v(t)}}}class ve extends K{constructor(t){super(),z(this,t,null,$e,H,{})}}function be(a){let t,e;return t=new ve({}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,s){P(t,n,s),e=!0},p:F,i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){D(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function ye(a){let t,e,n,s,r;return e=new _e({}),{c(){t=k("button"),N(e.$$.fragment),this.h()},l(u){t=w(u,"BUTTON",{class:!0});var o=x(t);A(e.$$.fragment,o),o.forEach(v),this.h()},h(){_(t,"class","vertical-center-children svelte-f8vatc")},m(u,o){U(u,t,o),P(e,t,null),n=!0,s||(r=J(t,"click",a[3]),s=!0)},p:F,i(u){n||(T(e.$$.fragment,u),n=!0)},o(u){D(e.$$.fragment,u),n=!1},d(u){u&&v(t),G(e),s=!1,r()}}}function ke(a){let t,e,n,s,r,u,o,l,i='<div class="logo-container svelte-f8vatc"><span class="text-2xl font-semibold whitespace-nowrap dark:text-white svelte-f8vatc">PourOverPotato</span> <p class="sublogo svelte-f8vatc">Save your best recipes for later use</p></div>',h;const $=[ye,be],d=[];function b(f,g){return f[1]!==S.home?0:1}return r=b(a),u=d[r]=$[r](a),{c(){t=k("nav"),e=k("div"),n=k("div"),s=k("div"),u.c(),o=E(),l=k("a"),l.innerHTML=i,this.h()},l(f){t=w(f,"NAV",{class:!0});var g=x(t);e=w(g,"DIV",{class:!0});var p=x(e);n=w(p,"DIV",{class:!0});var m=x(n);s=w(m,"DIV",{class:!0});var M=x(s);u.l(M),M.forEach(v),o=B(m),l=w(m,"A",{href:!0,"data-svelte-h":!0}),j(l)!=="svelte-1wmgnn8"&&(l.innerHTML=i),m.forEach(v),p.forEach(v),g.forEach(v),this.h()},h(){_(s,"class","icon-button vertical-center-children svelte-f8vatc"),_(l,"href",S.home),_(n,"class","left-nav-side vertical-center-children svelte-f8vatc"),_(e,"class","flex flex-wrap items-center justify-between mx-auto p-4"),_(t,"class","svelte-f8vatc"),V(t,"as-gap",a[0]),V(t,"nav-static",a[2].url.pathname===S.addRecipe()||a[2].url.pathname.substring(0,a[2].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},m(f,g){U(f,t,g),y(t,e),y(e,n),y(n,s),d[r].m(s,null),y(n,o),y(n,l),h=!0},p(f,[g]){let p=r;r=b(f),r===p?d[r].p(f,g):(ct(),D(d[p],1,1,()=>{d[p]=null}),ft(),u=d[r],u?u.p(f,g):(u=d[r]=$[r](f),u.c()),T(u,1),u.m(s,null)),(!h||g&1)&&V(t,"as-gap",f[0]),(!h||g&4)&&V(t,"nav-static",f[2].url.pathname===S.addRecipe()||f[2].url.pathname.substring(0,f[2].url.pathname.lastIndexOf("/")+1)+1===S.recipeItem(1))},i(f){h||(T(u),h=!0)},o(f){D(u),h=!1},d(f){f&&v(t),d[r].d()}}}function we(a,t,e){let n;ut(a,tt,o=>e(2,n=o));let{asGap:s=!1}=t,r=S.home;tt.subscribe(o=>{e(1,r=o.url.pathname)});function u(){history.length===0?st(S.home,{replaceState:!0}):history.back()}return a.$$set=o=>{"asGap"in o&&e(0,s=o.asGap)},[s,r,n,u]}class wt extends K{constructor(t){super(),z(this,t,we,ke,H,{asGap:0})}}function Ce(a){let t,e=`<p class="svelte-1qp1gq4">Please try turning persistent storage ON in your browser, it will make your data relatively safe from a browser
      eviction.</p>`,n,s,r,u="Enable persistent storage",o,l,i="Cancel",h,$;return{c(){t=k("div"),t.innerHTML=e,n=E(),s=k("div"),r=k("button"),r.textContent=u,o=E(),l=k("button"),l.textContent=i,this.h()},l(d){t=w(d,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1ekvqww"&&(t.innerHTML=e),n=B(d),s=w(d,"DIV",{class:!0});var b=x(s);r=w(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(r)!=="svelte-19r4dnf"&&(r.textContent=u),o=B(b),l=w(b,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(l)!=="svelte-8x4blm"&&(l.textContent=i),b.forEach(v),this.h()},h(){_(t,"class","text-container svelte-1qp1gq4"),_(r,"class","enable svelte-1qp1gq4"),_(r,"type","button"),_(l,"class","cancel svelte-1qp1gq4"),_(l,"type","button"),_(s,"class","buttons-container svelte-1qp1gq4")},m(d,b){U(d,t,b),U(d,n,b),U(d,s,b),y(s,r),a[7](r),y(s,o),y(s,l),a[8](l),h||($=[J(r,"click",a[4]),J(l,"click",a[9]),J(l,"keydown",a[6])],h=!0)},p:F,d(d){d&&(v(t),v(n),v(s)),a[7](null),a[8](null),h=!1,Bt($)}}}function Ie(a){let t,e,n,s;function r(l){a[11](l)}function u(l){a[12](l)}let o={onFocusReverse:a[10],onStateChange:a[5],title:"Persistent storage not enabled",$$slots:{default:[Ce]},$$scope:{ctx:a}};return a[1]!==void 0&&(o.setFocus=a[1]),a[0]!==void 0&&(o.setState=a[0]),t=new zt({props:o}),X.push(()=>pt(t,"setFocus",r)),X.push(()=>pt(t,"setState",u)),{c(){N(t.$$.fragment)},l(l){A(t.$$.fragment,l)},m(l,i){P(t,l,i),s=!0},p(l,[i]){const h={};i&4&&(h.onFocusReverse=l[10]),i&16397&&(h.$$scope={dirty:i,ctx:l}),!e&&i&2&&(e=!0,h.setFocus=l[1],dt(()=>e=!1)),!n&&i&1&&(n=!0,h.setState=l[0],dt(()=>n=!1)),t.$set(h)},i(l){s||(T(t.$$.fragment,l),s=!0)},o(l){D(t.$$.fragment,l),s=!1},d(l){G(t,l)}}}const et="persistentStorageCheckDate";function Se(a,t,e){let n;ut(a,tt,m=>e(13,n=m));let s,r,u,o;it(async()=>{await navigator.storage.persisted()===!1&&(localStorage.getItem(et)===null||localStorage.getItem(et)!==new Date().toDateString())&&await Ht()&&(localStorage.setItem(et,new Date().toDateString()),s("open"))});async function l(){if(await navigator.storage.persist()==!1)alert("Sorry, your browser refused to enable persistent storage. It means your data is still at risk of being evicted at any moment by the browser. Try using Firefox browser, it seems to be the only browser to allow enabling persistent storage always.");else{s("closed"),Yt("Persistent storage enabled.");const M=n.url.pathname;st(S.home).then(()=>st(M))}}function i(m){m==="open"&&Ot().then(()=>{o.focus()})}function h(m){m.key==="Tab"&&m.shiftKey===!1&&(m.preventDefault(),r())}function $(m){X[m?"unshift":"push"](()=>{o=m,e(3,o)})}function d(m){X[m?"unshift":"push"](()=>{u=m,e(2,u)})}const b=()=>s("closed"),f=()=>u.focus();function g(m){r=m,e(1,r)}function p(m){s=m,e(0,s)}return[s,r,u,o,l,i,h,$,d,b,f,g,p]}class Te extends K{constructor(t){super(),z(this,t,Se,Ie,H,{})}}function De(){for(let a=0;a<localStorage.length;a++){const t=localStorage.key(a);t!=null&&t.startsWith("sortOrder_")&&t!=="sortOrder_recipes"&&localStorage.removeItem(t)}}const nt="vacuum_last_date";function Me(a){it(()=>{t()});async function t(){const e=localStorage.getItem(nt);if(e===null){localStorage.setItem(nt,new Date().toDateString());return}const n=new Date(e),r=new Date().getTime()-n.getTime();Math.floor(r/(1e3*3600*24))<1||(De(),await Zt(),localStorage.setItem(nt,new Date().toDateString()),console.log("Vacuum finished."))}return[]}class Ue extends K{constructor(t){super(),z(this,t,Me,null,H,{})}}function Ee(a){let t,e,n,s,r,u,o,l,i,h,$,d,b,f,g,p,m,M,q,Y,L,I,O;t=new wt({}),n=new wt({props:{asGap:!0}}),r=new _t({}),l=new _t({props:{asGap:!0}});const Z=a[1].default,R=at(Z,a,a[0],null);return f=new kt({props:{asGap:!0}}),p=new kt({}),M=new ce({}),Y=new Te({}),I=new Ue({}),{c(){N(t.$$.fragment),e=E(),N(n.$$.fragment),s=E(),N(r.$$.fragment),u=E(),o=k("div"),N(l.$$.fragment),i=E(),h=k("div"),R&&R.c(),$=E(),d=k("div"),b=E(),N(f.$$.fragment),g=E(),N(p.$$.fragment),m=E(),N(M.$$.fragment),q=E(),N(Y.$$.fragment),L=E(),N(I.$$.fragment),this.h()},l(c){A(t.$$.fragment,c),e=B(c),A(n.$$.fragment,c),s=B(c),A(r.$$.fragment,c),u=B(c),o=w(c,"DIV",{id:!0,style:!0});var C=x(o);A(l.$$.fragment,C),i=B(C),h=w(C,"DIV",{class:!0});var W=x(h);R&&R.l(W),$=B(W),d=w(W,"DIV",{class:!0}),x(d).forEach(v),W.forEach(v),C.forEach(v),b=B(c),A(f.$$.fragment,c),g=B(c),A(p.$$.fragment,c),m=B(c),A(M.$$.fragment,c),q=B(c),A(Y.$$.fragment,c),L=B(c),A(I.$$.fragment,c),this.h()},h(){_(d,"class","bottom-gap svelte-1ruqigr"),_(h,"class","page-container svelte-1ruqigr"),_(o,"id","content"),gt(o,"display","flex"),gt(o,"flex-direction","row")},m(c,C){P(t,c,C),U(c,e,C),P(n,c,C),U(c,s,C),P(r,c,C),U(c,u,C),U(c,o,C),P(l,o,null),y(o,i),y(o,h),R&&R.m(h,null),y(h,$),y(h,d),U(c,b,C),P(f,c,C),U(c,g,C),P(p,c,C),U(c,m,C),P(M,c,C),U(c,q,C),P(Y,c,C),U(c,L,C),P(I,c,C),O=!0},p(c,[C]){R&&R.p&&(!O||C&1)&&rt(R,Z,c,c[0],O?ot(Z,c[0],C,null):lt(c[0]),null)},i(c){O||(T(t.$$.fragment,c),T(n.$$.fragment,c),T(r.$$.fragment,c),T(l.$$.fragment,c),T(R,c),T(f.$$.fragment,c),T(p.$$.fragment,c),T(M.$$.fragment,c),T(Y.$$.fragment,c),T(I.$$.fragment,c),O=!0)},o(c){D(t.$$.fragment,c),D(n.$$.fragment,c),D(r.$$.fragment,c),D(l.$$.fragment,c),D(R,c),D(f.$$.fragment,c),D(p.$$.fragment,c),D(M.$$.fragment,c),D(Y.$$.fragment,c),D(I.$$.fragment,c),O=!1},d(c){c&&(v(e),v(s),v(u),v(o),v(b),v(g),v(m),v(q),v(L)),G(t,c),G(n,c),G(r,c),G(l),R&&R.d(c),G(f,c),G(p,c),G(M,c),G(Y,c),G(I,c)}}}function Be(a,t,e){let{$$slots:n={},$$scope:s}=t;return a.$$set=r=>{"$$scope"in r&&e(0,s=r.$$scope)},[s,n]}class Oe extends K{constructor(t){super(),z(this,t,Be,Ee,H,{})}}function Ve(a){let t;const e=a[0].default,n=at(e,a,a[1],null);return{c(){n&&n.c()},l(s){n&&n.l(s)},m(s,r){n&&n.m(s,r),t=!0},p(s,r){n&&n.p&&(!t||r&2)&&rt(n,e,s,s[1],t?ot(e,s[1],r,null):lt(s[1]),null)},i(s){t||(T(n,s),t=!0)},o(s){D(n,s),t=!1},d(s){n&&n.d(s)}}}function xe(a){let t,e;return t=new Oe({props:{$$slots:{default:[Ve]},$$scope:{ctx:a}}}),{c(){N(t.$$.fragment)},l(n){A(t.$$.fragment,n)},m(n,s){P(t,n,s),e=!0},p(n,[s]){const r={};s&2&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){D(t.$$.fragment,n),e=!1},d(n){G(t,n)}}}function qe(a,t,e){let{$$slots:n={},$$scope:s}=t;return a.$$set=r=>{"$$scope"in r&&e(1,s=r.$$scope)},[n,s]}class ze extends K{constructor(t){super(),z(this,t,qe,xe,H,{})}}export{ze as component};
