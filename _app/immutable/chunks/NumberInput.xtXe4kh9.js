import{s as ee,d as X,e as Z,f as x,r as ie,p as be,n as ve}from"./scheduler.QZKnv3vM.js";import{S as te,i as ne,y as $,k as j,m as q,n as z,q as L,o as H,r as K,e as B,s as P,t as G,c as T,a as I,f as F,b as J,d as k,z as Q,x as _,g as N,h as C,E as V,A,C as pe,j as ae,B as fe,I as ue,u as ge,p as ke,J as Ce,v as Y}from"./index.CHfITGLb.js";import{e as de,u as we,d as Se}from"./PageHeadline.dJVkQ42h.js";import{t as Me,q as Be}from"./indexedDB.QH3nYluv.js";import{L as le,T as Te}from"./Textarea.n51Q9fu7.js";import{M as Ee}from"./Modal.yr_jztVV.js";const xe={recipeTarget:"Example: 17 clicks, 15g + 260g filtered water.",recipeResult:"Example: 2m15s draw down + 15s drip.",recipeThoughts:"Example: Perfect balance. Perfect concentration. Flowery notes."};function ye(n){let e;return{c(){e=G("Coffee beans name:")},l(t){e=J(t,"Coffee beans name:")},m(t,l){N(t,e,l)},d(t){t&&k(e)}}}function Ne(n){let e,t,l,i,s,o,u,a,f,c,d,h,p,m,b,M,w,y="Save",g,v,S;l=new le({props:{for_:"name",valid:!n[0],$$slots:{default:[ye]},$$scope:{ctx:n}}});function D(r){n[18](r)}function R(r){n[19](r)}let U={id:"description",label:"Description:",name:"description",placeholder:Ae};return n[3]!==void 0&&(U.this_=n[3]),n[6]!==void 0&&(U.value=n[6]),p=new Te({props:U}),X.push(()=>$(p,"this_",D)),X.push(()=>$(p,"value",R)),p.$on("keydown",n[8]),{c(){e=B("form"),t=B("div"),j(l.$$.fragment),i=P(),s=B("input"),a=P(),f=B("p"),c=G(n[7]),d=P(),h=B("div"),j(p.$$.fragment),M=P(),w=B("button"),w.textContent=y,this.h()},l(r){e=T(r,"FORM",{class:!0});var E=I(e);t=T(E,"DIV",{class:!0});var O=I(t);q(l.$$.fragment,O),i=F(O),s=T(O,"INPUT",{id:!0,class:!0,name:!0,placeholder:!0,type:!0}),a=F(O),f=T(O,"P",{class:!0});var W=I(f);c=J(W,n[7]),W.forEach(k),O.forEach(k),d=F(E),h=T(E,"DIV",{class:!0});var re=I(h);q(p.$$.fragment,re),re.forEach(k),M=F(E),w=T(E,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Q(w)!=="svelte-j4uhei"&&(w.textContent=y),E.forEach(k),this.h()},h(){_(s,"id","name"),_(s,"class",o=x(n[0]?"input-name-validation-failed":"input-name")+" svelte-1x9a1uc"),_(s,"name","name"),_(s,"placeholder",u=n[0]?"":"Example: Rwanda Mabanza"),_(s,"type","text"),_(f,"class","mt-2 text-sm text-red-600 dark:text-red-500"),_(t,"class","mb-5"),_(h,"class","my-div mb-5 svelte-1x9a1uc"),_(w,"class","button-submit svelte-1x9a1uc"),_(w,"type","submit"),_(e,"class","mx-auto")},m(r,E){N(r,e,E),C(e,t),z(l,t,null),C(t,i),C(t,s),n[16](s),V(s,n[5]),C(t,a),C(t,f),C(f,c),C(e,d),C(e,h),z(p,h,null),C(e,M),C(e,w),n[20](e),g=!0,v||(S=[A(s,"input",n[17]),A(s,"input",n[10]),A(s,"keydown",n[9]),A(e,"submit",pe(n[11]))],v=!0)},p(r,E){const O={};E&1&&(O.valid=!r[0]),E&4194304&&(O.$$scope={dirty:E,ctx:r}),l.$set(O),(!g||E&1&&o!==(o=x(r[0]?"input-name-validation-failed":"input-name")+" svelte-1x9a1uc"))&&_(s,"class",o),(!g||E&1&&u!==(u=r[0]?"":"Example: Rwanda Mabanza"))&&_(s,"placeholder",u),E&32&&s.value!==r[5]&&V(s,r[5]),(!g||E&128)&&ae(c,r[7]);const W={};!m&&E&8&&(m=!0,W.this_=r[3],Z(()=>m=!1)),!b&&E&64&&(b=!0,W.value=r[6],Z(()=>b=!1)),p.$set(W)},i(r){g||(L(l.$$.fragment,r),L(p.$$.fragment,r),g=!0)},o(r){H(l.$$.fragment,r),H(p.$$.fragment,r),g=!1},d(r){r&&k(e),K(l),n[16](null),K(p),n[20](null),v=!1,ie(S)}}}function Ie(n){let e,t,l;function i(o){n[21](o)}let s={onStateChange:n[12],title:"Add new coffee beans",$$slots:{default:[Ne]},$$scope:{ctx:n}};return n[1]!==void 0&&(s.setState=n[1]),e=new Ee({props:s}),X.push(()=>$(e,"setState",i)),{c(){j(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,u){z(e,o,u),l=!0},p(o,[u]){const a={};u&4194557&&(a.$$scope={dirty:u,ctx:o}),!t&&u&2&&(t=!0,a.setState=o[1],Z(()=>t=!1)),e.$set(a)},i(o){l||(L(e.$$.fragment,o),l=!0)},o(o){H(e.$$.fragment,o),l=!1},d(o){K(e,o)}}}const Ae="Example: Washed process. Notes: plum, cherry.";function De(n,e,t){let{onModalStateChange:l=void 0}=e,{onSavedCoffeeBeans:i=void 0}=e;const s=r=>{o(r)};let o,u,a,f,c="",d="",h=!1,p="";function m(r){r.key==="Enter"&&(r.metaKey||r.ctrlKey)&&(r.preventDefault(),f.requestSubmit())}function b(r){r.key==="Enter"&&(r.preventDefault(),a.focus())}function M(){h&&(t(0,h=!1),t(7,p=""))}async function w(){const r=Me.create({name:c,description:d});if(r==="ValidationFailed_NameMustBeAtLeast3CharsLong"){t(0,h=!0),t(7,p="Name must be at least 3 characters long.");return}const E=await Be(r);if(E==="Failure_NameAlreadyExist"){t(0,h=!0),t(7,p="Coffee beans with this name exist already.");return}alert("Coffee beans saved."),i!==void 0&&i(E),o("closed"),t(5,c=""),t(6,d="")}function y(r){l!==void 0&&l(r)}function g(r){X[r?"unshift":"push"](()=>{u=r,t(2,u)})}function v(){c=this.value,t(5,c)}function S(r){a=r,t(3,a)}function D(r){d=r,t(6,d)}function R(r){X[r?"unshift":"push"](()=>{f=r,t(4,f)})}function U(r){o=r,t(1,o)}return n.$$set=r=>{"onModalStateChange"in r&&t(13,l=r.onModalStateChange),"onSavedCoffeeBeans"in r&&t(14,i=r.onSavedCoffeeBeans)},n.$$.update=()=>{n.$$.dirty&1&&h===!1&&t(7,p="")},[h,o,u,a,f,c,d,p,m,b,M,w,y,l,i,s,g,v,S,D,R,U]}class Pe extends te{constructor(e){super(),ne(this,e,De,Ie,ee,{onModalStateChange:13,onSavedCoffeeBeans:14,setModalState:15})}get setModalState(){return this.$$.ctx[15]}}function ce(n,e,t){const l=n.slice();return l[11]=e[t],l}function Fe(n){let e;return{c(){e=G("Coffee beans:")},l(t){e=J(t,"Coffee beans:")},m(t,l){N(t,e,l)},d(t){t&&k(e)}}}function Oe(n){let e,t="Loading coffee beans...";return{c(){e=B("option"),e.textContent=t,this.h()},l(l){e=T(l,"OPTION",{"data-svelte-h":!0}),Q(e)!=="svelte-1sf778f"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",V(e,e.__value)},m(l,i){N(l,e,i)},p:ve,d(l){l&&k(e)}}}function Le(n){let e,t=[],l=new Map,i,s=n[1]===void 0&&n[4]===!0&&me(),o=de(n[3]);const u=a=>a[11].id;for(let a=0;a<o.length;a+=1){let f=ce(n,o,a),c=u(f);l.set(c,t[a]=_e(c,f))}return{c(){s&&s.c(),e=Y();for(let a=0;a<t.length;a+=1)t[a].c();i=Y()},l(a){s&&s.l(a),e=Y();for(let f=0;f<t.length;f+=1)t[f].l(a);i=Y()},m(a,f){s&&s.m(a,f),N(a,e,f);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(a,f);N(a,i,f)},p(a,f){a[1]===void 0&&a[4]===!0?s||(s=me(),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),f&10&&(o=de(a[3]),t=we(t,f,u,1,a,o,l,i.parentNode,Se,_e,i,ce))},d(a){a&&(k(e),k(i)),s&&s.d(a);for(let f=0;f<t.length;f+=1)t[f].d(a)}}}function me(n){let e;return{c(){e=B("option"),this.h()},l(t){e=T(t,"OPTION",{}),I(e).forEach(k),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",V(e,e.__value)},m(t,l){N(t,e,l)},d(t){t&&k(e)}}}function _e(n,e){let t,l=e[11].name+"",i,s,o;return{key:n,first:null,c(){t=B("option"),i=G(l),this.h()},l(u){t=T(u,"OPTION",{});var a=I(t);i=J(a,l),a.forEach(k),this.h()},h(){t.selected=s=e[1]===e[11].id,t.__value=o=e[11].id,V(t,t.__value),this.first=t},m(u,a){N(u,t,a),C(t,i)},p(u,a){e=u,a&8&&l!==(l=e[11].name+"")&&ae(i,l),a&10&&s!==(s=e[1]===e[11].id)&&(t.selected=s),a&8&&o!==(o=e[11].id)&&(t.__value=o,V(t,t.__value))},d(u){u&&k(t)}}}function he(n){let e,t='<span class="material-icons md-18">add</span>',l,i,s,o,u,a;function f(d){n[10](d)}let c={onSavedCoffeeBeans:n[2]};return n[5]!==void 0&&(c.setModalState=n[5]),i=new Pe({props:c}),X.push(()=>$(i,"setModalState",f)),{c(){e=B("button"),e.innerHTML=t,l=P(),j(i.$$.fragment),this.h()},l(d){e=T(d,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-h0kid9"&&(e.innerHTML=t),l=F(d),q(i.$$.fragment,d),this.h()},h(){_(e,"class","button-add bg-green-500 text-white rounded-md px-4 py-2 hover:bg-green-700 transition svelte-147by23")},m(d,h){N(d,e,h),N(d,l,h),z(i,d,h),o=!0,u||(a=A(e,"click",pe(n[9])),u=!0)},p(d,h){const p={};h&4&&(p.onSavedCoffeeBeans=d[2]),!s&&h&32&&(s=!0,p.setModalState=d[5],Z(()=>s=!1)),i.$set(p)},i(d){o||(L(i.$$.fragment,d),o=!0)},o(d){H(i.$$.fragment,d),o=!1},d(d){d&&(k(e),k(l)),K(i,d),u=!1,a()}}}function Ve(n){let e,t,l,i,s,o,u,a,f,c,d,h,p,m,b;l=new le({props:{for_:se,valid:!n[0],$$slots:{default:[Fe]},$$scope:{ctx:n}}});function M(v,S){return v[3]!==void 0?Le:Oe}let w=M(n),y=w(n),g=n[4]&&he(n);return{c(){e=B("div"),t=B("div"),j(l.$$.fragment),i=P(),s=B("div"),o=B("select"),y.c(),f=P(),g&&g.c(),c=P(),d=B("p"),h=G(n[6]),this.h()},l(v){e=T(v,"DIV",{});var S=I(e);t=T(S,"DIV",{class:!0});var D=I(t);q(l.$$.fragment,D),i=F(D),s=T(D,"DIV",{class:!0});var R=I(s);o=T(R,"SELECT",{id:!0,class:!0,name:!0});var U=I(o);y.l(U),U.forEach(k),f=F(R),g&&g.l(R),R.forEach(k),D.forEach(k),c=F(S),d=T(S,"P",{class:!0});var r=I(d);h=J(r,n[6]),r.forEach(k),S.forEach(k),this.h()},h(){_(o,"id",se),_(o,"class",u=x(n[0]?"invalid":"valid")+" svelte-147by23"),o.disabled=a=n[3]===void 0,_(o,"name",se),n[1]===void 0&&be(()=>n[8].call(o)),_(s,"class","select-container svelte-147by23"),_(t,"class","container svelte-147by23"),_(d,"class","text-sm text-red-600 dark:text-red-500"),fe(d,"mt-2",n[6].length>0)},m(v,S){N(v,e,S),C(e,t),z(l,t,null),C(t,i),C(t,s),C(s,o),y.m(o,null),ue(o,n[1],!0),C(s,f),g&&g.m(s,null),C(e,c),C(e,d),C(d,h),p=!0,m||(b=[A(o,"change",n[8]),A(o,"change",n[7])],m=!0)},p(v,[S]){const D={};S&1&&(D.valid=!v[0]),S&16384&&(D.$$scope={dirty:S,ctx:v}),l.$set(D),w===(w=M(v))&&y?y.p(v,S):(y.d(1),y=w(v),y&&(y.c(),y.m(o,null))),(!p||S&1&&u!==(u=x(v[0]?"invalid":"valid")+" svelte-147by23"))&&_(o,"class",u),(!p||S&8&&a!==(a=v[3]===void 0))&&(o.disabled=a),S&10&&ue(o,v[1]),v[4]?g?(g.p(v,S),S&16&&L(g,1)):(g=he(v),g.c(),L(g,1),g.m(s,null)):g&&(ge(),H(g,1,1,()=>{g=null}),ke()),(!p||S&64)&&ae(h,v[6]),(!p||S&64)&&fe(d,"mt-2",v[6].length>0)},i(v){p||(L(l.$$.fragment,v),L(g),p=!0)},o(v){H(l.$$.fragment,v),H(g),p=!1},d(v){v&&k(e),K(l),y.d(),g&&g.d(),m=!1,ie(b)}}}const se="coffee-beans";function He(n,e,t){let{onSavedCoffeeBeans:l=void 0}=e,i,{allCoffeeBeans:s}=e,{selectedCoffeeBeansId:o}=e,{validationFailed:u=!1}=e,{showAddButton:a=!0}=e,f="";function c(){u&&t(0,u=!1)}function d(){o=Ce(this),t(1,o),t(3,s)}const h=()=>{i!==void 0&&i("open")};function p(m){i=m,t(5,i)}return n.$$set=m=>{"onSavedCoffeeBeans"in m&&t(2,l=m.onSavedCoffeeBeans),"allCoffeeBeans"in m&&t(3,s=m.allCoffeeBeans),"selectedCoffeeBeansId"in m&&t(1,o=m.selectedCoffeeBeansId),"validationFailed"in m&&t(0,u=m.validationFailed),"showAddButton"in m&&t(4,a=m.showAddButton)},n.$$.update=()=>{n.$$.dirty&1&&(u?t(6,f="Please select coffee beans."):t(6,f=""))},[u,o,l,s,a,i,f,c,d,h,p]}class $e extends te{constructor(e){super(),ne(this,e,He,Ve,ee,{onSavedCoffeeBeans:2,allCoffeeBeans:3,selectedCoffeeBeansId:1,validationFailed:0,showAddButton:4})}}function Re(n){let e;return{c(){e=G("Timestamp:")},l(t){e=J(t,"Timestamp:")},m(t,l){N(t,e,l)},d(t){t&&k(e)}}}function Ue(n){let e,t,l,i,s,o,u;return t=new le({props:{for_:oe,$$slots:{default:[Re]},$$scope:{ctx:n}}}),{c(){e=B("div"),j(t.$$.fragment),l=P(),i=B("input"),this.h()},l(a){e=T(a,"DIV",{class:!0});var f=I(e);q(t.$$.fragment,f),l=F(f),i=T(f,"INPUT",{id:!0,class:!0,name:!0,type:!0}),f.forEach(k),this.h()},h(){_(i,"id",oe),_(i,"class","bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"),_(i,"name",oe),_(i,"type","datetime-local"),_(e,"class","container svelte-1iivmi0")},m(a,f){N(a,e,f),z(t,e,null),C(e,l),C(e,i),V(i,n[0]),s=!0,o||(u=A(i,"input",n[1]),o=!0)},p(a,[f]){const c={};f&4&&(c.$$scope={dirty:f,ctx:a}),t.$set(c),f&1&&V(i,a[0])},i(a){s||(L(t.$$.fragment,a),s=!0)},o(a){H(t.$$.fragment,a),s=!1},d(a){a&&k(e),K(t),o=!1,u()}}}const oe="timestamp";function je(n,e,t){let{value:l}=e;function i(){l=this.value,t(0,l)}return n.$$set=s=>{"value"in s&&t(0,l=s.value)},[l,i]}class et extends te{constructor(e){super(),ne(this,e,je,Ue,ee,{value:0})}}function qe(n){let e;return{c(){e=G(n[1])},l(t){e=J(t,n[1])},m(t,l){N(t,e,l)},p(t,l){l&2&&ae(e,t[1])},d(t){t&&k(e)}}}function ze(n){let e,t,l,i,s,o='<svg fill="none" viewBox="0 0 18 2" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1nfrhyi"><path d="M1 1h16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',u,a,f,c,d='<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1nfrhyi"><path d="M9 1v16M1 9h16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',h,p,m;return t=new le({props:{for_:n[2],$$slots:{default:[qe]},$$scope:{ctx:n}}}),{c(){e=B("div"),j(t.$$.fragment),l=P(),i=B("div"),s=B("button"),s.innerHTML=o,u=P(),a=B("input"),f=P(),c=B("button"),c.innerHTML=d,this.h()},l(b){e=T(b,"DIV",{class:!0});var M=I(e);q(t.$$.fragment,M),l=F(M),i=T(M,"DIV",{class:!0});var w=I(i);s=T(w,"BUTTON",{id:!0,class:!0,type:!0,"data-svelte-h":!0}),Q(s)!=="svelte-u4t0xn"&&(s.innerHTML=o),u=F(w),a=T(w,"INPUT",{id:!0,autocomplete:!0,name:!0,type:!0,class:!0}),f=F(w),c=T(w,"BUTTON",{id:!0,class:!0,type:!0,"data-svelte-h":!0}),Q(c)!=="svelte-1ue8ray"&&(c.innerHTML=d),w.forEach(k),M.forEach(k),this.h()},h(){_(s,"id","decrement-button"),_(s,"class","minus-button svelte-1nfrhyi"),_(s,"type","button"),_(a,"id",n[2]),_(a,"autocomplete","off"),_(a,"name",n[2]),_(a,"type","text"),_(a,"class","svelte-1nfrhyi"),_(c,"id","increment-button"),_(c,"class","plus-button svelte-1nfrhyi"),_(c,"type","button"),_(i,"class","input-container svelte-1nfrhyi"),_(e,"class","container svelte-1nfrhyi")},m(b,M){N(b,e,M),z(t,e,null),C(e,l),C(e,i),C(i,s),C(i,u),C(i,a),V(a,n[0]),C(i,f),C(i,c),h=!0,p||(m=[A(s,"click",n[4]),A(a,"input",n[9]),A(a,"focusout",n[3]),A(a,"keydown",Ke),A(c,"click",n[5])],p=!0)},p(b,[M]){const w={};M&4&&(w.for_=b[2]),M&2050&&(w.$$scope={dirty:M,ctx:b}),t.$set(w),(!h||M&4)&&_(a,"id",b[2]),(!h||M&4)&&_(a,"name",b[2]),M&1&&a.value!==b[0]&&V(a,b[0])},i(b){h||(L(t.$$.fragment,b),h=!0)},o(b){H(t.$$.fragment,b),h=!1},d(b){b&&k(e),K(t),p=!1,ie(m)}}}function Ke(n){const e=n.key;if((e<"0"||e>"9")&&e!=="."&&e!=="Backspace"&&e!=="Delete"&&e!=="ArrowLeft"&&e!=="ArrowRight"){n.preventDefault();return}}function Ge(n,e,t){let{value:l=0}=e,{labelText:i=""}=e,{nameAttr:s=""}=e,{min:o=0}=e,{max:u=Number.MAX_SAFE_INTEGER}=e,{step:a=1}=e;function f(m){h(m.currentTarget.value)}function c(){h(l),l>=o+a&&t(0,l-=a)}function d(){h(l),l<=u-a&&t(0,l+=a)}function h(m){const b=Number(m);if(isNaN(b)){t(0,l=o);return}if(b>u){t(0,l=u);return}if(b<o){t(0,l=o);return}if(b%a!==0){t(0,l=Math.floor(b/a)*a);return}t(0,l=b)}function p(){l=this.value,t(0,l)}return n.$$set=m=>{"value"in m&&t(0,l=m.value),"labelText"in m&&t(1,i=m.labelText),"nameAttr"in m&&t(2,s=m.nameAttr),"min"in m&&t(6,o=m.min),"max"in m&&t(7,u=m.max),"step"in m&&t(8,a=m.step)},[l,i,s,f,c,d,o,u,a,p]}class tt extends te{constructor(e){super(),ne(this,e,Ge,ze,ee,{value:0,labelText:1,nameAttr:2,min:6,max:7,step:8})}}export{$e as C,tt as N,et as T,xe as p};
