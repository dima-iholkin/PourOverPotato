import{s as Se,j as Le,n as be,r as Ve}from"./scheduler.FewvdMMF.js";import{S as We,i as Oe,k as Ae,m as we,n as Ge,q as je,o as qe,r as ze,e as h,t as g,s as B,c as _,a as d,b as m,d as c,f as D,x as I,g as z,h as n,j as L,z as He,I as Ie,A as ye,D as Je,J as Ke}from"./index.Czz-Se56.js";import{n as he}from"./naming.kUvCv0xb.js";import{x as Ce}from"./indexedDB.DSM7SfQo.js";import{C as Me,s as Re,b as Ue,c as Qe,d as Xe,e as Ye}from"./NoItemsYetP.I_dZVXBA.js";import{e as Ne,u as Ze,d as $e}from"./each.WAMKkCCB.js";function Te(s){let e,t=s[0].rating+"",r,i;return{c(){e=h("p"),r=g(t),i=g("⭐")},l(a){e=_(a,"P",{});var l=d(e);r=m(l,t),i=m(l,"⭐"),l.forEach(c)},m(a,l){z(a,e,l),n(e,r),n(e,i)},p(a,l){l&1&&t!==(t=a[0].rating+"")&&L(r,t)},d(a){a&&c(e)}}}function Be(s){let e,t=s[0].outWeight+"",r,i;return{c(){e=h("p"),r=g(t),i=g("g ☕")},l(a){e=_(a,"P",{});var l=d(e);r=m(l,t),i=m(l,"g ☕"),l.forEach(c)},m(a,l){z(a,e,l),n(e,r),n(e,i)},p(a,l){l&1&&t!==(t=a[0].outWeight+"")&&L(r,t)},d(a){a&&c(e)}}}function xe(s){let e,t,r,i,a=Ce(s[0].timestamp)+"",l,S,k,y,C,N,o,f,v,T,de=he.recipe.recipeTarget+"",Z,$,x,V,G=s[0].recipeTarget+"",H,ee,W,O,ve=he.recipe.recipeResult+"",te,ae,se,A,j=s[0].recipeResult+"",J,le,R,F,pe=he.recipe.recipeThoughts+"",re,ne,ie,w,q=s[0].recipeThoughts+"",K,E=s[0].rating>0&&Te(s),b=s[0].outWeight>0&&Be(s);return{c(){e=h("div"),t=h("div"),r=h("p"),i=g("🕒 "),l=g(a),S=B(),k=h("div"),E&&E.c(),y=B(),b&&b.c(),C=B(),N=h("h5"),o=g(s[1]),f=B(),v=h("div"),T=h("p"),Z=g(de),$=g(":"),x=B(),V=h("p"),H=g(G),ee=B(),W=h("div"),O=h("p"),te=g(ve),ae=g(":"),se=B(),A=h("p"),J=g(j),le=B(),R=h("div"),F=h("p"),re=g(pe),ne=g(":"),ie=B(),w=h("p"),K=g(q),this.h()},l(p){e=_(p,"DIV",{class:!0});var u=d(e);t=_(u,"DIV",{class:!0});var M=d(t);r=_(M,"P",{});var oe=d(r);i=m(oe,"🕒 "),l=m(oe,a),oe.forEach(c),S=D(M),k=_(M,"DIV",{class:!0});var U=d(k);E&&E.l(U),y=D(U),b&&b.l(U),U.forEach(c),M.forEach(c),C=D(u),N=_(u,"H5",{class:!0});var ge=d(N);o=m(ge,s[1]),ge.forEach(c),f=D(u),v=_(u,"DIV",{});var Q=d(v);T=_(Q,"P",{class:!0});var ce=d(T);Z=m(ce,de),$=m(ce,":"),ce.forEach(c),x=D(Q),V=_(Q,"P",{class:!0});var me=d(V);H=m(me,G),me.forEach(c),Q.forEach(c),ee=D(u),W=_(u,"DIV",{});var X=d(W);O=_(X,"P",{class:!0});var fe=d(O);te=m(fe,ve),ae=m(fe,":"),fe.forEach(c),se=D(X),A=_(X,"P",{class:!0});var ke=d(A);J=m(ke,j),ke.forEach(c),X.forEach(c),le=D(u),R=_(u,"DIV",{});var Y=d(R);F=_(Y,"P",{class:!0});var ue=d(F);re=m(ue,pe),ne=m(ue,":"),ue.forEach(c),ie=D(Y),w=_(Y,"P",{class:!0});var Ee=d(w);K=m(Ee,q),Ee.forEach(c),Y.forEach(c),u.forEach(c),this.h()},h(){I(k,"class","right-header-horizontal svelte-1tak70c"),I(t,"class","header svelte-1tak70c"),I(N,"class","svelte-1tak70c"),I(T,"class","label svelte-1tak70c"),I(V,"class","content svelte-1tak70c"),I(O,"class","label svelte-1tak70c"),I(A,"class","content svelte-1tak70c"),I(F,"class","label svelte-1tak70c"),I(w,"class","content svelte-1tak70c"),I(e,"class","card-content svelte-1tak70c")},m(p,u){z(p,e,u),n(e,t),n(t,r),n(r,i),n(r,l),n(t,S),n(t,k),E&&E.m(k,null),n(k,y),b&&b.m(k,null),n(e,C),n(e,N),n(N,o),n(e,f),n(e,v),n(v,T),n(T,Z),n(T,$),n(v,x),n(v,V),n(V,H),n(e,ee),n(e,W),n(W,O),n(O,te),n(O,ae),n(W,se),n(W,A),n(A,J),n(e,le),n(e,R),n(R,F),n(F,re),n(F,ne),n(R,ie),n(R,w),n(w,K)},p(p,u){u&1&&a!==(a=Ce(p[0].timestamp)+"")&&L(l,a),p[0].rating>0?E?E.p(p,u):(E=Te(p),E.c(),E.m(k,y)):E&&(E.d(1),E=null),p[0].outWeight>0?b?b.p(p,u):(b=Be(p),b.c(),b.m(k,null)):b&&(b.d(1),b=null),u&2&&L(o,p[1]),u&1&&G!==(G=p[0].recipeTarget+"")&&L(H,G),u&1&&j!==(j=p[0].recipeResult+"")&&L(J,j),u&1&&q!==(q=p[0].recipeThoughts+"")&&L(K,q)},d(p){p&&c(e),E&&E.d(),b&&b.d()}}}function et(s){let e,t;return e=new Me({props:{href:s[2],$$slots:{default:[xe]},$$scope:{ctx:s}}}),{c(){Ae(e.$$.fragment)},l(r){we(e.$$.fragment,r)},m(r,i){Ge(e,r,i),t=!0},p(r,[i]){const a={};i&4&&(a.href=r[2]),i&11&&(a.$$scope={dirty:i,ctx:r}),e.$set(a)},i(r){t||(je(e.$$.fragment,r),t=!0)},o(r){qe(e.$$.fragment,r),t=!1},d(r){ze(e,r)}}}function tt(s,e,t){let{recipe:r}=e,{coffeeBeansName:i}=e,{href:a}=e;return s.$$set=l=>{"recipe"in l&&t(0,r=l.recipe),"coffeeBeansName"in l&&t(1,i=l.coffeeBeansName),"href"in l&&t(2,a=l.href)},[r,i,a]}class _t extends We{constructor(e){super(),Oe(this,e,tt,et,Se,{recipe:0,coffeeBeansName:1,href:2})}}var P=(s=>(s[s.Latest=0]="Latest",s[s.Earliest=1]="Earliest",s[s.GreatestRating=2]="GreatestRating",s[s.BiggerWeight=3]="BiggerWeight",s[s.SmallerWeight=4]="SmallerWeight",s))(P||{});function at(s){const e=Fe(s),t=localStorage.getItem(e);if(t===null)return P.Latest;const r=Number.parseInt(t);return Number.isNaN(r)?P.Latest:r in P?r:(console.warn("loadSortOrder function read value from LocalStorage not present in RecipesSortOrderEnum."),P.Latest)}function st(s,e){const t=Fe(s);localStorage.setItem(t,e)}function Fe(s){return`sortOrder_${s}`}function De(s,e,t){const r=s.slice();return r[6]=e[t],r}function Pe(s,e){let t,r=e[6].key+"",i;return{key:s,first:null,c(){t=h("option"),i=g(r),this.h()},l(a){t=_(a,"OPTION",{});var l=d(t);i=m(l,r),l.forEach(c),this.h()},h(){t.__value=e[6].value,Je(t,t.__value),this.first=t},m(a,l){z(a,t,l),n(t,i)},p(a,l){e=a},d(a){a&&c(t)}}}function lt(s){let e,t,r="Sorted by",i,a,l=[],S=new Map,k,y,C=Ne(_e);const N=o=>o[6].value;for(let o=0;o<C.length;o+=1){let f=De(s,C,o),v=N(f);S.set(v,l[o]=Pe(v,f))}return{c(){e=h("div"),t=h("p"),t.textContent=r,i=B(),a=h("select");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var f=d(e);t=_(f,"P",{class:!0,"data-svelte-h":!0}),He(t)!=="svelte-1ft4ueu"&&(t.textContent=r),i=D(f),a=_(f,"SELECT",{id:!0,class:!0,name:!0});var v=d(a);for(let T=0;T<l.length;T+=1)l[T].l(v);v.forEach(c),f.forEach(c),this.h()},h(){I(t,"class","svelte-p5ss66"),I(a,"id",s[1]),I(a,"class","valid svelte-p5ss66"),I(a,"name",s[1]),s[0]===void 0&&Le(()=>s[5].call(a)),I(e,"class","select-container svelte-p5ss66")},m(o,f){z(o,e,f),n(e,t),n(e,i),n(e,a);for(let v=0;v<l.length;v+=1)l[v]&&l[v].m(a,null);Ie(a,s[0],!0),k||(y=[ye(a,"change",s[5]),ye(a,"change",s[2])],k=!0)},p(o,[f]){f&0&&(C=Ne(_e),l=Ze(l,f,N,1,o,C,S,a,$e,Pe,null,De)),f&1&&Ie(a,o[0])},i:be,o:be,d(o){o&&c(e);for(let f=0;f<l.length;f+=1)l[f].d();k=!1,Ve(y)}}}const rt="sort-recipes-",_e=[{value:P.Latest,key:"latest",sortOrderFunc:Re},{value:P.Earliest,key:"earliest",sortOrderFunc:Ue},{value:P.GreatestRating,key:"best rating",sortOrderFunc:Qe},{value:P.BiggerWeight,key:"more coffee",sortOrderFunc:Xe},{value:P.SmallerWeight,key:"less coffee",sortOrderFunc:Ye}];function nt(s,e,t){let{onChange:r}=e,{pageName:i}=e;const a=rt+i;let l=at(a);function S(){var C;const y=((C=_e.find(N=>N.value===l))==null?void 0:C.sortOrderFunc)??Re;r(l,y),st(a,l)}function k(){l=Ke(this),t(0,l)}return s.$$set=y=>{"onChange"in y&&t(3,r=y.onChange),"pageName"in y&&t(4,i=y.pageName)},[l,a,S,r,i,k]}class dt extends We{constructor(e){super(),Oe(this,e,nt,lt,Se,{onChange:3,pageName:4})}}export{_t as R,dt as S};
