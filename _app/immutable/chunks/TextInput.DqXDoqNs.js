import{s as Z,b as q,a as ie,f as me,r as be,t as Ee,j as Me,n as oe,d as Ie,u as Ne,g as De,e as Fe}from"./scheduler.Cw1-ZcKD.js";import{S as x,i as $,v as ue,k as K,m as G,n as W,q as O,o as z,r as X,e as T,s as A,t as R,c as k,a as I,f as P,b as L,d as _,z as d,g as E,h as b,C as H,A as F,F as fe,j as ee,B as y,G as Ce,u as ye,p as Ae,y as Y,H as Pe,w as ce,D as je}from"./index.D7LFJCWc.js";import{c as Oe,k as Re,e as Te,u as Le,i as ze}from"./manageCoffeeBeans.l_UoDZFL.js";import{s as ke}from"./sortCoffeeBeans.CoR3S74V.js";import{e as pe,i as Ue,a as He}from"./core.D-38Eqyu.js";import{L as te,T as qe}from"./Textarea.CWUpZFM_.js";import{M as Ke}from"./Modal.4xJQp7jy.js";import{p as Ge,f as We}from"./dateHelpers.c45YBD0l.js";const jt={recipeTarget:"Example: 17 clicks, 15g + 260g filtered water.",recipeResult:"Example: 2m15s draw down + 15s drip.",recipeThoughts:"Example: Perfect balance. Perfect concentration. Flowery notes."};function Xe(n){let e;return{c(){e=R("Coffee beans name:")},l(t){e=L(t,"Coffee beans name:")},m(t,i){E(t,e,i)},d(t){t&&_(e)}}}function Je(n){let e,t,i,s,a,u,r,l,o,f,h,C,m,w,c,g,N,p,M,S,V,j,J;i=new te({props:{for_:"name",valid:!n[0],$$slots:{default:[Xe]},$$scope:{ctx:n}}});function ne(B){n[23](B)}function ae(B){n[24](B)}function he(B){n[25](B)}let le={id:"description",label:"Description:",name:"description",placeholder:Ye};return n[1]!==void 0&&(le.resizeTextarea=n[1]),n[7]!==void 0&&(le.this_=n[7]),n[9]!==void 0&&(le.value=n[9]),m=new qe({props:le}),q.push(()=>ue(m,"resizeTextarea",ne)),q.push(()=>ue(m,"this_",ae)),q.push(()=>ue(m,"value",he)),m.$on("keydown",n[11]),{c(){e=T("form"),t=T("div"),K(i.$$.fragment),s=A(),a=T("input"),l=A(),o=T("p"),f=R(n[10]),h=A(),C=T("div"),K(m.$$.fragment),N=A(),p=T("button"),M=R("Save"),this.h()},l(B){e=k(B,"FORM",{class:!0});var D=I(e);t=k(D,"DIV",{class:!0});var U=I(t);G(i.$$.fragment,U),s=P(U),a=k(U,"INPUT",{id:!0,autocomplete:!0,class:!0,name:!0,placeholder:!0,type:!0}),l=P(U),o=k(U,"P",{class:!0});var Q=I(o);f=L(Q,n[10]),Q.forEach(_),U.forEach(_),h=P(D),C=k(D,"DIV",{class:!0});var re=I(C);G(m.$$.fragment,re),re.forEach(_),N=P(D),p=k(D,"BUTTON",{class:!0,type:!0});var de=I(p);M=L(de,"Save"),de.forEach(_),D.forEach(_),this.h()},h(){d(a,"id","name"),d(a,"autocomplete","off"),d(a,"class",u=me(n[0]?"input-name-validation-failed":"input-name")+" svelte-1h3gavm"),d(a,"name","name"),d(a,"placeholder",r=n[0]?"":"Example: Rwanda Mabanza"),d(a,"type","text"),d(o,"class","mt-2 text-sm text-red-600"),d(t,"class","mb-5"),d(C,"class","my-div mb-5 svelte-1h3gavm"),d(p,"class","button-submit svelte-1h3gavm"),p.disabled=S=n[0]||pe.hasValidName({name:n[8]})!==!0,d(p,"type","submit"),d(e,"class","mx-auto")},m(B,D){E(B,e,D),b(e,t),W(i,t,null),b(t,s),b(t,a),n[21](a),H(a,n[8]),b(t,l),b(t,o),b(o,f),b(e,h),b(e,C),W(m,C,null),b(e,N),b(e,p),b(p,M),n[26](p),n[27](e),V=!0,j||(J=[F(a,"input",n[22]),F(a,"focusin",n[17]),F(a,"input",n[13]),F(a,"keydown",n[12]),F(p,"keydown",n[16]),F(e,"submit",fe(n[14]))],j=!0)},p(B,D){const U={};D[0]&1&&(U.valid=!B[0]),D[1]&1&&(U.$$scope={dirty:D,ctx:B}),i.$set(U),(!V||D[0]&1&&u!==(u=me(B[0]?"input-name-validation-failed":"input-name")+" svelte-1h3gavm"))&&d(a,"class",u),(!V||D[0]&1&&r!==(r=B[0]?"":"Example: Rwanda Mabanza"))&&d(a,"placeholder",r),D[0]&256&&a.value!==B[8]&&H(a,B[8]),(!V||D[0]&1024)&&ee(f,B[10]);const Q={};!w&&D[0]&2&&(w=!0,Q.resizeTextarea=B[1],ie(()=>w=!1)),!c&&D[0]&128&&(c=!0,Q.this_=B[7],ie(()=>c=!1)),!g&&D[0]&512&&(g=!0,Q.value=B[9],ie(()=>g=!1)),m.$set(Q),(!V||D[0]&257&&S!==(S=B[0]||pe.hasValidName({name:B[8]})!==!0))&&(p.disabled=S)},i(B){V||(O(i.$$.fragment,B),O(m.$$.fragment,B),V=!0)},o(B){z(i.$$.fragment,B),z(m.$$.fragment,B),V=!1},d(B){B&&_(e),X(i),n[21](null),X(m),n[26](null),n[27](null),j=!1,be(J)}}}function Qe(n){let e,t,i,s;function a(l){n[29](l)}function u(l){n[30](l)}let r={onFocusReverse:n[28],onStateChange:n[15],title:"Add coffee beans",$$slots:{default:[Je]},$$scope:{ctx:n}};return n[2]!==void 0&&(r.setFocus=n[2]),n[3]!==void 0&&(r.setState=n[3]),e=new Ke({props:r}),q.push(()=>ue(e,"setFocus",a)),q.push(()=>ue(e,"setState",u)),{c(){K(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,o){W(e,l,o),s=!0},p(l,o){const f={};o[0]&64&&(f.onFocusReverse=l[28]),o[0]&2035|o[1]&1&&(f.$$scope={dirty:o,ctx:l}),!t&&o[0]&4&&(t=!0,f.setFocus=l[2],ie(()=>t=!1)),!i&&o[0]&8&&(i=!0,f.setState=l[3],ie(()=>i=!1)),e.$set(f)},i(l){s||(O(e.$$.fragment,l),s=!0)},o(l){z(e.$$.fragment,l),s=!1},d(l){X(e,l)}}}const Ye="Example: Washed process. Notes: plum, cherry.";function Ze(n,e,t){let{onModalStateChange:i=void 0}=e,{onSavedCoffeeBeans:s=void 0}=e;const a=v=>{l(v)};let u,r,l,o,f,h,C,m="",w="",c=!1,g="";function N(v){v.key==="Enter"&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),o.requestSubmit())}function p(v){v.key==="Enter"&&(v.preventDefault(),C.focus())}function M(){if(pe.hasValidName({name:m})==="ValidationFailed_NameMustBeAtLeast3CharsLong"){t(0,c=!0),t(10,g="Name must be at least 3 characters long.");return}Oe(m).then(v=>{switch(v){case"CoffeeBeansNotFound":t(0,c=!1),t(10,g="");break;case"Failure_NameAlreadyExist":t(0,c=!0),t(10,g=`Coffee beans "${m.trim()}" already exist.`);break}})}async function S(){t(8,m=m.trim()),t(9,w=w.trim());const v=Ue.create({name:m,description:w});if(v==="ValidationFailed_NameMustBeAtLeast3CharsLong"){t(0,c=!0),t(10,g="Name must be at least 3 characters long.");return}const se=await Re(v);if(se==="Failure_NameAlreadyExist"){t(0,c=!0),t(10,g="Coffee beans with this name already exist.");return}He(`Coffee beans "${se.name}" created.`),s!==void 0&&s(se),l("closed"),t(8,m=""),t(9,w="")}function V(v){v==="open"&&(t(8,m=""),t(9,w=""),t(10,g=""),Ee().then(()=>{u(),f.focus()})),i!==void 0&&i(v)}function j(v){v.key==="Tab"&&v.shiftKey===!1&&(v.preventDefault(),r())}function J(v){const se=v.currentTarget.value.length;f.setSelectionRange(se,se)}function ne(v){q[v?"unshift":"push"](()=>{f=v,t(5,f)})}function ae(){m=this.value,t(8,m)}function he(v){u=v,t(1,u)}function le(v){C=v,t(7,C)}function B(v){w=v,t(9,w)}function D(v){q[v?"unshift":"push"](()=>{h=v,t(6,h)})}function U(v){q[v?"unshift":"push"](()=>{o=v,t(4,o)})}const Q=()=>h.focus();function re(v){r=v,t(2,r)}function de(v){l=v,t(3,l)}return n.$$set=v=>{"onModalStateChange"in v&&t(18,i=v.onModalStateChange),"onSavedCoffeeBeans"in v&&t(19,s=v.onSavedCoffeeBeans)},n.$$.update=()=>{n.$$.dirty[0]&1&&c===!1&&t(10,g="")},[c,u,r,l,o,f,h,C,m,w,g,N,p,M,S,V,j,J,i,s,a,ne,ae,he,le,B,D,U,Q,re,de]}class xe extends x{constructor(e){super(),$(this,e,Ze,Qe,Z,{onModalStateChange:18,onSavedCoffeeBeans:19,setModalState:20},null,[-1,-1])}get setModalState(){return this.$$.ctx[20]}}function we(n,e,t){const i=n.slice();return i[15]=e[t],i}function $e(n){let e;return{c(){e=R("Coffee beans:")},l(t){e=L(t,"Coffee beans:")},m(t,i){E(t,e,i)},d(t){t&&_(e)}}}function et(n){let e,t="Loading coffee beans...";return{c(){e=T("option"),e.textContent=t,this.h()},l(i){e=k(i,"OPTION",{"data-svelte-h":!0}),Y(e)!=="svelte-1sf778f"&&(e.textContent=t),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",H(e,e.__value)},m(i,s){E(i,e,s)},p:oe,d(i){i&&_(e)}}}function tt(n){let e,t=[],i=new Map,s,a=n[0]===void 0&&n[4]===!0&&Se(),u=Te(n[3].sort(ke));const r=l=>l[15].id;for(let l=0;l<u.length;l+=1){let o=we(n,u,l),f=r(o);i.set(f,t[l]=Be(f,o))}return{c(){a&&a.c(),e=ce();for(let l=0;l<t.length;l+=1)t[l].c();s=ce()},l(l){a&&a.l(l),e=ce();for(let o=0;o<t.length;o+=1)t[o].l(l);s=ce()},m(l,o){a&&a.m(l,o),E(l,e,o);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(l,o);E(l,s,o)},p(l,o){l[0]===void 0&&l[4]===!0?a||(a=Se(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o&9&&(u=Te(l[3].sort(ke)),t=Le(t,o,r,1,l,u,i,s.parentNode,ze,Be,s,we))},d(l){l&&(_(e),_(s)),a&&a.d(l);for(let o=0;o<t.length;o+=1)t[o].d(l)}}}function Se(n){let e;return{c(){e=T("option"),this.h()},l(t){e=k(t,"OPTION",{}),I(e).forEach(_),this.h()},h(){e.disabled=!0,e.selected=!0,e.__value="",H(e,e.__value)},m(t,i){E(t,e,i)},d(t){t&&_(e)}}}function Be(n,e){let t,i=e[15].name+"",s,a,u;return{key:n,first:null,c(){t=T("option"),s=R(i),this.h()},l(r){t=k(r,"OPTION",{});var l=I(t);s=L(l,i),l.forEach(_),this.h()},h(){t.selected=a=e[0]===e[15].id,t.__value=u=e[15].id,H(t,t.__value),this.first=t},m(r,l){E(r,t,l),b(t,s)},p(r,l){e=r,l&8&&i!==(i=e[15].name+"")&&ee(s,i),l&9&&a!==(a=e[0]===e[15].id)&&(t.selected=a),l&8&&u!==(u=e[15].id)&&(t.__value=u,H(t,t.__value))},d(r){r&&_(t)}}}function Ve(n){let e,t='<span class="material-icons md-18">add</span>',i,s,a,u,r,l;function o(h){n[14](h)}let f={onSavedCoffeeBeans:n[2]};return n[6]!==void 0&&(f.setModalState=n[6]),s=new xe({props:f}),q.push(()=>ue(s,"setModalState",o)),{c(){e=T("button"),e.innerHTML=t,i=A(),K(s.$$.fragment),this.h()},l(h){e=k(h,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-h0kid9"&&(e.innerHTML=t),i=P(h),G(s.$$.fragment,h),this.h()},h(){d(e,"class","button-add bg-green-500 text-white rounded-md px-4 py-2 hover:bg-green-700 transition svelte-1jzvoei")},m(h,C){E(h,e,C),E(h,i,C),W(s,h,C),u=!0,r||(l=F(e,"click",fe(n[13])),r=!0)},p(h,C){const m={};C&4&&(m.onSavedCoffeeBeans=h[2]),!a&&C&64&&(a=!0,m.setModalState=h[6],ie(()=>a=!1)),s.$set(m)},i(h){u||(O(s.$$.fragment,h),u=!0)},o(h){z(s.$$.fragment,h),u=!1},d(h){h&&(_(e),_(i)),X(s,h),r=!1,l()}}}function nt(n){let e,t,i,s,a,u,r,l,o,f,h,C,m,w,c;i=new te({props:{for_:_e,valid:!n[7],$$slots:{default:[$e]},$$scope:{ctx:n}}});function g(S,V){return S[3]!==void 0?tt:et}let N=g(n),p=N(n),M=n[4]&&Ve(n);return{c(){e=T("div"),t=T("div"),K(i.$$.fragment),s=A(),a=T("div"),u=T("select"),p.c(),o=A(),M&&M.c(),f=A(),h=T("p"),C=R(n[8]),this.h()},l(S){e=k(S,"DIV",{});var V=I(e);t=k(V,"DIV",{class:!0});var j=I(t);G(i.$$.fragment,j),s=P(j),a=k(j,"DIV",{class:!0});var J=I(a);u=k(J,"SELECT",{id:!0,class:!0,name:!0,tabindex:!0});var ne=I(u);p.l(ne),ne.forEach(_),o=P(J),M&&M.l(J),J.forEach(_),j.forEach(_),f=P(V),h=k(V,"P",{class:!0});var ae=I(h);C=L(ae,n[8]),ae.forEach(_),V.forEach(_),this.h()},h(){d(u,"id",_e),d(u,"class",r=me(n[7]?"invalid":"valid")+" svelte-1jzvoei"),u.disabled=l=n[3]===void 0,d(u,"name",_e),d(u,"tabindex","0"),n[0]===void 0&&Me(()=>n[12].call(u)),y(u,"unsaved-changes",n[5]!==void 0&&n[5]!==n[0]),d(a,"class","select-container svelte-1jzvoei"),d(t,"class","container svelte-1jzvoei"),d(h,"class","text-sm text-red-600"),y(h,"mt-2",n[8].length>0)},m(S,V){E(S,e,V),b(e,t),W(i,t,null),b(t,s),b(t,a),b(a,u),p.m(u,null),n[11](u),Ce(u,n[0],!0),b(a,o),M&&M.m(a,null),b(e,f),b(e,h),b(h,C),m=!0,w||(c=[F(u,"change",n[12]),F(u,"change",n[9])],w=!0)},p(S,[V]){const j={};V&128&&(j.valid=!S[7]),V&262144&&(j.$$scope={dirty:V,ctx:S}),i.$set(j),N===(N=g(S))&&p?p.p(S,V):(p.d(1),p=N(S),p&&(p.c(),p.m(u,null))),(!m||V&128&&r!==(r=me(S[7]?"invalid":"valid")+" svelte-1jzvoei"))&&d(u,"class",r),(!m||V&8&&l!==(l=S[3]===void 0))&&(u.disabled=l),V&9&&Ce(u,S[0]),(!m||V&161)&&y(u,"unsaved-changes",S[5]!==void 0&&S[5]!==S[0]),S[4]?M?(M.p(S,V),V&16&&O(M,1)):(M=Ve(S),M.c(),O(M,1),M.m(a,null)):M&&(ye(),z(M,1,1,()=>{M=null}),Ae()),(!m||V&256)&&ee(C,S[8]),(!m||V&256)&&y(h,"mt-2",S[8].length>0)},i(S){m||(O(i.$$.fragment,S),O(M),m=!0)},o(S){z(i.$$.fragment,S),z(M),m=!1},d(S){S&&_(e),X(i),p.d(),n[11](null),M&&M.d(),w=!1,be(c)}}}const _e="coffee-beans";function at(n,e,t){let{onSavedCoffeeBeans:i=void 0}=e;const s=p=>{t(7,h=p),h?t(8,C="Please select coffee beans."):t(8,C="")};let{allCoffeeBeans:a}=e,{selectedCoffeeBeansId:u}=e,{showAddButton:r=!0}=e,{selectDOM:l=void 0}=e,{initialCoffeeBeansId:o=void 0}=e,f,h=!1,C="";function m(){h&&s(!1)}function w(p){q[p?"unshift":"push"](()=>{l=p,t(1,l)})}function c(){u=Pe(this),t(0,u),t(3,a)}const g=()=>{f!==void 0&&f("open")};function N(p){f=p,t(6,f)}return n.$$set=p=>{"onSavedCoffeeBeans"in p&&t(2,i=p.onSavedCoffeeBeans),"allCoffeeBeans"in p&&t(3,a=p.allCoffeeBeans),"selectedCoffeeBeansId"in p&&t(0,u=p.selectedCoffeeBeansId),"showAddButton"in p&&t(4,r=p.showAddButton),"selectDOM"in p&&t(1,l=p.selectDOM),"initialCoffeeBeansId"in p&&t(5,o=p.initialCoffeeBeansId)},[u,l,i,a,r,o,f,h,C,m,s,w,c,g,N]}class Ot extends x{constructor(e){super(),$(this,e,at,nt,Z,{onSavedCoffeeBeans:2,setValidationFailed:10,allCoffeeBeans:3,selectedCoffeeBeansId:0,showAddButton:4,selectDOM:1,initialCoffeeBeansId:5})}get setValidationFailed(){return this.$$.ctx[10]}}function lt(n){let e,t,i,s,a,u="clear",r,l;return{c(){e=T("p"),t=R(n[0]),i=R(" days since roast"),s=A(),a=T("button"),a.textContent=u,this.h()},l(o){e=k(o,"P",{class:!0});var f=I(e);t=L(f,n[0]),i=L(f," days since roast"),f.forEach(_),s=P(o),a=k(o,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-19j9fqh"&&(a.textContent=u),this.h()},h(){d(e,"class","svelte-1155g8n"),d(a,"class","svelte-1155g8n")},m(o,f){E(o,e,f),b(e,t),b(e,i),E(o,s,f),E(o,a,f),r||(l=F(a,"click",fe(n[4])),r=!0)},p(o,f){f&1&&ee(t,o[0])},d(o){o&&(_(e),_(s),_(a)),r=!1,l()}}}function st(n){let e,t="1 day since roast",i,s,a="clear",u,r;return{c(){e=T("p"),e.textContent=t,i=A(),s=T("button"),s.textContent=a,this.h()},l(l){e=k(l,"P",{class:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1v4lwju"&&(e.textContent=t),i=P(l),s=k(l,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(s)!=="svelte-19j9fqh"&&(s.textContent=a),this.h()},h(){d(e,"class","svelte-1155g8n"),d(s,"class","svelte-1155g8n")},m(l,o){E(l,e,o),E(l,i,o),E(l,s,o),u||(r=F(s,"click",fe(n[3])),u=!0)},p:oe,d(l){l&&(_(e),_(i),_(s)),u=!1,r()}}}function it(n){let e,t,i="xx days since roast",s,a,u="clear",r,l;return{c(){e=T("div"),t=T("p"),t.textContent=i,s=A(),a=T("button"),a.textContent=u,this.h()},l(o){e=k(o,"DIV",{style:!0,class:!0});var f=I(e);t=k(f,"P",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-19yvjpc"&&(t.textContent=i),s=P(f),a=k(f,"BUTTON",{class:!0,"data-svelte-h":!0}),Y(a)!=="svelte-19j9fqh"&&(a.textContent=u),f.forEach(_),this.h()},h(){d(t,"class","svelte-1155g8n"),d(a,"class","svelte-1155g8n"),je(e,"visibility","hidden"),d(e,"class","svelte-1155g8n")},m(o,f){E(o,e,f),b(e,t),b(e,s),b(e,a),r||(l=F(a,"click",fe(n[2])),r=!0)},p:oe,d(o){o&&_(e),r=!1,l()}}}function ut(n){let e,t;function i(u,r){return r&1&&(t=null),t==null&&(t=u[0]===void 0||Number.isFinite(u[0])===!1),t?it:u[0]===1?st:lt}let s=i(n,-1),a=s(n);return{c(){e=T("div"),a.c(),this.h()},l(u){e=k(u,"DIV",{class:!0});var r=I(e);a.l(r),r.forEach(_),this.h()},h(){d(e,"class","text-gray-900 svelte-1155g8n")},m(u,r){E(u,e,r),a.m(e,null)},p(u,[r]){s===(s=i(u,r))&&a?a.p(u,r):(a.d(1),a=s(u),a&&(a.c(),a.m(e,null)))},i:oe,o:oe,d(u){u&&_(e),a.d()}}}function ot(n,e,t){let{daysSinceRoast:i}=e,{onClear:s}=e;const a=()=>s(),u=()=>s(),r=()=>s();return n.$$set=l=>{"daysSinceRoast"in l&&t(0,i=l.daysSinceRoast),"onClear"in l&&t(1,s=l.onClear)},[i,s,a,u,r]}class Rt extends x{constructor(e){super(),$(this,e,ot,ut,Z,{daysSinceRoast:0,onClear:1})}}function ft(n){let e;return{c(){e=R("Favorite:")},l(t){e=L(t,"Favorite:")},m(t,i){E(t,e,i)},d(t){t&&_(e)}}}function rt(n){let e,t,i,s,a,u,r,l=n[0]?"❤":"🤍",o,f,h,C;return t=new te({props:{for_:"favorite",$$slots:{default:[ft]},$$scope:{ctx:n}}}),{c(){e=T("div"),K(t.$$.fragment),i=A(),s=T("div"),a=T("label"),u=T("input"),r=A(),o=R(l),this.h()},l(m){e=k(m,"DIV",{class:!0});var w=I(e);G(t.$$.fragment,w),i=P(w),s=k(w,"DIV",{class:!0});var c=I(s);a=k(c,"LABEL",{for:!0,class:!0});var g=I(a);u=k(g,"INPUT",{id:!0,name:!0,type:!0,class:!0}),r=P(g),o=L(g,l),g.forEach(_),c.forEach(_),w.forEach(_),this.h()},h(){d(u,"id","favorite"),d(u,"name","favorite"),d(u,"type","checkbox"),d(u,"class","svelte-1wkm0dj"),d(a,"for","favorite"),d(a,"class","svelte-1wkm0dj"),y(a,"unsaved-changes",n[1]!==void 0&&n[1]!==n[0]),d(s,"class","input-container svelte-1wkm0dj"),d(e,"class","container svelte-1wkm0dj")},m(m,w){E(m,e,w),W(t,e,null),b(e,i),b(e,s),b(s,a),b(a,u),u.checked=n[0],b(a,r),b(a,o),f=!0,h||(C=F(u,"change",n[2]),h=!0)},p(m,[w]){const c={};w&8&&(c.$$scope={dirty:w,ctx:m}),t.$set(c),w&1&&(u.checked=m[0]),(!f||w&1)&&l!==(l=m[0]?"❤":"🤍")&&ee(o,l),(!f||w&3)&&y(a,"unsaved-changes",m[1]!==void 0&&m[1]!==m[0])},i(m){f||(O(t.$$.fragment,m),f=!0)},o(m){z(t.$$.fragment,m),f=!1},d(m){m&&_(e),X(t),h=!1,C()}}}function dt(n,e,t){let{value:i=!1}=e,{initialValue:s=void 0}=e;function a(){i=this.checked,t(0,i)}return n.$$set=u=>{"value"in u&&t(0,i=u.value),"initialValue"in u&&t(1,s=u.initialValue)},[i,s,a]}class Lt extends x{constructor(e){super(),$(this,e,dt,rt,Z,{value:0,initialValue:1})}}function ct(n){let e;return{c(){e=R("Roast date:")},l(t){e=L(t,"Roast date:")},m(t,i){E(t,e,i)},d(t){t&&_(e)}}}function mt(n){let e,t,i,s,a,u,r;return t=new te({props:{for_:ve,$$slots:{default:[ct]},$$scope:{ctx:n}}}),{c(){e=T("div"),K(t.$$.fragment),i=A(),s=T("input"),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=I(e);G(t.$$.fragment,o),i=P(o),s=k(o,"INPUT",{id:!0,name:!0,type:!0,class:!0}),o.forEach(_),this.h()},h(){d(s,"id",ve),d(s,"name",ve),d(s,"type","datetime-local"),d(s,"class","svelte-rl8x7e"),y(s,"empty",!(n[0].getTime()>0)),y(s,"unsaved-changes",n[1]!==void 0&&n[1].getTime()!==n[0].getTime()),d(e,"class","my-container svelte-rl8x7e")},m(l,o){E(l,e,o),W(t,e,null),b(e,i),b(e,s),n[4](s),a=!0,u||(r=F(s,"input",n[3]),u=!0)},p(l,[o]){const f={};o&32&&(f.$$scope={dirty:o,ctx:l}),t.$set(f),(!a||o&1)&&y(s,"empty",!(l[0].getTime()>0)),(!a||o&3)&&y(s,"unsaved-changes",l[1]!==void 0&&l[1].getTime()!==l[0].getTime())},i(l){a||(O(t.$$.fragment,l),a=!0)},o(l){z(t.$$.fragment,l),a=!1},d(l){l&&_(e),X(t),n[4](null),u=!1,r()}}}const ve="roast-date";function ht(n,e,t){let{dateValue:i}=e,{initialValue:s=void 0}=e,a;function u(l){if(l.currentTarget.value===""){t(0,i=new Date(0));return}const f=l.currentTarget.value.split("T")[0]+"T12:00";t(0,i=Ge(f))}function r(l){q[l?"unshift":"push"](()=>{a=l,t(2,a),t(0,i)})}return n.$$set=l=>{"dateValue"in l&&t(0,i=l.dateValue),"initialValue"in l&&t(1,s=l.initialValue)},n.$$.update=()=>{n.$$.dirty&5&&a&&t(2,a.value=i.getTime()>0?We(i):"",a)},[i,s,a,u,r]}class zt extends x{constructor(e){super(),$(this,e,ht,mt,Z,{dateValue:0,initialValue:1})}}function _t(n){let e;return{c(){e=R("Timestamp:")},l(t){e=L(t,"Timestamp:")},m(t,i){E(t,e,i)},d(t){t&&_(e)}}}function vt(n){let e,t,i,s,a,u,r;return t=new te({props:{for_:ge,$$slots:{default:[_t]},$$scope:{ctx:n}}}),{c(){e=T("div"),K(t.$$.fragment),i=A(),s=T("input"),this.h()},l(l){e=k(l,"DIV",{class:!0});var o=I(e);G(t.$$.fragment,o),i=P(o),s=k(o,"INPUT",{id:!0,class:!0,name:!0,type:!0}),o.forEach(_),this.h()},h(){d(s,"id",ge),d(s,"class","bg-gray-50 border border-gray-300 text-gray-900 text-base rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 svelte-wm7fn4"),d(s,"name",ge),d(s,"type","datetime-local"),y(s,"unsaved-changes",n[1]!==void 0&&n[1]!==n[0]),d(e,"class","container svelte-wm7fn4")},m(l,o){E(l,e,o),W(t,e,null),b(e,i),b(e,s),H(s,n[0]),a=!0,u||(r=F(s,"input",n[2]),u=!0)},p(l,[o]){const f={};o&8&&(f.$$scope={dirty:o,ctx:l}),t.$set(f),o&1&&H(s,l[0]),(!a||o&3)&&y(s,"unsaved-changes",l[1]!==void 0&&l[1]!==l[0])},i(l){a||(O(t.$$.fragment,l),a=!0)},o(l){z(t.$$.fragment,l),a=!1},d(l){l&&_(e),X(t),u=!1,r()}}}const ge="timestamp";function gt(n,e,t){let{value:i}=e,{initialValue:s=void 0}=e;function a(){i=this.value,t(0,i)}return n.$$set=u=>{"value"in u&&t(0,i=u.value),"initialValue"in u&&t(1,s=u.initialValue)},[i,s,a]}class Ut extends x{constructor(e){super(),$(this,e,gt,vt,Z,{value:0,initialValue:1})}}function pt(n){let e,t;const i=n[1].default,s=Ie(i,n,n[0],null);return{c(){e=T("div"),s&&s.c(),this.h()},l(a){e=k(a,"DIV",{class:!0});var u=I(e);s&&s.l(u),u.forEach(_),this.h()},h(){d(e,"class","my-container svelte-u1surm")},m(a,u){E(a,e,u),s&&s.m(e,null),t=!0},p(a,[u]){s&&s.p&&(!t||u&1)&&Ne(s,i,a,a[0],t?Fe(i,a[0],u,null):De(a[0]),null)},i(a){t||(O(s,a),t=!0)},o(a){z(s,a),t=!1},d(a){a&&_(e),s&&s.d(a)}}}function bt(n,e,t){let{$$slots:i={},$$scope:s}=e;return n.$$set=a=>{"$$scope"in a&&t(0,s=a.$$scope)},[s,i]}class Ht extends x{constructor(e){super(),$(this,e,bt,pt,Z,{})}}function Ct(n){let e;return{c(){e=R(n[1])},l(t){e=L(t,n[1])},m(t,i){E(t,e,i)},p(t,i){i&2&&ee(e,t[1])},d(t){t&&_(e)}}}function Tt(n){let e,t,i,s,a,u='<svg fill="none" viewBox="0 0 18 2" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1e2wij5"><path d="M1 1h16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',r,l,o,f,h='<svg fill="none" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="svelte-1e2wij5"><path d="M9 1v16M1 9h16" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg>',C,m,w;return t=new te({props:{for_:n[2],$$slots:{default:[Ct]},$$scope:{ctx:n}}}),{c(){e=T("div"),K(t.$$.fragment),i=A(),s=T("div"),a=T("button"),a.innerHTML=u,r=A(),l=T("input"),o=A(),f=T("button"),f.innerHTML=h,this.h()},l(c){e=k(c,"DIV",{class:!0});var g=I(e);G(t.$$.fragment,g),i=P(g),s=k(g,"DIV",{class:!0});var N=I(s);a=k(N,"BUTTON",{id:!0,class:!0,tabindex:!0,type:!0,"data-svelte-h":!0}),Y(a)!=="svelte-14vipen"&&(a.innerHTML=u),r=P(N),l=k(N,"INPUT",{id:!0,autocomplete:!0,name:!0,type:!0,class:!0}),o=P(N),f=k(N,"BUTTON",{id:!0,class:!0,tabindex:!0,type:!0,"data-svelte-h":!0}),Y(f)!=="svelte-vdxn36"&&(f.innerHTML=h),N.forEach(_),g.forEach(_),this.h()},h(){d(a,"id","decrement-button"),d(a,"class","minus-button svelte-1e2wij5"),d(a,"tabindex","-1"),d(a,"type","button"),y(a,"unsaved-changes",n[3]!==void 0&&n[3]!==n[0]),d(l,"id",n[2]),d(l,"autocomplete","off"),d(l,"name",n[2]),d(l,"type","text"),d(l,"class","svelte-1e2wij5"),y(l,"unsaved-changes",n[3]!==void 0&&n[3]!==n[0]),d(f,"id","increment-button"),d(f,"class","plus-button svelte-1e2wij5"),d(f,"tabindex","-1"),d(f,"type","button"),y(f,"unsaved-changes",n[3]!==void 0&&n[3]!==n[0]),d(s,"class","input-container svelte-1e2wij5"),d(e,"class","container svelte-1e2wij5")},m(c,g){E(c,e,g),W(t,e,null),b(e,i),b(e,s),b(s,a),b(s,r),b(s,l),H(l,n[0]),b(s,o),b(s,f),C=!0,m||(w=[F(a,"click",n[5]),F(l,"input",n[10]),F(l,"focusin",wt),F(l,"focusout",n[4]),F(l,"keydown",kt),F(f,"click",n[6])],m=!0)},p(c,[g]){const N={};g&4&&(N.for_=c[2]),g&4098&&(N.$$scope={dirty:g,ctx:c}),t.$set(N),(!C||g&9)&&y(a,"unsaved-changes",c[3]!==void 0&&c[3]!==c[0]),(!C||g&4)&&d(l,"id",c[2]),(!C||g&4)&&d(l,"name",c[2]),g&1&&l.value!==c[0]&&H(l,c[0]),(!C||g&9)&&y(l,"unsaved-changes",c[3]!==void 0&&c[3]!==c[0]),(!C||g&9)&&y(f,"unsaved-changes",c[3]!==void 0&&c[3]!==c[0])},i(c){C||(O(t.$$.fragment,c),C=!0)},o(c){z(t.$$.fragment,c),C=!1},d(c){c&&_(e),X(t),m=!1,be(w)}}}function kt(n){const e=n.key;if(e!=="Tab"&&(e<"0"||e>"9")&&e!=="."&&e!=="Backspace"&&e!=="Delete"&&e!=="ArrowLeft"&&e!=="ArrowRight"){n.preventDefault();return}}function wt(n){const e=n.currentTarget.value.length;n.currentTarget.setSelectionRange(0,e)}function St(n,e,t){let{value:i=0}=e,{labelText:s=""}=e,{nameAttr:a=""}=e,{initialValue:u=void 0}=e,{min:r=0}=e,{max:l=Number.MAX_SAFE_INTEGER}=e,{step:o=1}=e;function f(c){m(c.currentTarget.value)}function h(){m(i),i>=r+o&&t(0,i-=o)}function C(){m(i),i<=l-o&&t(0,i+=o)}function m(c){const g=Number(c);if(isNaN(g)){t(0,i=r);return}if(g>l){t(0,i=l);return}if(g<r){t(0,i=r);return}if(g%o!==0){t(0,i=Math.floor(g/o)*o);return}t(0,i=g)}function w(){i=this.value,t(0,i)}return n.$$set=c=>{"value"in c&&t(0,i=c.value),"labelText"in c&&t(1,s=c.labelText),"nameAttr"in c&&t(2,a=c.nameAttr),"initialValue"in c&&t(3,u=c.initialValue),"min"in c&&t(7,r=c.min),"max"in c&&t(8,l=c.max),"step"in c&&t(9,o=c.step)},[i,s,a,u,f,h,C,r,l,o,w]}class qt extends x{constructor(e){super(),$(this,e,St,Tt,Z,{value:0,labelText:1,nameAttr:2,initialValue:3,min:7,max:8,step:9})}}function Bt(n){let e;return{c(){e=R(n[2])},l(t){e=L(t,n[2])},m(t,i){E(t,e,i)},p(t,i){i&4&&ee(e,t[2])},d(t){t&&_(e)}}}function Vt(n){let e,t,i,s,a,u,r,l;return t=new te({props:{for_:n[3],$$slots:{default:[Bt]},$$scope:{ctx:n}}}),{c(){e=T("div"),K(t.$$.fragment),i=A(),s=T("div"),a=T("input"),this.h()},l(o){e=k(o,"DIV",{class:!0});var f=I(e);G(t.$$.fragment,f),i=P(f),s=k(f,"DIV",{class:!0});var h=I(s);a=k(h,"INPUT",{id:!0,autocomplete:!0,name:!0,type:!0,class:!0}),h.forEach(_),f.forEach(_),this.h()},h(){d(a,"id",n[3]),d(a,"autocomplete","off"),d(a,"name",n[3]),d(a,"type","text"),d(a,"class","svelte-gu4wl8"),y(a,"unsaved-changes",n[1]!==void 0&&n[1]!==n[0].trim()),d(s,"class","input-container svelte-gu4wl8"),d(e,"class","my-container svelte-gu4wl8")},m(o,f){E(o,e,f),W(t,e,null),b(e,i),b(e,s),b(s,a),H(a,n[0]),u=!0,r||(l=F(a,"input",n[4]),r=!0)},p(o,[f]){const h={};f&8&&(h.for_=o[3]),f&36&&(h.$$scope={dirty:f,ctx:o}),t.$set(h),(!u||f&8)&&d(a,"id",o[3]),(!u||f&8)&&d(a,"name",o[3]),f&1&&a.value!==o[0]&&H(a,o[0]),(!u||f&3)&&y(a,"unsaved-changes",o[1]!==void 0&&o[1]!==o[0].trim())},i(o){u||(O(t.$$.fragment,o),u=!0)},o(o){z(t.$$.fragment,o),u=!1},d(o){o&&_(e),X(t),r=!1,l()}}}function Et(n,e,t){let{value:i=""}=e,{initialValue:s=void 0}=e,{labelText:a=""}=e,{nameAttr:u=""}=e;function r(){i=this.value,t(0,i)}return n.$$set=l=>{"value"in l&&t(0,i=l.value),"initialValue"in l&&t(1,s=l.initialValue),"labelText"in l&&t(2,a=l.labelText),"nameAttr"in l&&t(3,u=l.nameAttr)},[i,s,a,u,r]}class Kt extends x{constructor(e){super(),$(this,e,Et,Vt,Z,{value:0,initialValue:1,labelText:2,nameAttr:3})}}export{Ot as C,Rt as D,Ht as F,qt as N,zt as R,Ut as T,Lt as a,Kt as b,jt as p};
