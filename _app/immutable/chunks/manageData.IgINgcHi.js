import{i as c,j as d,C as i,S as m,R as o,d as u,E as f,k as D,D as E,o as b,f as g,h as w,l as S}from"./core.D-38Eqyu.js";const h=[c.create({name:"Rwanda Mabanza",description:"Washed process. Dark plum, dark cherry notes. (demo)"}),c.create({name:"Colombia El Refugio",description:"Natural process. Berry notes. (demo)"}),c.create({name:"Ethiopia Yirgacheffe",description:"Washed process. Grassy notes. (demo)"})];function B(e){return[new d({coffeeBeansId:e,roastDate:void 0,bagNumber:"",recipeTarget:"17g + 270g. 5m boil.",recipeResult:"2m10s + 15s drip.",outWeight:230,favorite:!1,rating:3.5,recipeThoughts:"Can be better.",timestamp:new Date(2023,12,20)}),new d({coffeeBeansId:e,roastDate:void 0,bagNumber:"",recipeTarget:"18g + 290g. 5m boil.",recipeResult:"2m10s + 15s drip.",outWeight:235,favorite:!1,rating:4,recipeThoughts:"It's better.",timestamp:new Date(2023,12,23)}),new d({coffeeBeansId:e,roastDate:void 0,bagNumber:"",recipeTarget:"20g + 300g. 5m boil.",recipeResult:"2m30s + 5s drip.",outWeight:240,favorite:!0,rating:4.5,recipeThoughts:"It's great.",timestamp:new Date(2023,12,26)})]}async function C(e){const t=await e.objectStore(i).index(m).getAll();for(const a of t){const r=await e.objectStore(o).index(u).getAll(a.id);for(const s of r)await e.objectStore(o).delete(s.id);await e.objectStore(i).delete(a.id),await e.objectStore(f).delete(a.id)}}async function R(e){const t=await e.objectStore(o).index(m).getAll();for(const a of t)await e.objectStore(o).delete(a.id)}async function N(){await D(E)}async function I(){const t=(await b()).transaction([i,o,f],"readwrite");for(const a of h){const r=new g(a);let s;try{s=await t.objectStore(i).add(r)}catch(n){return t.abort(),console.error(n),"TransactionAborted"}const p=B(s);for(const n of p){const l=new w(n);await t.objectStore(o).add(l)}}await S(t),await t.done}async function j(){const t=(await b()).transaction([i,o,f],"readwrite");await R(t),await C(t),await t.done}export{C as a,j as b,N as d,I as f,R as v};
