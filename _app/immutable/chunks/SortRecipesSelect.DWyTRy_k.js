import{s as Pe,j as Re,n as be}from"./scheduler.vcOl-ZmV.js";import{S as We,i as Se,k as Fe,m as Le,n as Ae,q as we,o as Ge,r as je,e as d,t as g,s as O,c as _,a as v,b as k,d as c,f as T,y,g as z,h as n,j as F,z as qe,I as ye,A as ze,D as He,J as Je}from"./index.RQKtCNd3.js";import{n as he}from"./naming.kUvCv0xb.js";import{x as Ie}from"./indexedDB.DSM7SfQo.js";import{C as Ke,s as Ve,b as Me,c as Ue,d as Qe,e as Xe}from"./NoItemsYetP.VQBBPxGQ.js";import{e as Ne,u as Ye,d as Ze}from"./each.bu9aILCH.js";function Oe(a){let e,t=a[0].rating+"",r,i;return{c(){e=d("p"),r=g(t),i=g("⭐")},l(s){e=_(s,"P",{});var l=v(e);r=k(l,t),i=k(l,"⭐"),l.forEach(c)},m(s,l){z(s,e,l),n(e,r),n(e,i)},p(s,l){l&1&&t!==(t=s[0].rating+"")&&F(r,t)},d(s){s&&c(e)}}}function Te(a){let e,t=a[0].outWeight+"",r,i;return{c(){e=d("p"),r=g(t),i=g("g ☕")},l(s){e=_(s,"P",{});var l=v(e);r=k(l,t),i=k(l,"g ☕"),l.forEach(c)},m(s,l){z(s,e,l),n(e,r),n(e,i)},p(s,l){l&1&&t!==(t=s[0].outWeight+"")&&F(r,t)},d(s){s&&c(e)}}}function $e(a){let e,t,r,i,s=Ie(a[0].timestamp)+"",l,W,f,D,N,P,o,u,p,I,_e=he.recipe.recipeTarget+"",Z,$,x,L,G=a[0].recipeTarget+"",H,ee,S,V,ve=he.recipe.recipeResult+"",te,ae,se,A,j=a[0].recipeResult+"",J,le,C,R,pe=he.recipe.recipeThoughts+"",re,ne,ie,w,q=a[0].recipeThoughts+"",K,E=a[0].rating>0&&Oe(a),b=a[0].outWeight>0&&Te(a);return{c(){e=d("div"),t=d("div"),r=d("p"),i=g("🕒 "),l=g(s),W=O(),f=d("div"),E&&E.c(),D=O(),b&&b.c(),N=O(),P=d("h5"),o=g(a[1]),u=O(),p=d("div"),I=d("p"),Z=g(_e),$=g(":"),x=O(),L=d("p"),H=g(G),ee=O(),S=d("div"),V=d("p"),te=g(ve),ae=g(":"),se=O(),A=d("p"),J=g(j),le=O(),C=d("div"),R=d("p"),re=g(pe),ne=g(":"),ie=O(),w=d("p"),K=g(q),this.h()},l(m){e=_(m,"DIV",{class:!0});var h=v(e);t=_(h,"DIV",{class:!0});var M=v(t);r=_(M,"P",{});var oe=v(r);i=k(oe,"🕒 "),l=k(oe,s),oe.forEach(c),W=T(M),f=_(M,"DIV",{class:!0});var U=v(f);E&&E.l(U),D=T(U),b&&b.l(U),U.forEach(c),M.forEach(c),N=T(h),P=_(h,"H5",{class:!0});var me=v(P);o=k(me,a[1]),me.forEach(c),u=T(h),p=_(h,"DIV",{});var Q=v(p);I=_(Q,"P",{class:!0});var ce=v(I);Z=k(ce,_e),$=k(ce,":"),ce.forEach(c),x=T(Q),L=_(Q,"P",{class:!0});var ge=v(L);H=k(ge,G),ge.forEach(c),Q.forEach(c),ee=T(h),S=_(h,"DIV",{});var X=v(S);V=_(X,"P",{class:!0});var fe=v(V);te=k(fe,ve),ae=k(fe,":"),fe.forEach(c),se=T(X),A=_(X,"P",{class:!0});var ke=v(A);J=k(ke,j),ke.forEach(c),X.forEach(c),le=T(h),C=_(h,"DIV",{});var Y=v(C);R=_(Y,"P",{class:!0});var ue=v(R);re=k(ue,pe),ne=k(ue,":"),ue.forEach(c),ie=T(Y),w=_(Y,"P",{class:!0});var Ee=v(w);K=k(Ee,q),Ee.forEach(c),Y.forEach(c),h.forEach(c),this.h()},h(){y(f,"class","right-header-horizontal svelte-1tak70c"),y(t,"class","header svelte-1tak70c"),y(P,"class","svelte-1tak70c"),y(I,"class","label svelte-1tak70c"),y(L,"class","content svelte-1tak70c"),y(V,"class","label svelte-1tak70c"),y(A,"class","content svelte-1tak70c"),y(R,"class","label svelte-1tak70c"),y(w,"class","content svelte-1tak70c"),y(e,"class","card-content svelte-1tak70c")},m(m,h){z(m,e,h),n(e,t),n(t,r),n(r,i),n(r,l),n(t,W),n(t,f),E&&E.m(f,null),n(f,D),b&&b.m(f,null),n(e,N),n(e,P),n(P,o),n(e,u),n(e,p),n(p,I),n(I,Z),n(I,$),n(p,x),n(p,L),n(L,H),n(e,ee),n(e,S),n(S,V),n(V,te),n(V,ae),n(S,se),n(S,A),n(A,J),n(e,le),n(e,C),n(C,R),n(R,re),n(R,ne),n(C,ie),n(C,w),n(w,K)},p(m,h){h&1&&s!==(s=Ie(m[0].timestamp)+"")&&F(l,s),m[0].rating>0?E?E.p(m,h):(E=Oe(m),E.c(),E.m(f,D)):E&&(E.d(1),E=null),m[0].outWeight>0?b?b.p(m,h):(b=Te(m),b.c(),b.m(f,null)):b&&(b.d(1),b=null),h&2&&F(o,m[1]),h&1&&G!==(G=m[0].recipeTarget+"")&&F(H,G),h&1&&j!==(j=m[0].recipeResult+"")&&F(J,j),h&1&&q!==(q=m[0].recipeThoughts+"")&&F(K,q)},d(m){m&&c(e),E&&E.d(),b&&b.d()}}}function xe(a){let e,t;return e=new Ke({props:{href:a[2],$$slots:{default:[$e]},$$scope:{ctx:a}}}),{c(){Fe(e.$$.fragment)},l(r){Le(e.$$.fragment,r)},m(r,i){Ae(e,r,i),t=!0},p(r,[i]){const s={};i&4&&(s.href=r[2]),i&11&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(we(e.$$.fragment,r),t=!0)},o(r){Ge(e.$$.fragment,r),t=!1},d(r){je(e,r)}}}function et(a,e,t){let{recipe:r}=e,{coffeeBeansName:i}=e,{href:s}=e;return a.$$set=l=>{"recipe"in l&&t(0,r=l.recipe),"coffeeBeansName"in l&&t(1,i=l.coffeeBeansName),"href"in l&&t(2,s=l.href)},[r,i,s]}class ht extends We{constructor(e){super(),Se(this,e,et,xe,Pe,{recipe:0,coffeeBeansName:1,href:2})}}var B=(a=>(a[a.Latest=0]="Latest",a[a.Earliest=1]="Earliest",a[a.GreatestRating=2]="GreatestRating",a[a.BiggerWeight=3]="BiggerWeight",a[a.SmallerWeight=4]="SmallerWeight",a))(B||{});function tt(a){const e=Ce(a),t=localStorage.getItem(e);if(t===null)return B.Latest;const r=Number.parseInt(t);return Number.isNaN(r)?B.Latest:r in B?r:(console.warn("loadSortOrder function read value from LocalStorage not present in RecipesSortOrderEnum."),B.Latest)}function at(a,e){const t=Ce(a);localStorage.setItem(t,e)}function Ce(a){return`sortOrder_${a}`}function Be(a,e,t){const r=a.slice();return r[5]=e[t],r}function De(a,e){let t,r=e[5].key+"",i;return{key:a,first:null,c(){t=d("option"),i=g(r),this.h()},l(s){t=_(s,"OPTION",{});var l=v(t);i=k(l,r),l.forEach(c),this.h()},h(){t.__value=e[5].value,He(t,t.__value),this.first=t},m(s,l){z(s,t,l),n(t,i)},p(s,l){e=s},d(s){s&&c(t)}}}function st(a){let e,t,r="Sorted by",i,s,l=[],W=new Map,f,D,N=Ne(de);const P=o=>o[5].value;for(let o=0;o<N.length;o+=1){let u=Be(a,N,o),p=P(u);W.set(p,l[o]=De(p,u))}return{c(){e=d("div"),t=d("p"),t.textContent=r,i=O(),s=d("select");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){e=_(o,"DIV",{class:!0});var u=v(e);t=_(u,"P",{class:!0,"data-svelte-h":!0}),qe(t)!=="svelte-1ft4ueu"&&(t.textContent=r),i=T(u),s=_(u,"SELECT",{id:!0,class:!0,name:!0});var p=v(s);for(let I=0;I<l.length;I+=1)l[I].l(p);p.forEach(c),u.forEach(c),this.h()},h(){y(t,"class","svelte-p5ss66"),y(s,"id",a[1]),y(s,"class","valid svelte-p5ss66"),y(s,"name",a[1]),a[0]===void 0&&Re(()=>a[4].call(s)),y(e,"class","select-container svelte-p5ss66")},m(o,u){z(o,e,u),n(e,t),n(e,i),n(e,s);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(s,null);ye(s,a[0],!0),f||(D=ze(s,"change",a[4]),f=!0)},p(o,[u]){u&0&&(N=Ne(de),l=Ye(l,u,P,1,o,N,W,s,Ze,De,null,Be)),u&1&&ye(s,o[0])},i:be,o:be,d(o){o&&c(e);for(let u=0;u<l.length;u+=1)l[u].d();f=!1,D()}}}const lt="sort-recipes-",de=[{value:B.Latest,key:"latest",sortOrderFunc:Ve},{value:B.Earliest,key:"earliest",sortOrderFunc:Me},{value:B.GreatestRating,key:"best rating",sortOrderFunc:Ue},{value:B.BiggerWeight,key:"more coffee",sortOrderFunc:Qe},{value:B.SmallerWeight,key:"less coffee",sortOrderFunc:Xe}];function rt(a,e,t){let{pageName:r}=e;const i=lt+r;let{sortOrderValue:s}=e,l=tt(i);function W(){l=Je(this),t(0,l)}return a.$$set=f=>{"pageName"in f&&t(3,r=f.pageName),"sortOrderValue"in f&&t(2,s=f.sortOrderValue)},a.$$.update=()=>{var f;if(a.$$.dirty&1){const D=((f=de.find(N=>N.value===l))==null?void 0:f.sortOrderFunc)??Ve;t(2,s={value:l,sortOrderFunc:D}),at(i,l)}},[l,i,s,r,W]}class dt extends We{constructor(e){super(),Se(this,e,rt,st,Pe,{pageName:3,sortOrderValue:2})}}export{ht as R,dt as S};
